(this["webpackJsonpblocks-webapp"]=this["webpackJsonpblocks-webapp"]||[]).push([[0],[,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"d",(function(){return S})),n.d(e,"c",(function(){return M})),n.d(e,"t",(function(){return I})),n.d(e,"o",(function(){return E})),n.d(e,"v",(function(){return L})),n.d(e,"j",(function(){return A})),n.d(e,"g",(function(){return R})),n.d(e,"m",(function(){return P})),n.d(e,"b",(function(){return F})),n.d(e,"q",(function(){return V})),n.d(e,"f",(function(){return D})),n.d(e,"r",(function(){return K})),n.d(e,"h",(function(){return _})),n.d(e,"k",(function(){return J})),n.d(e,"n",(function(){return q})),n.d(e,"s",(function(){return B})),n.d(e,"u",(function(){return U})),n.d(e,"p",(function(){return W})),n.d(e,"l",(function(){return G})),n.d(e,"e",(function(){return H})),n.d(e,"i",(function(){return X}));var o=n(4),a=n(10),r=n(6),i=n(14),c=n(15),u=n(49),s=n(1),p=n(29),l=n(2);function d(t){var e=t.control,n=t.bindInput,o=t.validation,a=o.min,i=o.max,c=o.step,u=Object(p.a)(e),s=Object(r.a)(u,2),d=s[0],f=s[1];return Object(l.jsx)("input",{type:"number",style:{width:"4em"},ref:n,min:a,max:i,step:c,value:d||0,onChange:function(t){return f(t.target.value)}})}var f=n(12),v=n(9),b=n(11),m=n.n(b),y=n(34),j=n(61),g=["value","constraintType","abstract","invalid","onChange"];function h(t){var e,n,r,i,c=t.value,u=t.constraintType,p=t.abstract,d=t.invalid,b=t.onChange,O=Object(a.a)(t,g);u=u||S;var k=Object(f.a)(N.values()).filter((function(t){return(p||!t.data.abstract)&&u.isSubtype(t)})),x=Object(s.useContext)(v.g);if(c)try{c=X(c)}catch(w){b(c=void 0),x.emit(v.c,w)}return d=d||!c||!k.some((function(t){return t.isSubtype(c)})),Object(y.a)(),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("select",Object(o.a)(Object(o.a)({className:m()(d&&"invalid"),value:null===(e=c)||void 0===e?void 0:e.name,onChange:function(t){return b(X(t.target.value))}},O),{},{children:[d&&Object(l.jsx)("option",{label:"(Type)",value:null===(n=c)||void 0===n?void 0:n.name}),k.map((function(t){return Object(l.jsx)("option",{label:t.name,value:t.name},t.name)}))]})),Object(l.jsx)("div",{className:"ps-2",children:null===(r=c)||void 0===r||null===(i=r.generics)||void 0===i?void 0:i.map((function(t,e){var n;return Object(l.jsx)(h,{value:t,constraintType:c.data.baseType.generics[e],abstract:p,"data-tip":Object(j.a)(null===(n=c.data.genericNames)||void 0===n?void 0:n[e]),onChange:function(t){var n=Object(f.a)(c.generics);n.splice(e,1,t),b(X(Object(o.a)(Object(o.a)({},c.toJSON()),{},{generics:n})))}},e)}))})]})}var O=n(20),k=n(62),x=n(35);var w=["generics","meta"],T=["abstract","arbitraryGenerics"],C=function(){function t(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(Object(i.a)(this,t),e instanceof t)throw new Error("Type cannot be named ".concat(e));this.name=e,this.parent=n,this.generics=o.map((function(t){return X(t)})),this.data=a,this.meta=r}return Object(c.a)(t,[{key:"toJSON",value:function(){return{name:this.name,generics:this.generics.map((function(t){return t.toJSON()}))}}},{key:"of",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return X(this,e)}},{key:"withMeta",value:function(t){var e=Z(this.name,this,this.generics);return Object.assign(e.meta,t),e}},{key:"isAbstract",value:function(){return this.data.abstract||this.generics.some((function(t){return t.isAbstract()}))}},{key:"getDefaultValue",value:function(){var t=this.data.defaultValue;return"function"===typeof t?t(this):t}},{key:"equals",value:function(t){return this.name===t.name&&this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.equals(t.generics[n])}))}},{key:"isSubtype",value:function(t){return!!t&&(!(!this.data.arbitraryGenerics||!t.parent||this.name!==t.parent.name)||(this.name===t.name?this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.isSubtype(t.generics[n])})):!!t.parent&&this.isSubtype(t.parent)))}},{key:"getSharedType",value:function(t){if(t)return this===t||this.isSubtype(t)?this:t.isSubtype(this)?t:this.parent?this.parent.getSharedType(t):void 0}},{key:"toTypeString",value:function(){var t,e;return null!==(t=null===(e=this.data.toTypeString)||void 0===e?void 0:e.call(this))&&void 0!==t?t:this.name+(this.generics.length?"<"+this.generics.map((function(t){return t.toTypeString()})).join(", ")+">":"")}},{key:"toString",value:function(){return"Type(".concat(this.toTypeString(),")")}}]),t}(),N=new Map,S=$("Any",{abstract:!0,category:"default",reversed:!1}),M=$("AnyReversed",{abstract:!0,category:"default",reversed:!0}),I=$("Type",{parent:S,category:"types",controlType:function(t){var e=t.abstract,n=t.control,o=t.bindInput,a=Object(p.a)(n),i=Object(r.a)(a,2),c=i[0],u=i[1],s=n.config.type.generics[0],d=!n.validate(c);return Object(l.jsx)("div",{ref:o,children:Object(l.jsx)(h,{value:c,constraintType:s,abstract:e,invalid:d,onChange:u})})},defaultValue:function(t){return t.generics[0]},generics:[S]}),E=$("Node",{parent:S,category:"nodes",controlType:function(t){var e,n=t.editor,o=t.control,a=t.bindInput,i=Object(p.a)(o),c=Object(r.a)(i,2),u=c[0],d=c[1],b=Object(s.useState)((function(){return Object(f.a)(n.nodes)})),y=Object(r.a)(b,2),j=y[0],g=y[1],h=Object(s.useContext)(v.g);Object(O.a)(h,v.a,(function(){return g(Object(f.a)(n.nodes))}));var w=null===(e=o.config.type)||void 0===e?void 0:e.meta.block,T=w&&(Array.isArray(w)?w:[w]).map((function(t){var e="string"===typeof t?t:t.name;return Object(x.b)(e),e}));T&&(j=j.filter((function(t){return!T||T.includes(t.name)})));var C=!u||!j.some((function(t){return String(t.id)===String(u)&&(!T||T.includes(t.name))}));return Object(l.jsxs)("select",{ref:a,className:m()(C&&"invalid"),style:{maxWidth:"100%"},value:u,onChange:function(t){return d(t.target.value||void 0)},children:[Object(l.jsx)("option",{label:"(Select a Node)",value:void 0},-1),j.map((function(t){return Object(l.jsx)("option",{label:Object(k.a)(t,n),value:t.id},t.id)}))]})},toTypeString:function(){return this.meta.block?"Node{block=".concat(JSON.stringify(this.meta.block),"}"):"Node"}}),L=$("Value",{abstract:!0,parent:S,category:"values"}),A=$("Identifier",{parent:S,controlType:u.a,validation:{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/}}),R=$("Effect",{parent:M,category:"effects",generics:[L],toMotoko:function(t){return Object(r.a)(t,1)[0]}}),P=$("Member",{parent:M,singleOutput:!0,category:"members"}),F=$("Actor",{parent:M,singleOutput:!0,category:"actors"}),V=($("Module",{parent:M,singleOutput:!0,category:"modules"}),$("Param",{parent:M,category:"parameters"})),D=$("Bool",{parent:L,controlType:function(t){var e=t.control,n=t.bindInput,o=Object(p.a)(e),a=Object(r.a)(o,2),i=a[0],c=a[1];return Object(l.jsxs)("label",{ref:n,children:[Object(l.jsx)("input",{type:"checkbox",checked:!!i,onChange:function(t){return c(t.target.checked)}}),Object(l.jsx)("span",{className:"input-title my-0",style:{verticalAlign:"top"},children:e.name})]})},defaultValue:!1}),K=($("Char",{parent:L,controlType:u.a,validation:{minLength:1,maxLength:1}}),$("Text",{parent:L,controlType:u.a,defaultValue:""})),_=$("Float",{parent:L,controlType:d,defaultValue:0}),J=$("Int",{parent:_,category:"integers",controlType:d,validation:{step:1}}),q=$("Nat",{parent:_,category:"naturals",validation:{step:1,min:0}}),B=($("Blob",{parent:L}),$("Principal",{parent:L}),$("Error",{parent:L}),$("Tuple",{abstract:!0,arbitraryGenerics:!0,parent:L,category:"tuples",toTypeString:function(){return this===B?this.name:"(".concat(this.generics.map((function(t){return t.toTypeString()})).join(", "),")")}})),U=B.of(),W=($("Object",{abstract:!0,arbitraryGenerics:!0,parent:L,category:"objects",toTypeString:function(){var t=this;return"(".concat(this.generics.map((function(e,n){return"".concat(t.genericNames[n],": ").concat(e.toTypeString())})).join(", "),")")}}),$("Function",{parent:L,generics:[L,L],genericNames:["input","output"],category:"functions",toTypeString:function(){return"".concat(this.generics[0].toTypeString()," -> ").concat(this.generics[1].toTypeString())}}),$("Optional",{parent:L,generics:[L],category:"optionals",toMotoko:function(t){var e=Object(r.a)(t,1)[0];return"?".concat(e)}})),z=$("Collection",{abstract:!0,parent:L,category:"collections"}),G=($("Array",{parent:z,generics:[L],genericNames:["item"],toMotoko:function(t){var e=Object(r.a)(t,1)[0];return"Array.Array<".concat(e,">")}}),$("Map",{parent:z,generics:[L,L],genericNames:["key","value"],toMotoko:function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];return"HashMap.HashMap<".concat(n,", ").concat(o,">")}})),H=$("Async",{parent:L,generics:[L],category:"futures",toMotoko:function(t){var e=Object(r.a)(t,1)[0];return"async ".concat(e)}});function $(t,e){var n=e.parent,o=e.generics,r=void 0===o?[]:o,i=e.meta,c=void 0===i?{}:i,u=Z(t,n,r,Object(a.a)(e,w),c);return u.data.baseType=u,N.set(t,u),u}function Y(t,e){if("string"===typeof t&&(t=X(t)),(!e||!e.length||e===t.generics)&&!t.data.arbitraryGenerics)return X(t);var n=Z(t.name,t,e);if(!t.isSubtype(n))throw new Error("Generics not assignable to ".concat(t.toTypeString()," from ").concat(n.toTypeString()));return n}function Z(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=e?e.data:{},u=(c.abstract,c.arbitraryGenerics,Object(a.a)(c,T)),s=e?e.meta:{};return new C(t,e||null,n||(e?e.generics:[]),Object(o.a)(Object(o.a)({},u),r),Object(o.a)(Object(o.a)({},s),i))}function X(t,e){if(arguments.length>1)return Y(t,e);if(t instanceof C)return t;if("object"===typeof t)return Y(t.name,(t.generics||[]).map((function(t){return X(t)})));if(!t)throw new Error("Invalid type: ".concat(t));if(!N.has(t))throw new Error("Unknown type: ".concat(t));return N.get(t)}},,,,function(t,e,n){"use strict";n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"m",(function(){return f})),n.d(e,"h",(function(){return v})),n.d(e,"l",(function(){return b})),n.d(e,"n",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return j})),n.d(e,"g",(function(){return g})),n.d(e,"k",(function(){return h})),n.d(e,"a",(function(){return O})),n.d(e,"f",(function(){return k})),n.d(e,"j",(function(){return x})),n.d(e,"d",(function(){return w}));var o=n(4),a=n(10),r=n(14),i=n(13),c=["name","parent"],u=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(r.a)(this,t),this.name=e,this.parent=n,this.root=n?n.root:this,this.data=o},s=new Map;function p(t){var e=t.name,n=t.parent,r=Object(a.a)(t,c),i=new u(e,n,n?Object(o.a)(Object(o.a)({},n.data),r):r);return s.set(i.name,i),i}function l(t){if(t instanceof u)return t;if(!s.has(t))throw new Error("Could not find category with name: ".concat(t));return s.get(t)}var d=p("Default"),f=p({name:"State",color:"#3fd",icon:i.g}),v=p({name:"Function",color:"#fd3",icon:i.f}),b=p({name:"Param",color:"#a8f",icon:i.q}),m=p({name:"Type",color:"#2af",icon:i.x}),y=p({name:"Collection",color:"#1c8",icon:i.y}),j=p({name:"Compiler",color:"#f5a",icon:i.d}),g=p({name:"Expression",color:"#aaa",icon:i.i}),h=p({name:"Operator",icon:i.l}),O=p({name:"Actor",color:"#fa8",icon:i.o}),k=p({name:"Effect",icon:i.w}),x=p({name:"Literal",icon:i.t}),w=p({name:"Decomposition",icon:i.r})},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return l}));var o=n(1),a=n.n(o),r=n(59),i="editor-change",c="editor-save",u="project-export",s="project-load",p="project-clear",l="error",d=new(n.n(r).a);d.setMaxListeners(1e3),d.on(l,console.error),window.EVENTS=d,e.g=a.a.createContext(d)},,,,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return s}));var o=n(6),a=n(3),r=n(7);function i(t,e,n){return t=Object(a.i)(t),{topRight:"result",title:"(".concat(e," a)"),category:r.k,inputs:[{key:"input",title:"a",type:t}],outputs:[{key:"result",type:t,toMotoko:function(t){var n=t.input;return"".concat(e,"(").concat(n,")")}}]}}function c(t,e,n){var i=Array.isArray(t)?t:[t,t],c=Object(o.a)(i,2),u=c[0],s=c[1];return u=Object(a.i)(u),s=Object(a.i)(s),{topRight:"result",title:"(a ".concat(e," b)"),category:r.k,inputs:[{key:"left",title:"a",type:u},{key:"right",title:"b",type:u}],outputs:[{key:"result",type:s,toMotoko:function(t){var n=t.left,o=t.right;return"(".concat(n," ").concat(e," ").concat(o,")")}}]}}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.apply(void 0,[a.h].concat(e))}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.apply(void 0,[[a.h,a.f]].concat(e))}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(1);function a(t,e,n,a){return Object(o.useEffect)((function(){if(t){var o="addEventListener"in t;return o?t.addEventListener(e,n,a):t.on(e,n,a),function(){o?t.removeEventListener(e,n):t.off(e,n)}}})),n}},,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var o=n(12),a=n(4),r=n(3),i=n(7),c=r.g.of(r.u);function u(t,e){var n={key:"before",type:r.g,inferType:function(t){return t.after||c},toMotoko:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var r=e.apply(void 0,[t].concat(o));if(void 0!==r){var i=t.after;return"".concat(r).concat(i?" "+i:"")}}};return Object(a.a)(Object(a.a)({category:i.f,topLeft:"before",topRight:"after"},t),{},{inputs:[].concat(Object(o.a)(t.inputs||[]),[{key:"after",type:r.g,optional:!0}]),outputs:[].concat(Object(o.a)(t.outputs||[]),[n])})}function s(t,e){return Object(a.a)(Object(a.a)({category:i.f,topLeft:"statement"},t),{},{outputs:[].concat(Object(o.a)(t.outputs||[]),[Object(a.a)({key:"statement",type:r.g},e)])})}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(6),a=n(1),r=n(20),i=n(9);function c(t){var e=t.getValue(),n=Object(a.useState)(e),c=Object(o.a)(n,2)[1],u=Object(a.useContext)(i.g);return Object(r.a)(u,i.a,(function(){var e;c(t.getValue()),null===(e=t.notifyEditorChange)||void 0===e||e.call(t)})),Object(r.a)(t.events,"update",(function(){return u.emit(i.a,t,e)})),[e,function(e){return t.setValue(e)}]}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o,a=n(1),r=n(44);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(a.useEffect)((function(){clearTimeout(o),o=setTimeout((function(){return r.a.rebuild()}))}),t),r.a}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return y}));var o=n(30),a=n(6),r=n(4),i=n(79),c=n(3),u=n(7),s=[],p=new Set,l=n(106);function d(t,e,n){if(e){var a,r=Object(o.a)(e);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(!i.key||t.props[i.key]!==i){if(t.props.hasOwnProperty(i.key))throw new Error("Duplicate prop in ".concat(t.name,": ").concat(i.key));i[n]=i[n]||!0,t.props[i.key]=i}}}catch(c){r.e(c)}finally{r.f()}}}l.keys().forEach((function(t){var e=Object(i.basename)(t,".js"),n=l(t).default;if(n=Object(r.a)({},n)){if(n.name=e,p.has(e))return void console.error("Duplicate block name: ".concat(e));n.category=n.category?Object(u.i)(n.category):u.e,n.props=n.props||{};for(var o=0,f=Object.entries(n.props);o<f.length;o++){var v=Object(a.a)(f[o],2),b=v[0],m=v[1];if(m.key&&m.key!==b)throw new Error("Prop key mismatch: ".concat(b," != ").concat(m.key));m.key=b}d(n,n.outputs,"output"),d(n,n.inputs,"input"),d(n,n.controls,"control"),n.inputs=[],n.outputs=[],n.controls=[];for(var y=0,j=Object.entries(n.props);y<j.length;y++){var g=Object(a.a)(j[y],2),h=g[0],O=g[1];O.key=h,O.output?n.outputs.includes(O)||n.outputs.push(O):O.input?n.inputs.includes(O)||n.inputs.push(O):O.control&&(n.controls.includes(O)||n.controls.push(O))}for(var k=0,x=Object.values(n.props);k<x.length;k++){var w=x[k];if(!w.type&&(w.input||w.output)&&w.control)throw console.log(w),new Error("Type not found for ".concat(n.name," : ").concat(w.key));w.type&&(w.type=Object(c.i)(w.type))}p.add(n.name),s.push(n)}}));var f=new Map(s.map((function(t){return[t.name,t]})));window.BLOCK_MAP=f;var v,b=Object(o.a)(f.values());try{var m=function(){var t=v.value;t.shortcuts?t.shortcuts.forEach((function(e){if(!e.block)throw new Error("Shortcut in ".concat(t.name," requires a `block` attribute"));e.block=y(e.block)})):t.shortcuts=[]};for(b.s();!(v=b.n()).done;)m()}catch(j){b.e(j)}finally{b.f()}function y(t){if(!t)throw new Error("Block cannot be ".concat(t));if("string"===typeof t){if(!f.has(t))throw new Error("Block does not exist: ".concat(t));return f.get(t)}return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(12),a=n(4),r=n(7);function i(t,e,n){return Object(a.a)(Object(a.a)({category:r.j,topRight:"value"},t),{},{outputs:[].concat(Object(o.a)(t.outputs||[]),[{key:"value",type:e,control:!0,toMotoko:function(t){var e=t.value;if(void 0!==e)return String(n?n(e):e)}}])})}},,function(t,e,n){"use strict";n.r(e),n.d(e,"stateReadIcon",(function(){return c})),n.d(e,"stateWriteIcon",(function(){return u}));var o=n(3),a=n(39),r=n(7),i=n(13),c=i.b,u=i.a,s=Object(a.b)({info:"A persistent smart contract variable",topRight:"value",category:r.m,computeTitle:function(t,e){var n=Object(a.a)(t,e),r=e.compilers.type.getInput(t,"initialValue")||o.u;return n&&"".concat(n,": ").concat(e.compilers.motoko.getTypeString(r))},shortcuts:[{block:"StateRead",nodeKey:"stateNode"},{block:"StateUpdate",nodeKey:"stateNode"}],inputs:[{key:"initialValue",type:o.v,optional:!0}],outputs:[{key:"value",type:o.v,toMotoko:function(t){return t.name},inferType:function(t){return t.initialValue}}],controls:[{key:"flexible",type:o.f}]},{toMotoko:function(t){var e=t.visibility,n=t.flexible,o=t.name,a=t.initialValue,r=["system"!==e&&e,!n&&"stable"].filter((function(t){return t})).join(" ");return"".concat(r&&r+" ").concat("var"," ").concat(o).concat(a?" = "+a:"",";")}});e.default=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var o=n(12),a=n(4),r=n(3),i=n(65);function c(t,e){return e.compilers.motoko.getInput(t,"name")}function u(t,e){return Object(a.a)(Object(a.a)({topLeft:"member"},t),{},{inputs:[{key:"name",type:r.j}].concat(Object(o.a)(t.inputs||[])),outputs:[Object(a.a)({key:"member",type:r.m},e)].concat(Object(o.a)(t.outputs||[])),controls:[Object(i.a)({key:"visibility"},["public","private","system"])].concat(Object(o.a)(t.controls||[]))})}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(174);function a(t){return t?t.title||Object(o.a)(t.name):""}},,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d}));var o=n(14),a=n(15),r=n(17),i=n(18),c=n(6),u=n(48),s=n(3);function p(t){return'$$"'.concat(t,'"')}function l(t){if(!t)return t;t=String(t);var e={};t=t.replace(/\$\$"([^"]*)"/,(function(t,n){var o=n.includes("/")?n.substring(n.lastIndexOf("/")+1):n;if(e.hasOwnProperty(o)&&e[o]!==n)throw new Error('Conflicting import paths: "'.concat(n,'" != "').concat(e[o],'"'));return e[o]=n,o}));for(var n=0,o=Object.entries(e);n<o.length;n++){var a=Object(c.a)(o[n],2),r=a[0],i=a[1];t="import ".concat(r,' "').concat(i,'"; ').concat(t)}return t}var d=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t,"toMotoko")}return Object(a.a)(n,[{key:"defaultCompile",value:function(t,e,n){if(s.t.isSubtype(t.type)){var o=t.type.generics[0];if(o&&!o.isAbstract())return this.getTypeString()}}},{key:"postCompile",value:function(t,e,n){var o=this;return"string"===typeof t||"number"===typeof t||"boolean"===typeof t||null===t?t:void 0!==t?Array.isArray(t)?t.map((function(t){return o.postCompile(t,e,n)})).filter((function(t){return t})).join(" "):(console.warn("Unexpected Motoko expression:",t),String(t)):void 0}}]),n}(u.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(15),a=n(14),r=n(17),i=n(18),c=n(93),u=n(35),s=n(19),p=n(3),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,o){return Object(a.a)(this,n),e.call(this,"".concat(t.name,".").concat(o))}return n}(Object(c.a)(Error)),d=function(){function t(e,n){Object(a.a)(this,t),this.editor=e,this.compileKey=n}return Object(o.a)(t,[{key:"defaultCompile",value:function(t,e,n){}},{key:"postCompile",value:function(t,e,n){return t}},{key:"getNode",value:function(t){if(t instanceof s.d.Node)return t;if(!t)throw new Error("Node cannot be ".concat(JSON.stringify(t)));var e=String("string"===typeof t||"number"===typeof t?t:t.id);if(!(t=this.editor.nodes.find((function(t){return String(t.id)===e}))))throw new Error("Node does not exist: ".concat(e));return t}},{key:"getBlock",value:function(t){return t=this.getNode(t),Object(u.b)(t.name)}},{key:"getInput",value:function(t,e){var n=this;t=this.getNode(t);var o=this.getBlock(t);if(!o.props.hasOwnProperty(e))throw new Error("Prop not found on ".concat(t.name,": ").concat(e));var a=o.props[e];if(a.input)if(a.type.data.reversed){var r=this._output(t,e);if(a.multi)return r.connections.map((function(t){return n._compileConnection(t,t.output,t.input,"inputs")}));if(r.connections.length){var i=r.connections[0];return this._compileConnection(i,i.output,i.input,"inputs")}}else{var c=this._input(t,e);if(a.multi)return c.connections.map((function(t){return n._compileConnection(t,t.input,t.output,"outputs")}));if(c.connections.length){var u=c.connections[0];return this._compileConnection(u,u.input,u.output,"outputs")}if(c.control)return c.control.getValue()}if(a.control){var s=this._control(t,a.key);return this.postCompile(s.getValue(),t,e)}}},{key:"getOutput",value:function(t,e){t=this.getNode(t);var n=this._prop(t,e);try{var o,a=this.getInputArgs(t);if(!a)return;return o=n[this.compileKey]?n[this.compileKey](a,t,this):this.defaultCompile(n,t,e),this.postCompile(o,t,e)}catch(r){if(r instanceof l)return;console.error("[".concat(t.name,".").concat(e,"]"),r),this.editor.trigger("warn","[".concat(t.name,".").concat(e,"] ").concat(r))}}},{key:"getInputArgs",value:function(t){var e=this;t=this.getNode(t);for(var n=this.getBlock(t),o={},a=function(){var a=i[r];if(a.input||a.control){var c=!1;Object.defineProperty(o,a.key,{get:function(){if(!c){var o=e.getInput(t,a.key);if(void 0===o&&!a.optional)throw new l(n,a.key);return c=!0,o}}})}},r=0,i=Object.values(n.props);r<i.length;r++)a();return o}},{key:"getTypeString",value:function(t){var e,n,o,a=this;return(null===(e=t=Object(p.i)(t))||void 0===e||null===(n=(o=e.data)[this.compileKey])||void 0===n?void 0:n.call(o,t.generics.map((function(t){return a.getTypeString(t)})),this))||t.toTypeString()}},{key:"inferType",value:function(t,e){return this.editor.compilers.type.getInput(t,e)}},{key:"_compileConnection",value:function(t,e,n){return this.getOutput(n.node,n.key)}},{key:"_prop",value:function(t,e){var n=this.getBlock(t);if(!n.props.hasOwnProperty(e))throw new Error("Prop does not exist in ".concat(t.name,": ").concat(e));return n.props[e]}},{key:"_input",value:function(t,e){if(!t.inputs.has(e))throw new Error("Input not found on ".concat(t.name,": ").concat(e));return t.inputs.get(e)}},{key:"_output",value:function(t,e){if(!t.outputs.has(e))throw new Error("Output not found on ".concat(t.name,": ").concat(e));return t.outputs.get(e)}},{key:"_control",value:function(t,e){if(!t.controls.has(e))throw new Error("Control not found on ".concat(t.name,": ").concat(e));return t.controls.get(e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(6),a=(n(1),n(29)),r=n(11),i=n.n(r),c=n(2);function u(t){var e=t.control,n=t.bindInput,r=t.validation,u=r.minLength,s=r.maxLength,p=Object(a.a)(e),l=Object(o.a)(p,2),d=l[0],f=l[1],v=!e.validate(d);return Object(c.jsx)("input",{type:"text",className:i()("w-100",v&&"invalid"),autoComplete:"blocks-app",autoCorrect:"off",ref:n,value:d||"",placeholder:e.name,minLength:u,maxLength:s,onChange:function(t){return f(t.target.value||(e.config.optional&&u>0?void 0:""))}})}},,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(175);function a(t){return t?Object(o.a)(t):""}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(35),a=n(43);function r(t,e,n){var r=Object(o.b)(t.name);return!n&&r&&r.computeTitle?r.computeTitle(t,e):Object(a.a)(r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var o=n(12),a=n(4),r=n(3),i=n(7),c=n(6),u=(n(1),n(29)),s=n(10),p=n(91),l=function(t){t.languages.register({id:"motoko"}),t.languages.setLanguageConfiguration("motoko",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"<",close:">"}]}),t.languages.setMonarchTokensProvider("motoko",{defaultToken:"",tokenPostfix:".mo",keywords:["actor","and","async","assert","await","break","case","catch","class","continue","debug","else","false","for","func","if","in","import","module","not","null","object","or","label","let","loop","private","public","return","shared","try","throw","debug_show","query","switch","true","type","var","while","stable","flexible","system"],accessmodifiers:["public","private","shared"],typeKeywords:["Any","None","Null","Bool","Int","Int8","Int16","Int32","Int64","Nat","Nat8","Nat16","Nat32","Nat64","Word8","Word16","Word32","Word64","Float","Char","Text","Blob","Error","Principal"],operators:["=","<",">",":","<:","?","+","-","*","/","%","**","&","|","^","<<",">>","#","==","!=",">=","<=",":=","+=","-=","*=","/=","%=","**=","&=","|=","^=","<<=",">>=","#=","->"],symbols:/[=(){}[\].,:;@#_&\-<>`?!+*\\/]/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_$][\w$]*/,{cases:{"@typeKeywords":"keyword.type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}})},d=n(2),f=["value","onChange"];function v(t){var e=t.value,n=t.onChange,o=Object(s.a)(t,f);return Object(d.jsx)(p.a,Object(a.a)({defaultLanguage:"motoko",beforeMount:l,value:e,onChange:function(t){null===n||void 0===n||n(t)},options:{minimap:{enabled:!1},wordWrap:"on",wrappingIndent:"indent",scrollBeyondLastLine:!1,fontSize:16}},o))}function b(t){var e=t.control,n=t.bindInput,o=Object(u.a)(e),a=Object(c.a)(o,2),r=a[0],i=a[1];return Object(d.jsx)("div",{ref:n,style:{height:100},children:Object(d.jsx)(v,{value:r,onChange:i})})}var m=/{([0-9]+)}/g;function y(t,e){return(e||"").replaceAll(m,(function(e,n){return(n=+n)>=0&&n<t.length?t[n]:e}))}function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(a.a)(Object(a.a)({title:"{".concat(t,"}"),info:"Compile an arbitrary ".concat(t," expression"),category:i.g,icon:i.g.data.icon,topLeft:"inputs",topRight:"result",className:"node-wide"},n),{},{inputs:[{key:"inputs",type:r.d,multi:!0},{key:"type",type:r.t.of(e)}].concat(Object(o.a)(n.inputs||[])),outputs:[{key:"result",type:e,inferType:function(t){return t.type},toMotoko:function(t){return y(t.inputs,t.expression)}}].concat(Object(o.a)(n.outputs||[])),controls:[{key:"expression",config:{controlType:b}}].concat(Object(o.a)(n.controls||[]))})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var o=n(3),a=n(6),r=n(8),i=n.n(r),c=n(23),u=n(1),s=n(9),p=n(20);function l(t){var e,n,o,r=t.promise,i=t.loading,c=t.error,p=t.children,l=Object(u.useState)("loading"),d=Object(a.a)(l,2),f=d[0],v=d[1],b=Object(u.useState)(),m=Object(a.a)(b,2),y=m[0],j=m[1],g=Object(u.useContext)(s.g);return Object(u.useEffect)((function(){Promise.resolve(r).then((function(t){v("success"),j(t)})).catch((function(t){v("error"),j(t),c||g.emit(s.c,t)}))}),[r,c,g]),"loading"===f?null!==(n=null===i||void 0===i?void 0:i())&&void 0!==n?n:null:"error"===f?null!==(o=null===c||void 0===c?void 0:c(y))&&void 0!==o?o:null:null!==(e=null===p||void 0===p?void 0:p(y))&&void 0!==e?e:null}var d=n(80),f=n(13),v=n(183),b=n(34),m=n(44),y=n(2);function j(t){var e,n=t.control,o=t.bindInput,r=t.query,j=function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(n,n.getNode(),n.editor);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn(t.t0),t.abrupt("return","<".concat(t.t0,">"));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),g=Object(u.useState)(j),h=Object(a.a)(g,2),O=h[0],k=h[1],x=Object(u.useState)(),w=Object(a.a)(x,2),T=w[0],C=w[1],N=Object(u.useContext)(s.g);Object(p.a)(N,s.a,(function(){k(j())}));var S=function(){C(!0),m.a.show(e),setTimeout((function(){return C(!1)}),1e3)};return Object(b.a)(),Object(y.jsx)(l,{promise:O,children:function(t){return(null!==t&&void 0!==t?t:null)&&Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("input",{type:"text",className:"w-100 small",readOnly:!0,ref:o,value:t||""}),Object(y.jsx)(d.CopyToClipboard,{text:t,children:Object(y.jsxs)(v.a,{ref:o,size:"sm",variant:"outline-light","data-tip":T?void 0:"Copy to Clipboard",onClick:S,children:[Object(y.jsx)("span",{ref:function(t){return e=t},"data-tip":"Copied!"}),Object(y.jsx)(f.e,{})]})})]})}})}var g=n(7),h=n(47);function O(t,e,n){function a(t){return function(o,a,r){var i=r.compilers[e].getInput(a,t),c=n?n(i):i;return Object(h.c)(c)}}return{title:t,category:g.c,icon:g.c.data.icon,topLeft:"input",topRight:"reversed",inputs:[{key:"input",title:"Input",type:o.d},{key:"reversed",title:"Input",type:o.c}],controls:[{key:"reversedDisplay",title:"Display",config:{controlType:j,controlProps:{query:a("reversed")}}},{key:"display",config:{controlType:j,controlProps:{query:a("input")}}}]}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(12),a=n(4),r=n(6),i=(n(1),n(29)),c=n(11),u=n.n(c),s=n(2);function p(t){var e=t.control,n=t.bindInput,o=t.options,a=t.findLabel,c=Object(i.a)(e),p=Object(r.a)(c,2),l=p[0],d=p[1];void 0!==l||o.includes(l)||(l=o[0],d(l));var f=!e.validate(l)||!o.includes(l);return Object(s.jsx)("select",{className:u()(f&&"invalid"),ref:n,value:l,onChange:function(t){return d(t.target.value||void 0)},children:o.map((function(t,e){var n;return Object(s.jsx)("option",{label:null!==(n=null===a||void 0===a?void 0:a(t,e))&&void 0!==n?n:t,value:t},e)}))})}function l(t,e){return Object(a.a)(Object(a.a)({},t),{},{config:Object(a.a)(Object(a.a)({},t.config||{}),{},{controlType:p,controlProps:{options:t.optional?[void 0].concat(Object(o.a)(e)):e,findLabel:function(t){return t?t.charAt(0).toUpperCase()+t.substring(1):"--"}}})})}},,,,,,,,,,,,,,,,,,,function(t,e,n){var o=[n(164),n(165),n(166),n(167)];t.exports={getExampleProjects:function(){return o}}},,,,,,,,,,,,,,,,function(t,e,n){},,function(t,e,n){},,,,function(t,e,n){var o={"./Actor.js":107,"./ActorClass.js":108,"./Add.js":109,"./And.js":110,"./Await.js":111,"./CodeType.js":112,"./CodeValue.js":113,"./CollectionSize.js":114,"./CompareEqual.js":115,"./CompareGreater.js":116,"./CompareGreaterEqual.js":117,"./CompareLess.js":118,"./CompareLessEqual.js":119,"./CompareNotEqual.js":120,"./CompileMotoko.js":121,"./CompileType.js":124,"./Conditional.js":125,"./ConditionalValue.js":126,"./Divide.js":127,"./Function.js":128,"./FunctionCall.js":129,"./LiteralBool.js":130,"./LiteralFloat.js":131,"./LiteralIdentifier.js":132,"./LiteralInt.js":133,"./LiteralNat.js":134,"./LiteralPair.js":135,"./LiteralPairType.js":136,"./LiteralText.js":137,"./LiteralTuple.js":138,"./LiteralTupleType.js":139,"./LiteralType.js":140,"./LoopWhile.js":141,"./MapGet.js":142,"./MapPut.js":143,"./MapRemove.js":144,"./Multiply.js":145,"./NewHashMap.js":146,"./Not.js":147,"./Null.js":148,"./Optional.js":149,"./OptionalUnwrap.js":150,"./Or.js":151,"./Parameter.js":152,"./Return.js":153,"./State.js":38,"./StateRead.js":154,"./StateUpdate.js":155,"./Subtract.js":156,"./TextConcat.js":157,"./TypeMember.js":158,"./TypeMemberReference.js":159,"./Variable.js":160};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id=106},function(t,e,n){"use strict";n.r(e);var o=n(3),a={info:"An actor which can be deployed as a smart contract",category:n(7).a,topLeft:"actor",topRight:"members",global:!0,computeTitle:function(t,e){return e.compilers.motoko.getInputArgs(t).name},inputs:[{key:"name",type:o.j,optional:!0},{key:"members",type:o.m,multi:!0}],outputs:[{key:"actor",type:o.b,toMotoko:function(t){var e=t.name,n=t.members;return"actor".concat(e?" "+e:""," { ").concat(n.join(" ")," };")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(7),r={info:"An object-oriented class of actors",category:a.a,topLeft:"actor",topRight:"members",global:!0,computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t),o=n.name,a=n.params;if(o)return"".concat(o,"(").concat(a.join(", "),")")},inputs:[{key:"name",type:o.j,optional:!0},{key:"members",type:o.m,multi:!0},{key:"params",type:o.q,multi:!0}],outputs:[{key:"actor",type:o.b,toMotoko:function(t){var e=t.name,n=t.params,o=t.members;return"actor class".concat(e?" "+e:"","(").concat(n.join(", "),") = ").concat("this"," { ").concat(o.join(" ")," };")}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.a)("+",(function(t,e){return t+e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)(a.f,"and",(function(t,e){return t&&e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={title:"(await a)",info:"Wait for an asynchronous value",category:n(7).k,topRight:"result",inputs:[{key:"input",type:o.e}],outputs:[{key:"result",type:o.v,inferType:function(t){return t.input.generics[0]},toMotoko:function(t){var e=t.input;return"(await ".concat(e,")")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(63),a=n(3),r=Object(o.a)("Type",a.t);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(63),a=n(3),r=Object(o.a)("Expression",a.v);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={title:"Size",category:n(7).b,inputs:[{key:"collection",type:o.l}],outputs:[{key:"value",type:o.n,toMotoko:function(t){var e=t.map;return"".concat(e,".size()")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)([a.v,a.f],"==",(function(t,e){return t===e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.c)(">",(function(t,e){return t>e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.c)(">=",(function(t,e){return t>=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.c)("<",(function(t,e){return t<e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.c)("<=",(function(t,e){return t<=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)([a.v,a.f],"!=",(function(t,e){return t!==e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(64),a=Object(o.a)("Motoko","motoko");e.default=a},,,function(t,e,n){"use strict";n.r(e);var o=n(64),a=Object(o.a)("Type","type",(function(t){return null===t||void 0===t?void 0:t.toTypeString()}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(3),r=Object(o.b)({title:"if() then {} else {}",inputs:[{key:"condition",type:a.f},{key:"trueCase",title:"True",type:a.g,optional:!0},{key:"falseCase",title:"False",type:a.g,optional:!0}]},(function(t){var e=t.condition,n=t.trueCase,o=t.falseCase;if("true"===String(e))return n;if("false"===String(e))return o;var a=o?" else { ".concat(o," }"):"";return"if (".concat(e,") { ").concat(n||""," }").concat(a,";")}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={title:"Map Bool",category:n(7).d,topRight:"result",inputs:[{key:"condition",type:o.f},{key:"true",type:o.v},{key:"false",type:o.v}],outputs:[{key:"result",type:o.v,toMotoko:function(t){var e=t.condition,n=t.trueCase,o=t.falseCase;return!0===e?n:!1===e?o:"(if (".concat(e,") {").concat(n,"} else { ").concat(o," })")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.a)("/",(function(t,e){return t/e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(39),r=n(7),i=n(65),c=o.g.of(o.u),u=Object(a.b)({info:"Evaluate based on given input parameters",category:r.h,topRight:"body",computeTitle:function(t,e){var n=Object(a.a)(t,e),r=e.compilers.motoko.getInputArgs(t),i=r.params,c=r.asyncKind,u=e.compilers.type.getInput(t,"body");if(u)return u=u.generics[0],c&&(u=o.e.of(u)),n&&i&&"".concat(n,"(").concat(i.join(", "),")").concat(u?" : "+e.compilers.motoko.getTypeString(u):"")},shortcuts:[{block:"Return"},{block:"FunctionCall",nodeKey:"functionNode"}],inputs:[{key:"params",type:o.q,multi:!0},{key:"body",type:o.g,optional:!0}],controls:[{key:"shared",type:o.f},Object(i.a)({key:"asyncKind",optional:!0},["async","query"])]},{toMotoko:function(t,e,n){var a=t.visibility,r=t.shared,i=t.asyncKind,u=t.name,s=t.params,p=t.body,l=["system"!==a&&a,r&&"shared","query"===i&&i].filter((function(t){return t})).join(" "),d=p?n.inferType(e,"body"):c;if(d){d=d.generics[0],i&&(d=o.e.of(d));var f=n.getTypeString(d);if(f)return"".concat(l&&l+" ","func").concat(u?" "+u:"","(").concat(s.join(", "),")").concat("()"!==f?": "+f:""," { ").concat(p||""," };")}}});e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(3),r=n(13),i=n(7),c=Object(o.b)({info:"Invoke a function in this project",title:"Call Function",category:i.h,icon:r.s,computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"functionNode");if(n){var o=e.compilers.motoko.getInput(n,"name"),a=e.compilers.node.getInput(n,"params").map((function(t){return e.compilers.motoko.getInput(t,"name")}));return o&&"".concat(o,"(").concat(a.join(", "),")")}},inputs:[{key:"args",type:a.v,multi:!0}],outputs:[{key:"value",type:"Value",inferType:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"functionNode");if(o)return n.editor.compilers.type.getInput(o,"body")},toMotoko:function(t,e,n){var o=t.args,a=n.editor.compilers.node.getInput(e,"functionNode");if(a){var r=n.getInput(a,"name");if(r)return"".concat(r,"(").concat(o.join(", "),")")}}}],controls:[{key:"functionNode",type:a.o.withMeta({block:"Function"})}]},(function(t,e,n){var o=t.functionNode,a=t.args,r=n.getOutput(o,"name");if(r)return"ignore ".concat(r,"(").concat(a.join(", "),");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(36),a=n(3),r=Object(o.a)({title:"Boolean"},a.f);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(36),a=n(3),r=Object(o.a)({title:"Float"},a.h);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={title:"Identifier",icon:n(13).p,topRight:"value",outputs:[{key:"value",type:o.j,control:!0}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(36),a=n(3),r=Object(o.a)({title:"Integer"},a.k);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(36),a=n(3),r=Object(o.a)({title:"Natural Number"},a.n);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(7),a=n(3),r={title:"Pair",category:o.n,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Pair ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"left",title:"a",type:a.v},{key:"right",title:"b",type:a.v}],outputs:[{key:"value",type:a.s.of(a.v,a.v),inferType:function(t){var e=t.left,n=t.right;return a.s.of(e,n)},toMotoko:function(t){var e=t.left,n=t.right;return"(".concat(e,", ").concat(n,")")}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(7),a=n(3),r={title:"Pair of Types",category:o.n,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"left",title:"a",type:a.t.of(a.v)},{key:"right",title:"b",type:a.t.of(a.v)}],outputs:[{key:"value",type:a.t.of(a.s.of(a.v,a.v)),inferType:function(t){var e=t.left,n=t.right;return a.s.of(e,n)}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(36),a=n(3),r=Object(o.a)({title:"Text"},a.r,JSON.stringify);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(12),a=n(7),r=n(3),i={title:"Tuple",category:a.j,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Tuple ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"inputs",type:r.v,multi:!0}],outputs:[{key:"value",type:r.s,inferType:function(t){var e=t.inputs;return r.s.of.apply(r.s,Object(o.a)(e))},toMotoko:function(t){var e=t.inputs;return"(".concat(e.join(", "),")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(12),a=n(7),r=n(3),i={title:"Tuple of Types",category:a.n,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"types",type:r.t.of(r.v),multi:!0}],outputs:[{key:"value",type:r.t.of(r.s),inferType:function(t){var e=t.types;return r.s.of.apply(r.s,Object(o.a)(e))}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(7),a=n(3),r={title:"Type",category:o.n,topRight:"value",outputs:[{key:"value",type:a.t.of(a.v),control:!0,inferType:function(t){return t.value}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(3),r=Object(o.b)({title:"while() {}",info:"Repeat while the condition is true",inputs:[{key:"condition",type:a.f},{key:"loop",type:a.g,optional:!0}]},(function(t){var e=t.condition,n=t.loop;return"while (".concat(e,") { ").concat(null!==n&&void 0!==n?n:""," };")}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(7),r=n(38),i={title:"Get (Map)",category:a.b,icon:r.stateReadIcon,topRight:"value",inputs:[{key:"map",type:o.l},{key:"key",type:o.v}],outputs:[{key:"value",type:o.v,inferType:function(t){var e=t.map;if(o.l.isSubtype(e))return e.generics[1]},toMotoko:function(t){var e=t.map,n=t.key;return"".concat(e,".get(").concat(n,")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(24),r=n(7),i=n(38),c=Object(a.b)({title:"Put (Map)",category:r.b,icon:i.stateWriteIcon,inputs:[{key:"map",type:o.l},{key:"key",type:o.v},{key:"value",type:o.v}]},(function(t){var e=t.map,n=t.key,o=t.value;return"".concat(e,".put(").concat(n,", ").concat(o,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(24),r=n(7),i=n(13),c=Object(a.b)({title:"Remove (Map)",category:r.b,icon:i.j,inputs:[{key:"map",type:o.l},{key:"key",type:o.v}]},(function(t){var e=t.map,n=t.key;return"".concat(e,".remove(").concat(n,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)(a.h,"*",(function(t,e){return t*e}));e.default=r},function(t,e,n){"use strict";n.r(e),n.d(e,"hashMapImportRef",(function(){return i}));var o=n(3),a=n(47),r=n(7),i=Object(a.b)("mo:base/HashMap"),c={title:"Map",category:r.b,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"HashMap<".concat(e.compilers.motoko.getTypeString(n.generics[0]),",").concat(e.compilers.motoko.getTypeString(n.generics[1]),">")},inputs:[{key:"keyType",type:o.t.of(o.v),config:{defaultValue:o.r}},{key:"valueType",type:o.t.of(o.v)}],outputs:[{key:"value",type:o.l,inferType:function(t){var e=t.keyType,n=t.valueType;return o.l.of(e,n)},toMotoko:function(t){var e=t.keyType,n=t.valueType;return"".concat(i,".HashMap<").concat(e,", ").concat(n,">(0, ").concat(e,".equal, ").concat(n,".hash)")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.d)(a.f,"not",(function(t){return!t}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={category:n(7).j,topRight:"value",outputs:[{key:"value",type:o.p.of(o.v),toMotoko:function(){return"null"}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(3),a={title:"(?a)",info:"Create an optional version of the input value",category:n(7).k,topRight:"result",inputs:[{key:"input",type:o.v}],outputs:[{key:"result",type:o.p,inferType:function(t){var e=t.input;return o.p.of(e)},toMotoko:function(t){var e=t.input;return"(?".concat(e,")")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(3),r=n(7),i=Object(o.b)({title:"Unwrap Optional",info:"Run different logic depending on whether an Optional value is null",category:r.d,inputs:[{key:"input",type:a.p},{key:"valueCase",title:"Value",type:a.g,optional:!0},{key:"nullCase",title:"Null",type:a.g,optional:!0}],outputs:[{key:"value",type:a.v,inferType:function(t){return t.input},toMotoko:function(t,e){t.input;return"value__".concat(e.id)}}]},(function(t,e){var n=t.input,o=t.valueCase,a=t.nullCase;if("null"===String(n))return a;var r=o?"case (?value__".concat(e.id,") {").concat(o,"};"):"",i=a?"case null {".concat(a,"};"):"";return"switch (".concat(n,") { ").concat(r).concat(i&&" "+i," };")}));e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)(a.f,"or",(function(t,e){return t||e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a={info:"An input parameter to a class or function",topLeft:"param",topRight:"value",category:n(7).l,computeTitle:function(t,e){var n=e.compilers.motoko.getInput(t,"name"),o=e.compilers.type.getInput(t,"type");return n&&"".concat(n," : ").concat(o?e.compilers.motoko.getTypeString(o):"Any")},inputs:[{key:"name",type:o.j},{key:"type",type:o.t.of(o.v)}],outputs:[{key:"param",type:o.q,toMotoko:function(t,e,n){var o=t.name,a=t.type,r=n.getTypeString(a)||"Any";return"".concat(o," : ").concat(r)}},{key:"value",type:o.v,toMotoko:function(t){return t.name},inferType:function(t){return t.type}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(24),r=n(7),i=n(13),c=Object(a.a)({info:"End a function's execution path",category:r.h,icon:i.c,inputs:[{key:"value",type:o.v,optional:!0}]},{inferType:function(t){var e=t.value;return o.g.of(e||o.u)},toMotoko:function(t){var e=t.value;return"return".concat(e?" "+e:"",";")}});e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(7),r=n(38),i={title:"Read State",category:a.m,icon:r.stateReadIcon,topRight:"value",outputs:[{key:"value",type:o.v,inferType:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"stateNode");if(o)return n.getInput(o,"initialValue")},toMotoko:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"stateNode");if(o)return n.getInput(o,"name")}}],controls:[{key:"stateNode",type:o.o.withMeta({block:"State"})}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(7),r=n(3),i=n(38),c=Object(o.b)({title:"Write State",category:a.m,icon:i.stateWriteIcon,inputs:[{key:"value",type:"Value"}],controls:[{key:"stateNode",type:r.o.withMeta({block:"State"})}]},(function(t,e,n){var o=t.stateNode,a=t.value,r=n.getInput(o,"name");if(r)return"".concat(r," := ").concat(a,";")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(16),a=Object(o.a)("-",(function(t,e){return t-e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(16),a=n(3),r=Object(o.b)(a.r,"#",(function(t,e){return t||e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(39),r=n(7),i=Object(a.b)({title:"Named Type",info:"An actor-level type definition",category:r.n,topRight:"type",shortcuts:[{block:"TypeMemberReference",nodeKey:"typeNode"}],computeTitle:function(t,e){var n=Object(a.a)(t,e),o=e.compilers.type.getInput(t,"typeInput");return o&&"".concat(n||"(?)"," = ").concat(e.compilers.motoko.getTypeString(o))},inputs:[{key:"typeInput",title:"Definition",type:o.t.of(o.v)}],outputs:[{key:"type",type:o.t.of(o.v),inferType:function(t){var e=t.typeInput;if(!e.isAbstract())return e}}]},{toMotoko:function(t){var e=t.visibility,n=t.name,o=t.typeInput,a=["system"!==e&&e].filter((function(t){return t})).join(" ");return"".concat(a&&a+" ","type ").concat(n," = ").concat(o,";")}});e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(7),r=n(13),i={title:"Type Reference",category:a.n,icon:r.b,topRight:"type",computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"typeNode");if(console.log(n),n)return e.compilers.motoko.getInput(n,"name")},outputs:[{key:"type",type:o.t.of(o.v),inferType:function(t,e,n){var o=t.typeNode;return n.compilers.types.getInput(o,"type")}}],controls:[{key:"typeNode",type:o.o.withMeta({block:"TypeMember"})}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(24),a=n(3),r=n(7),i=Object(o.b)({title:"Local Variable",info:"Store and retrieve data from within a function",category:r.l,inputs:[{key:"name",type:a.j,optional:!0},{key:"initialValue",type:a.v}],outputs:[{key:"value",type:a.v,inferType:function(t){return t.initialValue},toMotoko:function(t,e){return t.name||"var__".concat(e.id)}}]},(function(t,e){var n=t.name,o=t.initialValue;return"var ".concat(n||"var__".concat(e.id)," = ").concat(o,";")}));e.default=i},,,,function(t){t.exports=JSON.parse('{"name":"Echo","description":"Return the input argument to a function.","version":"blocks-webapp@0.1.0","nodes":{"282":{"id":282,"data":{"visibility":"public","name":"say"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"params":{"connections":[{"node":284,"input":"param","data":{}}]},"body":{"connections":[{"node":285,"input":"statement","data":{}}]}},"position":[736,288],"name":"Function"},"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":282,"input":"member","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"284":{"id":284,"data":{"name":"phrase","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":282,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":285,"input":"value","data":{}}]}},"position":[960,384],"name":"Parameter"},"285":{"id":285,"data":{},"inputs":{"value":{"connections":[{"node":284,"output":"value","data":{}}]},"statement":{"connections":[{"node":282,"output":"body","data":{}}]}},"outputs":{},"position":[1184,288],"name":"Return"},"321":{"id":321,"data":{"functionNode":282},"inputs":{"args":{"connections":[{"node":322,"output":"value","data":{}}]},"before":{"connections":[]}},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":324,"input":"input","data":{}}]}},"position":[800,704],"name":"FunctionCall"},"322":{"id":322,"data":{"value":"Hello World!"},"inputs":{},"outputs":{"value":{"connections":[{"node":321,"input":"args","data":{}}]}},"position":[576,768],"name":"LiteralText"},"324":{"id":324,"data":{},"inputs":{"input":{"connections":[{"node":321,"output":"value","data":{}}]}},"outputs":{"reversed":{"connections":[]}},"position":[1024,768],"name":"CompileMotoko"}}}')},function(t){t.exports=JSON.parse('{"name":"Counter","description":"Get, set, and increment a state variable.","version":"blocks-webapp@0.1.0","nodes":{"353":{"id":353,"data":{"name":"Counter"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":416,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":354,"input":"member","data":{}},{"node":355,"input":"member","data":{}},{"node":374,"input":"member","data":{}},{"node":375,"input":"member","data":{}}]}},"position":[544,384],"name":"Actor"},"354":{"id":354,"data":{"visibility":"public","name":"count"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":415,"output":"value","data":{}}]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[800,128],"name":"State"},"355":{"id":355,"data":{"visibility":"public","name":"get","asyncKind":"query"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":358,"input":"statement","data":{}}]}},"position":[800,416],"name":"Function"},"357":{"id":357,"data":{"stateNode":354},"inputs":{},"outputs":{"value":{"connections":[{"node":358,"input":"value","data":{}}]}},"position":[1024,448],"name":"StateRead"},"358":{"id":358,"data":{},"inputs":{"value":{"connections":[{"node":357,"output":"value","data":{}}]},"statement":{"connections":[{"node":355,"output":"body","data":{}}]}},"outputs":{},"position":[1248,416],"name":"Return"},"374":{"id":374,"data":{"visibility":"public","name":"set","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":378,"input":"param","data":{}}]},"body":{"connections":[{"node":377,"input":"before","data":{}}]}},"position":[800,736],"name":"Function"},"375":{"id":375,"data":{"visibility":"public","name":"inc","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":417,"input":"before","data":{}}]}},"position":[800,1056],"name":"Function"},"377":{"id":377,"data":{"stateNode":"354"},"inputs":{"value":{"connections":[{"node":378,"output":"value","data":{}}]},"before":{"connections":[{"node":374,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1248,736],"name":"StateUpdate"},"378":{"id":378,"data":{"type":{"name":"Nat","generics":[]},"name":"n"},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":374,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":377,"input":"value","data":{}}]}},"position":[1024,832],"name":"Parameter"},"415":{"id":415,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":354,"input":"initialValue","data":{}}]}},"position":[544,224],"name":"LiteralNat"},"416":{"id":416,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":353,"input":"actor","data":{}}]}},"position":[256,384],"name":"CompileMotoko"},"417":{"id":417,"data":{"stateNode":"354"},"inputs":{"value":{"connections":[{"node":419,"output":"result","data":{}}]},"before":{"connections":[{"node":375,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1440,1056],"name":"StateUpdate"},"418":{"id":418,"data":{"stateNode":354},"inputs":{},"outputs":{"value":{"connections":[{"node":419,"input":"left","data":{}}]}},"position":[1024,1120],"name":"StateRead"},"419":{"id":419,"data":{"right":"1"},"inputs":{"left":{"connections":[{"node":418,"output":"value","data":{}}]},"right":{"connections":[]}},"outputs":{"result":{"connections":[{"node":417,"input":"value","data":{}}]}},"position":[1232,1152],"name":"Add"}}}')},function(t){t.exports=JSON.parse('{"name":"Calculator","description":"Add, subtract, multiply, and divide a state variable.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[416,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Calculator"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":330,"input":"member","data":{}},{"node":331,"input":"member","data":{}},{"node":335,"input":"member","data":{}},{"node":336,"input":"member","data":{}},{"node":337,"input":"member","data":{}},{"node":339,"input":"member","data":{}}]}},"position":[640,288],"name":"Actor"},"330":{"id":330,"data":{"visibility":"public","name":"x"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":332,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[{"node":455,"input":"value","data":{}}]}},"position":[928,0],"name":"State"},"331":{"id":331,"data":{"visibility":"public","name":"clear","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":333,"input":"before","data":{}}]}},"position":[928,256],"name":"Function"},"332":{"id":332,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":330,"input":"initialValue","data":{}}]}},"position":[672,0],"name":"LiteralInt"},"333":{"id":333,"data":{"stateNode":330},"inputs":{"value":{"connections":[{"node":334,"output":"value","data":{}}]},"before":{"connections":[{"node":331,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1376,256],"name":"StateUpdate"},"334":{"id":334,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":333,"input":"value","data":{}}]}},"position":[1168,320],"name":"LiteralInt"},"335":{"id":335,"data":{"visibility":"public","name":"add","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":340,"input":"before","data":{}}]}},"position":[928,544],"name":"Function"},"336":{"id":336,"data":{"visibility":"public","name":"subtract","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":345,"input":"before","data":{}}]}},"position":[928,832],"name":"Function"},"337":{"id":337,"data":{"visibility":"public","name":"multiply","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":346,"input":"before","data":{}}]}},"position":[928,1120],"name":"Function"},"339":{"id":339,"data":{"visibility":"public","name":"divide","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":347,"input":"before","data":{}}]}},"position":[928,1408],"name":"Function"},"340":{"id":340,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":343,"output":"result","data":{}}]},"before":{"connections":[{"node":335,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1664,544],"name":"StateUpdate"},"343":{"id":343,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":340,"input":"value","data":{}}]}},"position":[1456,608],"name":"Add"},"344":{"id":344,"data":{"name":"y","type":{"name":"Int","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":335,"output":"params","data":{}},{"node":336,"output":"params","data":{}},{"node":337,"output":"params","data":{}},{"node":339,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":343,"input":"right","data":{}},{"node":348,"input":"right","data":{}},{"node":349,"input":"right","data":{}},{"node":350,"input":"right","data":{}}]}},"position":[1184,992],"name":"Parameter"},"345":{"id":345,"data":{"stateNode":330},"inputs":{"value":{"connections":[{"node":348,"output":"result","data":{}}]},"before":{"connections":[{"node":336,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1664,832],"name":"StateUpdate"},"346":{"id":346,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":349,"output":"result","data":{}}]},"before":{"connections":[{"node":337,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1664,1120],"name":"StateUpdate"},"347":{"id":347,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":350,"output":"result","data":{}}]},"before":{"connections":[{"node":339,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1664,1408],"name":"StateUpdate"},"348":{"id":348,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":345,"input":"value","data":{}}]}},"position":[1456,896],"name":"Subtract"},"349":{"id":349,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":346,"input":"value","data":{}}]}},"position":[1456,1184],"name":"Multiply"},"350":{"id":350,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":347,"input":"value","data":{}}]}},"position":[1456,1472],"name":"Divide"},"351":{"id":351,"data":{"stateNode":330},"inputs":{},"outputs":{"value":{"connections":[{"node":343,"input":"left","data":{}},{"node":348,"input":"left","data":{}},{"node":349,"input":"left","data":{}},{"node":350,"input":"left","data":{}}]}},"position":[1184,864],"name":"StateRead"},"455":{"id":455,"data":{},"inputs":{"value":{"connections":[{"node":330,"output":"value","data":{}}]},"statement":{"connections":[{"node":333,"output":"after","data":{}},{"node":340,"output":"after","data":{}},{"node":345,"output":"after","data":{}},{"node":346,"output":"after","data":{}},{"node":347,"output":"after","data":{}}]}},"outputs":{},"position":[2080,-32],"name":"Return"}}}')},function(t){t.exports=JSON.parse('{"name":"Phone Book","description":"A smart contract with tuples and key-value storage","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Main"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":326,"input":"member","data":{}},{"node":429,"input":"member","data":{}},{"node":428,"input":"member","data":{}}]}},"position":[704,288],"name":"Actor"},"326":{"id":326,"data":{"visibility":"public","name":"phonebook"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":327,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[960,0],"name":"State"},"327":{"id":327,"data":{"keyType":{"name":"Text","generics":[]},"valueType":{"name":"Text","generics":[]}},"inputs":{"keyType":{"connections":[]},"valueType":{"connections":[{"node":467,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":326,"input":"initialValue","data":{}}]}},"position":[704,0],"name":"NewHashMap"},"428":{"id":428,"data":{"visibility":"public","name":"insert","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}},{"node":433,"input":"param","data":{}},{"node":489,"input":"param","data":{}}]},"body":{"connections":[{"node":430,"input":"before","data":{}}]}},"position":[960,608],"name":"Function"},"429":{"id":429,"data":{"visibility":"public","name":"find","asyncKind":"query"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}}]},"body":{"connections":[{"node":450,"input":"statement","data":{}}]}},"position":[960,288],"name":"Function"},"430":{"id":430,"data":{},"inputs":{"map":{"connections":[{"node":431,"output":"value","data":{}}]},"key":{"connections":[{"node":432,"output":"value","data":{}}]},"value":{"connections":[{"node":522,"output":"value","data":{}}]},"before":{"connections":[{"node":428,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1632,608],"name":"MapPut"},"431":{"id":431,"data":{"stateNode":326},"inputs":{},"outputs":{"value":{"connections":[{"node":451,"input":"map","data":{}},{"node":430,"input":"map","data":{}}]}},"position":[1216,320],"name":"StateRead"},"432":{"id":432,"data":{"name":"name","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":429,"output":"params","data":{}},{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":451,"input":"key","data":{}},{"node":430,"input":"key","data":{}}]}},"position":[1184,480],"name":"Parameter"},"433":{"id":433,"data":{"name":"phone","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":522,"input":"inputs","data":{}}]}},"position":[1184,704],"name":"Parameter"},"450":{"id":450,"data":{},"inputs":{"value":{"connections":[{"node":451,"output":"value","data":{}}]},"statement":{"connections":[{"node":429,"output":"body","data":{}}]}},"outputs":{},"position":[1840,288],"name":"Return"},"451":{"id":451,"data":{},"inputs":{"map":{"connections":[{"node":431,"output":"value","data":{}}]},"key":{"connections":[{"node":432,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":450,"input":"value","data":{}}]}},"position":[1632,352],"name":"MapGet"},"467":{"id":467,"data":{"left":{"name":"Text","generics":[]},"right":{"name":"Text","generics":[]}},"inputs":{"left":{"connections":[]},"right":{"connections":[]}},"outputs":{"value":{"connections":[{"node":327,"input":"valueType","data":{}}]}},"position":[448,0],"name":"LiteralPairType"},"489":{"id":489,"data":{"name":"address","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":522,"input":"inputs","data":{}}]}},"position":[1184,848],"name":"Parameter"},"522":{"id":522,"data":{},"inputs":{"inputs":{"connections":[{"node":433,"output":"value","data":{}},{"node":489,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":430,"input":"value","data":{}}]}},"position":[1408,736],"name":"LiteralTuple"}}}')},function(t){t.exports=JSON.parse('{"name":"","description":"The default project.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Main"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[]}},"position":[704,288],"name":"Actor"}}}')},,,,,function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),r=n(27),i=n.n(r),c=(n(100),n(8)),u=n.n(c),s=n(23),p=n(4),l=n(30),d=n(10),f=n(25),v=(n(102),n(71)),b=n(77),m=n(12),y=n(6),j=n(2),g=["x","y","children","style","handleCloseMenu"];function h(t){var e=t.x,n=t.y,a=t.children,r=t.style,i=t.handleCloseMenu,c=Object(d.a)(t,g),u=Object(o.useMemo)((function(){return Object(p.a)({position:"absolute",left:e,top:n},r)}),[e,n,r]),s=Object(o.useCallback)((function(t){if(t){var e=function(t){return t.stopPropagation()};t.addEventListener("pointermove",e),t.addEventListener("mousemove",e),t.addEventListener("wheel",e)}}),[]),l=Object(o.useCallback)((function(t){if(t){var e=function(){var e=t.getBoundingClientRect().bottom-window.innerHeight;e>0&&(t.style.top="".concat(n-e,"px"))};e(),t.onresize=e}}),[n]);return Object(j.jsx)("div",Object(p.a)(Object(p.a)({className:"context-menu-screen",style:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"all"},ref:s,onKeyDown:function(t){return 27===t.keyCode&&i()},onMouseDown:function(){return i()}},c),{},{children:Object(j.jsx)("div",{className:"context-menu-container",style:u,ref:l,children:Object(j.jsx)("div",{className:"context-menu",children:a})})}))}var O=a.a.createContext(null),k=n(11),x=n.n(k);function w(t){var e=t.children,n=t.color;return Object(j.jsx)("span",{className:"context-menu-icon",style:{color:n},children:e})}var T=["icon","color","selected","onAction","children","style"];function C(t){var e=t.icon,n=t.color,o=t.selected,a=t.onAction,r=t.children,i=t.style,c=Object(d.a)(t,T);return Object(j.jsxs)("div",Object(p.a)(Object(p.a)({className:x()("context-menu-action",o&&"selected"),style:Object(p.a)({color:n,userSelect:"none"},i),onMouseDown:function(t){return 0===t.button&&a(t)}},c),{},{children:[e&&Object(j.jsx)(w,{children:e}),r]}))}function N(){var t=Object(o.useContext)(O).editor;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(C,{onAction:function(){return t.selected.each((function(e){return t.removeNode(e)}))},children:"Delete"})})}var S=n(13),M=n(43),I=n(34),E=["component"];function L(t){var e=t.component,n=Object(d.a)(t,E),o=e.block,r=null===o||void 0===o?void 0:o.category;return Object(I.a)(),(null===o||void 0===o?void 0:o.info)&&(n=Object(p.a)({"data-tip":o.info.endsWith(".")?o.info:"".concat(o.info,"."),"data-place":"right"},n)),Object(j.jsx)(C,Object(p.a)(Object(p.a)({icon:a.a.createElement((null===o||void 0===o?void 0:o.icon)||(null===r||void 0===r?void 0:r.data.icon)||S.u),color:null===r||void 0===r?void 0:r.data.color},n),{},{children:Object(M.a)(o)||e.name}))}var A=["value","onChange","onAction","onKeyDown","children"];function R(t){var e=t.value,n=t.onChange,a=t.onAction,r=t.onKeyDown,i=t.children,c=Object(d.a)(t,A),u=Object(o.useCallback)((function(t){t&&t.focus()}),[{}]),s=(r||a)&&function(t){r&&r(t),a&&"Enter"===t.key&&a()};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",Object(p.a)({type:"text",className:"context-menu-search",autoFocus:!0,ref:u,autoComplete:"blocks-search",value:e||"",onClick:function(t){return t.stopPropagation()},onChange:n&&function(t){return n(t.target.value)},onKeyDown:s},c)),Object(j.jsx)("div",{className:"context-menu-search-area",children:i})]})}function P(t){return JSON.parse(JSON.stringify(t))}function F(t,e){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(u.a.mark((function t(e,n){var o,a,r,i,c,s,p,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.data,a=n.meta,r=n.position,c=(i=void 0===r?{}:r).x,s=i.y,t.next=3,e.createNode(o?P(o):{});case 3:return p=t.sent,a&&(p.meta=Object.assign(P(a),p.meta)),l=[c,s],p.position[0]=l[0],p.position[1]=l[1],t.abrupt("return",p);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){var t=Object(o.useState)(""),e=Object(y.a)(t,2),n=e[0],a=e[1],r=Object(o.useState)(0),i=Object(y.a)(r,2),c=i[0],p=i[1],l=Object(o.useContext)(O),d=l.editor,f=l.mouse,v=l.context,b=function(t,e){var n=Object(m.a)(t.components).map((function(t){return t.name})).join("##");return Object(o.useMemo)((function(){return Object(m.a)(t.components.values()).map((function(t){return[e(t),t]})).sort((function(t,e){var n=Object(y.a)(t,1)[0],o=Object(y.a)(e,1)[0];if(Array.isArray(n)){for(var a=0;a<n.length;a++){var r=n[a].localeCompare(o[a]);if(0!==r)return r}return 0}return n.localeCompare(o)})).map((function(t){return Object(y.a)(t,2)[1]}))}),[n])}(d,(function(t){var e;return[(null===(e=t.block)||void 0===e?void 0:e.category.root.name)||"",t.data.title||t.name]}));if(b=v?function(t,e,n){var o,a,r,i,c,u;if(!t&&!e)return n;var s=null===t||void 0===t||null===(o=(a=t.socket).findType)||void 0===o?void 0:o.call(a),p=null===e||void 0===e||null===(r=(i=e.socket).findType)||void 0===r?void 0:r.call(i);if((null===(c=s)||void 0===c?void 0:c.data.reversed)||(null===(u=p)||void 0===u?void 0:u.data.reversed)){var l=[p,s];s=l[0],p=l[1]}return n.filter((function(t){return(!s||t.block.outputs.some((function(t){return s.isSubtype(t.type)||t.type.isSubtype(s)})))&&(!p||t.block.inputs.some((function(t){return p.isSubtype(t.type)||t.type.isSubtype(p)})))}))}(v.input,v.output,b):b.filter((function(t){return t.block.global})),c=Math.min(b.length-1,c),n){var g=n.toLowerCase();b=b.filter((function(t){var e;return(null===(e=t.keywords)||void 0===e?void 0:e.some((function(t){return t.toLowerCase().startsWith(g)})))||t.name.toLowerCase().startsWith(g)}))}function h(){return(h=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.length){t.next=3;break}return t.next=3,k(b[c]);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=Object(o.useCallback)(function(){var t=Object(s.a)(u.a.mark((function t(e){var n,o,r,i,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(""),d.trigger("hidecontextmenu"),t.next=4,F(e,{position:f});case 4:n=t.sent,d.addNode(n),v&&(o=v.input,r=v.output,o&&(i=Object(m.a)(n.outputs.values()).find((function(t){return o.socket.compatibleWith(t.socket)})),i&&d.connect(i,o)),r&&(c=Object(m.a)(n.inputs.values()).find((function(t){return t.socket.compatibleWith(r.socket)})),c&&d.connect(r,c)));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[d,f,v]),x=b.map((function(t,e){return Object(j.jsx)(L,{component:t,selected:c===e,onAction:function(){return k(t)}},t.name)}));return v?Object(j.jsx)(R,{value:n,onChange:a,onKeyDown:function(t){38===t.keyCode&&p(Math.max(0,c-1)),40===t.keyCode&&p(c+1)},onAction:function(){return h.apply(this,arguments)},children:x}):x}var K=n(19);var _={name:"blocks-contextmenu",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.bind("hidecontextmenu"),t.bind("showcontextmenu");var n,o,a=e.offset?[e.offset.x,e.offset.y]:[-10,-10],r=Object(y.a)(a,2),c=r[0],u=r[1],s=null;t.on("hidecontextmenu",(function(){s&&(s.style.display="none")})),t.on(["click","contextmenu"],(function(){t.trigger("hidecontextmenu")})),t.on("contextmenu",(function(e){var o,a,r=e.e,p=e.node,l=e.context;if(null===(o=r.preventDefault)||void 0===o||o.call(r),null===(a=r.stopPropagation)||void 0===a||a.call(r),t.trigger("showcontextmenu",{e:r,node:p,context:l})){p&&(t.selected.contains(p)||t.selectNode(p));var d=[r.clientX,r.clientY],f=d[0],v=d[1];s||(s=document.createElement("div"),t.view.container.appendChild(s)),s.style.display="block",i.a.render(Object(j.jsx)(h,{x:f+c,y:v+u,handleCloseMenu:function(){return t.trigger("hidecontextmenu")},children:Object(j.jsx)(O.Provider,{value:{editor:t,mouse:n,node:p,context:l},children:p?Object(j.jsx)(N,{}):Object(j.jsx)(D,{})})}),s)}})),t.on("destroy",(function(){t.trigger("hidecontextmenu"),s&&(s.remove(),s=null)}));var p=!1,l=!1;t.view.container.addEventListener("pointermove",(function(t){return o=t})),t.on("mousemove",(function(t){n=t,p=!0})),t.on("connectionpick",(function(t){p=!1;var e=Object(m.a)(t.connections);setTimeout((function(){t.connections.length<e.length&&(l=!0)}))})),t.on("connectiondrop",(function(e){if(p)if(l)l=!1;else{var n=Object(m.a)(e.connections);setTimeout((function(){e.connections.length!==n.length||e.connections.some((function(t,e){return t.input!==n[e].input||t.output!==n[e].output}))||t.trigger("contextmenu",{e:o,context:{input:e instanceof K.d.Input?e:null,output:e instanceof K.d.Output?e:null}})}))}}))}},J=_,q=n(78),B=n.n(q),U=n(53),W=n(9),z=n(14),G=n(15),H=n(17),$=n(18),Y=n(182);function Z(t){var e=t.type,n=t.socket,o=t.innerRef,a=t.io,r=n.findType(),i=!!r.data.reversed,c=a.multipleConnections&&a instanceof K.d.Input===!i;return Object(j.jsx)("div",{className:x()("socket",e,Object(Y.a)(n.name),c&&"multiple",i&&"reversed",!c&&a.connections.length&&"occupied","category-"+r.data.category),title:n.name,ref:function(t){return t&&o(t,e,a)}})}var X=n(35),Q=n(20);function tt(t){var e=t.editor,n=t.node,a=t.block,r=t.fallback,i=function(){if(!e.silent)try{return a.computeTitle(n,e)}catch(t){return console.error("Unable to compute title for node: ".concat(n.name)),console.error(t),"<Error>"}},c=Object(o.useState)(i),u=Object(y.a)(c,2),s=u[0],p=u[1],l=Object(o.useContext)(W.g);Object(Q.a)(l,W.a,(function(){return p(i())}));var d=s||r||null;return Object(I.a)(),Object(j.jsx)("span",{"data-tip":d,children:d})}var et=n(62),nt=n(61);function ot(t){return t?t.title||Object(nt.a)(t.key):""}var at=n(179),rt=function(t){return t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},it=n(183);function ct(t){var e=t.editor,n=t.node,r=t.shortcut,i=r.block,c=i.category,p=Object(o.useContext)(W.g),l=function(){var t=Object(s.a)(u.a.mark((function t(o){var a,c,s,l,d,f,v;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.components.get(i.name)){t.next=5;break}return p.emit(W.c,"Component not found: ".concat(i.name)),t.abrupt("return");case 5:return c={},n&&r.nodeKey&&(c[r.nodeKey]=n.id),t.next=9,a.createNode(c);case 9:s=t.sent,l=e.view.area.mouse,d=l.x,f=l.y,v=[d-80,f-20],s.position[0]=v[0],s.position[1]=v[1],e.addNode(s),e.view.nodes.get(s)._drag.down(o),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),p.emit(W.c,t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.a)([i]),Object(j.jsx)(it.a,{ref:rt,className:"node-shortcut-button px-1 pt-0 pb-1","data-tip":Object(M.a)(i),"data-delay-show":100,style:{background:"none",color:c.data.color,borderColor:c.data.color,cursor:"grab"},onMouseDown:l,children:i.icon?a.a.createElement(i.icon):Object(M.a)(i)})}function ut(t){var e=t.prop,n=t.node,o=t.hideLeft,a=t.hideRight,r=t.bindSocket,i=t.bindControl,c=n.inputs.get(e.key),u=n.outputs.get(e.key),s=n.controls.get(e.key)||(null===c||void 0===c?void 0:c.showControl())&&c.control,p=c&&!o&&Object(j.jsx)(Z,{type:"input",socket:c.socket,io:c,innerRef:r}),l=u&&!a&&Object(j.jsx)(Z,{type:"output",socket:u.socket,io:u,innerRef:r}),d=s&&Object(j.jsx)(U.a,{className:c?"input-control":"control",control:s,innerRef:i});return Object(j.jsxs)("div",{className:x()("prop","key-"+Object(Y.a)(e.key)),children:[Object(j.jsxs)("div",{className:"input",children:[p,d||p&&Object(j.jsx)("div",{className:"input-title",children:ot(e)})]}),Object(j.jsxs)("div",{className:"output",children:[!c&&l&&Object(j.jsx)("div",{className:"output-title",children:ot(e)}),l]})]})}var st=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(){return Object(z.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){var t=this.props,e=t.editor,n=t.node,o=t.bindSocket,r=t.bindControl,i=this.state.selected,c=Object(X.b)(n.name),u=c.topLeft&&n.inputs.get(c.topLeft),s=c.topRight&&n.outputs.get(c.topRight),p=Object(et.a)(n,e,!0);return c.computeTitle&&(p=Object(j.jsx)(tt,{editor:e,node:n,block:c,fallback:p})),Object(j.jsxs)("div",{className:x()("node",i,c.className),children:[Object(j.jsxs)("div",{className:"header d-flex",children:[u&&Object(j.jsx)("div",{children:Object(j.jsx)(Z,{type:"input",socket:u.socket,io:u,innerRef:o})}),Object(j.jsxs)("div",{className:"title d-inline-block flex-grow-1 text-nowrap overflow-hidden",style:{color:c.category.data.color},children:[c.icon&&Object(j.jsx)("span",{className:"d-inline-block pe-1",style:{transform:"translateY(-.1em)"},children:a.a.createElement(c.icon)}),p]}),s&&Object(j.jsx)("div",{children:Object(j.jsx)(Z,{type:"output",socket:s.socket,io:s,innerRef:o})})]}),c.shortcuts.length>0&&Object(j.jsx)(at.a,{className:"px-4 py-1 w-100",style:{background:"#0002"},children:c.shortcuts.map((function(t,o){return Object(j.jsx)(ct,{editor:e,node:n,shortcut:t},o)}))}),Object.values(c.props).filter((function(t){return!t.hidden&&(t.control||(!u||t.key!==c.topLeft)&&(!s||t.key!==c.topRight))})).map((function(t){return Object(j.jsx)(ut,{prop:t,node:n,hideLeft:t.key===c.topLeft,hideRight:t.key===c.topRight,bindSocket:o,bindControl:r},t.key)}))]})}}]),n}(U.b),pt=n(42),lt=n(49),dt=n(59),ft=n.n(dt),vt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t,o,a){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(z.a)(this,n),(r=e.call(this,o)).name=a,r.config=i,r.editor=t,r.render="react",r.component=i.controlType||lt.a,r.props=Object(p.a)(Object(p.a)({},i.controlProps),{},{validation:i.validation||{},control:Object(pt.a)(r),editor:t,bindInput:rt}),r.events=new ft.a,r}return Object(G.a)(n,[{key:"validate",value:function(t){if(void 0===t&&!this.config.optional)return!1;if(null!==t&&void 0!==t){var e=this.config.validation;if(e){if("custom"in e&&!e.custom(t))return!1;if("minLength"in e&&t.length<e.minLength)return!1;if("maxLength"in e&&t.length>e.maxLength)return!1;if("min"in e&&t<e.min)return!1;if("max"in e&&t>e.max)return!1;if("step"in e&&t-(e.min||0)%e.step!==0)return!1;if("pattern"in e&&!e.pattern.test(t))return!1}}return!0}},{key:"getDefaultValue",value:function(){}},{key:"getValue",value:function(){var t=this.getData(this.key);return void 0===t?this.getDefaultValue():t}},{key:"setValue",value:function(t){this.putData(this.key,t),this.events.emit("update",t)}}]),n}(K.a),bt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t,o,a){var r;return Object(z.a)(this,n),e.call(this,t,o.key,a,Object(p.a)(Object(p.a)(Object(p.a)({},(null===(r=o.type)||void 0===r?void 0:r.data)||{}),o.config||{}),{},{prop:o,type:o.type,optional:o.optional}))}return Object(G.a)(n,[{key:"getDefaultValue",value:function(){var t;return null===(t=this.config.type)||void 0===t?void 0:t.getDefaultValue()}},{key:"notifyEditorChange",value:function(){}}]),n}(vt),mt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(){return Object(z.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"getEditorNode",value:function(t){return this.editor.nodes.find((function(e){return e.id===t.id}))}},{key:"getControls",value:function(t){return this.getEditorNode(t).controls}}]),n}(K.d.Component),yt=n(3),jt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t){return Object(z.a)(this,n),t=Object(yt.i)(t),e.call(this,t.name,Object(p.a)(Object(p.a)({},t.data),{},{type:t}))}return Object(G.a)(n,[{key:"findType",value:function(){return this.data.type}},{key:"compatibleWith",value:function(t){if(!("findType"in t))return!1;var e=this.findType(),n=t.findType();return e.isSubtype(n)||n.isSubtype(e)}}]),n}(K.d.Socket),gt=n(40),ht=n(28),Ot=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t,o,a,r){var i;return Object(z.a)(this,n),(i=e.call(this,a.type)).nodeId=t,i.nodeName=o,i.prop=a,i.typeCompiler=r,i._isTypeOfType=yt.t.isSubtype(i.prop.type),i}return Object(G.a)(n,[{key:"findType",value:function(){if(this.typeCompiler.editor.silent)return Object(gt.a)(Object(ht.a)(n.prototype),"findType",this).call(this);try{var t=this.typeCompiler.getOutput(this.nodeId,this.prop.key);if(t)return this._isTypeOfType&&(yt.t.isSubtype(t)&&console.warn("Type of Type of Type (Intentional?)"),t=yt.t.of(t)),t||Object(gt.a)(Object(ht.a)(n.prototype),"findType",this).call(this)}catch(e){console.warn("Error on socket [".concat(this.nodeName,".").concat(this.prop.key,"]:"),e)}return Object(gt.a)(Object(ht.a)(n.prototype),"findType",this).call(this)}}]),n}(jt),kt=n(175),xt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t){var o,a;return Object(z.a)(this,n),(a=e.call(this,t.name)).block=t,a.keywords=[].concat(Object(m.a)(Object(kt.a)(t.name).toLowerCase().split(" ").filter((function(t){return t}))),Object(m.a)((null===(o=t.title)||void 0===o?void 0:o.split(" ").filter((function(t){return t})))||[]),Object(m.a)(t.keywords||[])),a}return Object(G.a)(n,[{key:"builder",value:function(){var t=Object(s.a)(u.a.mark((function t(e){var n,o,a,r,i,c,s,p,d,f,v,b,m,y,j=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t,n){var r=n?new Ot(e.id,e.name,t,j.editor.compilers.type):new jt(t.type);return!!t.type.data.reversed===n?o(t,r,n):a(t,r,n)},o=function(t,n,o){var a=ot(t),i=new K.d.Input(t.key,a,n,t.type.data.reversed||!!t.multi);return r(t,n,o)&&i.addControl(new bt(j.editor,t,a)),e.addInput(i),i},a=function(t,n,o){var a=ot(t),i=new K.d.Output(t.key,a,n,!t.type.data.reversed||!!t.multi);return e.addOutput(i),r(t,n,o)&&e.addControl(new bt(j.editor,t,a)),i},r=function(t,e,n){return t.control||!!e.data.reversed===n&&e.data.controlType&&!t.multi},delete e.meta.title,i=Object(l.a)(this.block.inputs);try{for(i.s();!(c=i.n()).done;)s=c.value,n(s,!1)}catch(u){i.e(u)}finally{i.f()}p=Object(l.a)(this.block.outputs);try{for(p.s();!(d=p.n()).done;)f=d.value,n(f,!0)}catch(u){p.e(u)}finally{p.f()}v=Object(l.a)(this.block.controls);try{for(v.s();!(b=v.n()).done;)m=b.value,y=ot(m),e.addControl(new bt(this.editor,m,y))}catch(u){v.e(u)}finally{v.f()}case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(mt),wt=n(47),Tt=n(48),Ct=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t){return Object(z.a)(this,n),e.call(this,t,"toEditorNode")}return Object(G.a)(n,[{key:"defaultCompile",value:function(t,e,n){return e}},{key:"postCompile",value:function(t,e,n){if(t){var o;if("object"===typeof t){if(!(o=t.id))throw new Error("Invalid node object with keys: {".concat(Object.keys(t).join(", "),"}"))}else o=t;return o=String(o),this.editor.nodes.find((function(t){return String(t.id)===o}))}}}]),n}(Tt.a),Nt=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(t){return Object(z.a)(this,n),e.call(this,t,"inferType")}return Object(G.a)(n,[{key:"defaultCompile",value:function(t,e,n){return Object(yt.i)(t.type)}},{key:"postCompile",value:function(t,e,n){if(void 0!==t){if(!(t=Object(yt.i)(t)).isAbstract())return t;console.warn("[".concat(e.name,".").concat(n,"]"),"Abstract inferred type:",t.toTypeString())}}}]),n}(Tt.a),St=function(t){Object(H.a)(n,t);var e=Object($.a)(n);function n(){var t;Object(z.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).projectName="",t.compilers={type:new Nt(Object(pt.a)(t)),node:new Ct(Object(pt.a)(t)),motoko:new wt.a(Object(pt.a)(t))},t}return Object(G.a)(n,[{key:"toJSON",value:function(){var t=Object(p.a)({name:this.projectName,description:"",version:this.id},Object(gt.a)(Object(ht.a)(n.prototype),"toJSON",this).call(this));return delete t.id,t}},{key:"fromJSON",value:function(){var t=Object(s.a)(u.a.mark((function t(e){var n,o,a=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Object(p.a)({id:e.version},e),this.beforeImport(e)){t.next=3;break}return t.abrupt("return",!1);case 3:return this.projectName=e.name||"",n=!1,t.prev=5,o={},t.next=9,Promise.all(Object.entries(e.nodes).map(function(){var t=Object(s.a)(u.a.mark((function t(e){var r,i,c,s,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(y.a)(e,2),i=r[0],c=r[1],t.prev=1,s=a.getComponent(c.name),t.next=5,s.build(K.d.Node.fromJSON(c));case 5:p=t.sent,o[i]=p,a.addNode(p),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),n=!0,t.abrupt("return",a.trigger("error",t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()));case 9:Object.entries(e.nodes).forEach((function(t){var e=Object(y.a)(t,2),r=e[0],i=e[1],c=o[r];Object.entries(i.outputs).forEach((function(t){var e=Object(y.a)(t,2),r=e[0];e[1].connections.forEach((function(t){var e=t.node,i=t.data,u=c.outputs.get(r),s=o[e];if(!s)return n=!0,a.trigger("error","Tried to connect to unknown node ".concat(c.id));var p=s.inputs.get(t.input);if(!u||!p)return n=!0,a.trigger("error","IO not found for node ".concat(c.id));a.connect(u,p,i)}))}))})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),this.trigger("warn",t.t0),n=!0;case 16:return t.abrupt("return",this.afterImport()&&!n);case 17:case"end":return t.stop()}}),t,this,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()}]),n}(K.d.NodeEditor);function Mt(t){var e=t instanceof K.d.Input?"output":"input";t.connections.sort((function(t,n){return t[e].node.position[1]-n[e].node.position[1]}))}var It={name:"vertical-sort",install:function(t){t.on("connectioncreated",(function(t){Mt(t.input),Mt(t.output)})),t.on("nodedragged",(function(t){for(var e=0,n=[[t.inputs,"output"],[t.outputs,"input"]];e<n.length;e++){var o,a=Object(y.a)(n[e],2),r=a[0],i=a[1],c=Object(l.a)(r.values());try{for(c.s();!(o=c.n()).done;){var u,s=o.value,p=Object(l.a)(s.connections);try{for(p.s();!(u=p.n()).done;){Mt(u.value[i])}}catch(d){p.e(d)}finally{p.f()}}}catch(d){c.e(d)}finally{c.f()}}}))}};var Et={name:"connection-drop",install:function(t){var e=function(t){t.code};document.addEventListener("keydown",e),t.on("destroy",(function(){return document.removeEventListener("keydown",e)}))}};var Lt={name:"connection-opacity",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDistance,o=void 0===n?500:n,a=e.opacityFalloff,r=void 0===a?200:a;t.on(["renderconnection","updateconnection","zoom"],(function(){setTimeout((function(){var e,n=Object(l.a)(t.view.container.querySelectorAll(".connection .main-path"));try{for(n.s();!(e=n.n()).done;){var a=e.value,i=a.getBoundingClientRect().width;a.style.opacity=1/(1+Math.sqrt(Math.max(i-o,0)/r))}}catch(c){n.e(c)}finally{n.f()}}))}))}},At=Lt;var Rt,Pt={name:"drag-button",install:function(t){}},Ft=n(26),Vt=n(0),Dt=["className","children"],Kt=Ft.a.div(Rt||(Rt=Object(f.a)(["\n    \n"])));function _t(t){var e=t.className,n=t.children,o=Object(d.a)(t,Dt);return Object(j.jsx)(Kt,Object(p.a)(Object(p.a)({className:x()("bg-light text-secondary d-flex",e)},o),{},{children:Object(j.jsx)(Vt.b.Provider,{value:{style:{verticalAlign:"bottom",transform:"translateY(-1px)"}},children:n})}))}var Jt,qt=["variant","tooltip","className"],Bt=Ft.a.div(Jt||(Jt=Object(f.a)(["\n\n"])));function Ut(t){var e=t.variant,n=t.tooltip,o=t.className,a=Object(d.a)(t,qt);return Object(I.a)(),Object(j.jsx)(Bt,Object(p.a)({className:x()("noselect h3 px-3 pt-1 pb-2 mb-0 d-inline-block text-center",e&&"text-".concat(e),o),"data-tip":n},a))}var Wt,zt=["children"],Gt=Object(Ft.a)(Ut)(Wt||(Wt=Object(f.a)(["\n  cursor: pointer;\n\n  :hover {\n    background: #0002;\n  }\n"])));function Ht(t){var e=t.children,n=Object(d.a)(t,zt);return Object(j.jsx)(Gt,Object(p.a)(Object(p.a)({},n),{},{children:e}))}var $t=n(84),Yt=n(92),Zt=["options","onFile","onFileContent","className","children"];function Xt(t){var e=t.options,n=t.onFile,a=t.onFileContent,r=t.className,i=t.children,c=Object(d.a)(t,Zt),u=Object(o.useCallback)((function(t){if(t.length){var e=t[0];if(null===n||void 0===n||n(e),a){var o=new FileReader;o.onload=function(t){a(t.target.result)},o.readAsText(e)}}}),[n,a]),s=Object(Yt.a)(Object(p.a)({maxFiles:1,onDrop:u},e)),l=s.getRootProps,f=s.getInputProps,v=s.isDragActive;return Object(j.jsxs)("div",Object(p.a)(Object(p.a)({className:x()(r,v&&"dragging")},Object(p.a)(Object(p.a)({},c),l())),{},{children:[Object(j.jsx)("input",Object(p.a)({},f())),i]}))}var Qt,te,ee,ne=["onLoadFileContent","className"],oe=Ft.a.div(Qt||(Qt=Object(f.a)(["\n  padding: 20px;\n"]))),ae=Ft.a.div(te||(te=Object(f.a)(["\n  :hover {\n    background: #0001;\n  }\n"]))),re=Object(Ft.a)(Xt)(ee||(ee=Object(f.a)(["\n  padding: 2em;\n  border: 2px #0005 dashed;\n\n  &.dragging, &:hover {\n    background: #0002;\n  }\n"])));function ie(t){var e=t.onLoadFileContent,n=t.className,a=Object(d.a)(t,ne),r=Object(o.useContext)(W.g),i=Object($t.getExampleProjects)();return Object(j.jsxs)(oe,Object(p.a)(Object(p.a)({className:x()("bg-light",n)},a),{},{children:[Object(j.jsx)(Xt,{onFileContent:e,children:Object(j.jsx)(re,{className:x()("clickable text-center text-muted rounded-3"),children:Object(j.jsx)("h5",{children:"Import a .blocks file..."})})}),i.map((function(t,e){return Object(j.jsxs)(ae,{className:"clickable mt-2 px-3 py-2",onClick:function(){return r.emit(W.f,t)},children:[Object(j.jsx)("h4",{children:t.name}),Object(j.jsx)("div",{className:"text-muted",children:t.description||"(No description provided)"})]},e)}))]}))}var ce,ue,se,pe=n(181),le=Ft.a.input(ce||(ce=Object(f.a)(["\n  background: none !important;\n  border: none !important;\n  border-bottom: solid 2px #0005 !important;\n  font-weight: bold;\n  vertical-align: top;\n  margin-top: .4em;\n  padding: .25em .25em .1em;\n\n  :focus {\n    background: #0001 !important;\n  }\n"]))),de=Object(Ft.b)(ue||(ue=Object(f.a)(["\n  30% {\n    transform: scale(.9);\n  }\n"]))),fe=Object(Ft.a)(S.v)(se||(se=Object(f.a)(["\n  &.animated {\n    animation: "," .5s ease-out;\n  }\n"])),de);function ve(t){var e=t.getEditor,n=t.onLoadFileContent,a=Object(o.useState)(""),r=Object(y.a)(a,2),i=r[0],c=r[1],u=Object(o.useState)(!1),s=Object(y.a)(u,2),p=s[0],l=s[1],d=Object(o.useState)(!1),f=Object(y.a)(d,2),v=f[0],b=f[1],m=Object(o.useContext)(W.g);Object(Q.a)(m,W.b,(function(){l(!0)})),Object(Q.a)(m,W.f,(function(t){c(t.name),b(!1)})),setTimeout((function(){c(e().projectName)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(_t,{children:[Object(j.jsx)(Ut,{variant:"dark",children:"BLOCKS."}),Object(j.jsxs)("div",{className:"d-inline-block mx-auto",children:[Object(j.jsx)(Ht,{onMouseDown:function(){return m.emit(W.d)},"data-tip":"New Project",children:Object(j.jsx)(S.k,{})}),Object(j.jsx)(le,{type:"text",placeholder:"(Unnamed Project)",className:"text-secondary",value:i||"",onChange:function(t){return function(t){c(t);var n=e();n.projectName=t,m.emit(W.a,n)}(t.target.value)},onKeyDown:function(t){return"Enter"===t.key&&m.emit(W.b,e())}}),Object(j.jsx)(Ht,{tooltip:"Save Changes",onMouseDown:function(){return m.emit(W.b,e())},children:Object(j.jsx)(fe,{className:x()(p&&"animated"),onAnimationEnd:function(){return l(!1)}})}),Object(j.jsx)(Ht,{tooltip:"Export to File",onMouseDown:function(){return m.emit(W.e,e().toJSON())},children:Object(j.jsx)(S.h,{})}),Object(j.jsx)(Ht,{tooltip:"Load Project",onMouseDown:function(){return b(!v)},children:v?Object(j.jsx)(S.n,{}):Object(j.jsx)(S.m,{})})]})]}),Object(j.jsx)(pe.a,{show:v,onHide:function(){return b(!1)},children:Object(j.jsx)(pe.a.Body,{children:Object(j.jsx)(ie,{onLoadFileContent:n})})})]})}var be,me=["hideMenu","onSetup","onChange","onSave","className"];function ye(t){var e,n,o;return null!==(e=null!==(n=null===(o=t.findType)||void 0===o?void 0:o.call(t).data.category)&&void 0!==n?n:t.data.category)&&void 0!==e?e:"none"}var je=Ft.a.div(be||(be=Object(f.a)(["\n  width: 100%;\n  height: 100vh;\n"])));function ge(t){var e=t.hideMenu,n=t.onSetup,a=t.onChange,r=t.onSave,i=t.className,c=Object(d.a)(t,me),f=Object(o.useContext)(W.g),m=null;Object(Q.a)(f,W.a,(function(t){t===m&&(null===a||void 0===a||a(m))})),Object(Q.a)(f,W.b,(function(t){t===m&&(null===r||void 0===r||r(m.toJSON(),m))}));var y=function(t){try{var e=JSON.parse(t);f.emit(W.f,e)}catch(n){f.emit(W.c,n)}};return Object(j.jsx)(Xt,{options:{noClick:!0},onFileContent:y,children:Object(j.jsxs)(je,Object(p.a)(Object(p.a)({className:x()("node-editor d-flex flex-grow-1 flex-column",i)},c),{},{children:[!e&&Object(j.jsx)(ve,{getEditor:function(){return m},onLoadFileContent:y}),Object(j.jsx)("div",{ref:function(t){if(m&&(m.silent=!0,m.clear(),m.components.clear(),m.destroy()),t){m=function(t){var e=new St("blocks-webapp@0.1.0",t);e.use(U.c,{component:st}),e.use(b.a),e.use(B.a),e.use(v.a,{background:function(){var t=document.createElement("div");return t.classList.add("grid"),t.style.pointerEvents="none",e.on("destroy",(function(){return t.remove()})),t}(),snap:{size:16,dynamic:!0}}),e.use(J),e.use(Et),e.use(At),e.use(It),e.use(Pt,{editorButton:2});var n=!1;return e.view.container.addEventListener("mousedown",(function(t){n=!1})),e.on("mousemove",(function(t){n=!0})),e.on("click",(function(t){t.e,n||(e.selected.clear(),e.nodes.forEach((function(t){return t.update()})))})),e.on("zoom",(function(t){return"dblclick"!==t.source})),e.on("nodeselect",(function(t){return!e.selected.contains(t)})),e.on("renderconnection",(function(t){var e=t.el,n=t.connection,o=ye(n.input.socket),a=ye(n.output.socket);if(n.input.socket.data.reversed){var r=[a,o];o=r[0],a=r[1]}e.querySelector(".connection").classList.add("socket-input-category-".concat(o),"socket-output-category-".concat(a))})),e}(t),window.EDITOR=m;var e=function(t){var e=String.fromCharCode(t.which).toLowerCase();t.ctrlKey&&"s"===e&&(t.preventDefault(),f.emit(W.b,m),console.log("Saved successfully"))};document.addEventListener("keydown",e),m.on("destroy",(function(){return document.removeEventListener("keydown",e)}));var o,a,r=Object(l.a)(X.a.values());try{for(r.s();!(o=r.n()).done;){var i=o.value,c=new xt(i);m.register(c)}}catch(y){r.e(y)}finally{r.f()}m.on(["nodecreated","noderemoved","nodedragged","connectioncreated","connectionremoved"],Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.silent||(clearTimeout(a),a=setTimeout((function(){f.emit(W.a,m)})));case 1:case"end":return t.stop()}}),t)})))),m.on("error",(function(t){return f.emit(W.c,t)})),Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===n||void 0===n?void 0:n(p,m);case 2:case"end":return t.stop()}}),t)})))().catch((function(t){return f.emit(W.c,t)}))}function p(t){return d.apply(this,arguments)}function d(){return d=Object(s.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,m.fromJSON(e);case 4:return(n=t.sent)&&(m.view.resize(),v.a.zoomAt(m),f.emit(W.a,m),m.nodes.forEach((function(t){return t.update()}))),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}}})]}))})}var he=n(89),Oe=n.n(he),ke=n(180);var xe,we=n(22),Te="blocks.editorState",Ce=n(168),Ne=function(){try{return window.self!==window.top}catch(t){return!0}}(),Se=Ne?{}:localStorage;function Me(){var t=function(){var t=Object(o.useState)({})[1];return function(){return t({})}}(),e=Object(we.d)().menu,n=Object(o.useContext)(W.g);Object(Q.a)(n,W.d,(function(){xe=Ce,t()})),Object(Q.a)(n,W.f,(function(e){xe=e,t()})),Object(Q.a)(n,W.e,(function(t){var e=JSON.stringify(t);Oe.a.saveAs(new Blob([e]),"".concat(Object(ke.a)(t.name||"project"),".blocks.json"))}));var a=function(){var t=Object(s.a)(u.a.mark((function t(e,n){var o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=xe?JSON.stringify(xe):Se[Te],xe=null,a=o?JSON.parse(o):Ce,t.next=5,e(a);case 5:if(t.sent){t.next=7;break}console.warn("Load error");case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(Q.a)(window,"message",(function(t){t.source;var e,n=t.data;"string"===typeof n&&(console.log("Received message:",n),"load"===(null===(e=n=JSON.parse(n))||void 0===e?void 0:e.type)&&(xe=n.state?JSON.parse(JSON.stringify(n.state)):Ce))})),Object(j.jsx)(ge,{hideMenu:"hidden"===e,onSetup:a,onChange:function(t){},onSave:function(t,e){var n=JSON.stringify(t);if(Se[Te]=n,Ne){var o={type:"save",state:n};console.log("Sending message:",o);window.parent.postMessage(o,"*")}}})}Ne&&console.log("Using embedded mode.");var Ie,Ee=n(74),Le=(n(172),n(44)),Ae=Object(Ft.a)(Le.a)(Ie||(Ie=Object(f.a)(["\n  padding: .5em 1em !important;\n"])));function Re(){return Object(j.jsx)(Ae,{backgroundColor:"#111",place:"bottom",delayShow:300})}var Pe,Fe=n(70);function Ve(){var t=Object(o.useContext)(W.g);return Object(Q.a)(t,W.c,(function(t){Object(Ee.b)(t,{type:"error"})})),Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsxs)(Fe.a,{children:[Object(j.jsx)(Re,{}),Object(j.jsx)(Ee.a,{}),Object(j.jsx)(Me,{})]})})}i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Ve,{})}),document.getElementById("root")),(Pe=function(){})&&Pe instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var e=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;e(Pe),n(Pe),o(Pe),a(Pe),r(Pe)}))}],[[173,1,2]]]);
//# sourceMappingURL=main.55d77e26.chunk.js.map