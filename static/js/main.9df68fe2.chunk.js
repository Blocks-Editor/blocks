(this["webpackJsonpblocks-webapp"]=this["webpackJsonpblocks-webapp"]||[]).push([[0],[,,function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"c",(function(){return M})),n.d(e,"b",(function(){return I})),n.d(e,"B",(function(){return E})),n.d(e,"t",(function(){return A})),n.d(e,"D",(function(){return R})),n.d(e,"i",(function(){return D})),n.d(e,"y",(function(){return P})),n.d(e,"n",(function(){return F})),n.d(e,"j",(function(){return B})),n.d(e,"q",(function(){return V})),n.d(e,"h",(function(){return _})),n.d(e,"w",(function(){return z})),n.d(e,"f",(function(){return J})),n.d(e,"z",(function(){return q})),n.d(e,"k",(function(){return Z})),n.d(e,"o",(function(){return U})),n.d(e,"s",(function(){return W})),n.d(e,"x",(function(){return K})),n.d(e,"A",(function(){return G})),n.d(e,"C",(function(){return H})),n.d(e,"v",(function(){return X})),n.d(e,"u",(function(){return $})),n.d(e,"g",(function(){return Y})),n.d(e,"d",(function(){return Q})),n.d(e,"r",(function(){return tt})),n.d(e,"p",(function(){return et})),n.d(e,"e",(function(){return nt})),n.d(e,"m",(function(){return it})),n.d(e,"l",(function(){return ct}));var o=n(4),a=n(7),r=n(9),i=n(14),c=n(15),u=n(50),s=n(1),l=n(27),p=n(3);function d(t){var e=t.control,n=t.bindInput,o=t.validation,r=o.min,i=o.max,c=o.step,u=Object(l.a)(e),s=Object(a.a)(u,2),d=s[0],f=s[1];return Object(p.jsx)("input",{type:"number",style:{width:"4em"},ref:n,min:r,max:i,step:c,value:d||0,onChange:function(t){return f(+t.target.value||t.target.value)}})}var f=n(13),m=n(11),b=n(10),v=n.n(b),y=n(32),j=n(59),g=["value","constraintType","abstract","invalid","onChange"];function h(t){var e,n,a,i,c=t.value,u=t.constraintType,l=t.abstract,d=t.invalid,b=t.onChange,O=Object(r.a)(t,g);u=u||M;var k=Object(f.a)(N.values()).filter((function(t){return(l||!t.data.abstract)&&u.isSubtype(t)})),C=Object(s.useContext)(m.g);if(c)try{c=it(c)}catch(x){b(c=void 0),C.emit(m.c,x)}return d=d||!c||!k.some((function(t){return t.isSubtype(c)})),Object(y.a)(),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("select",Object(o.a)(Object(o.a)({className:v()(d&&"invalid"),value:null===(e=c)||void 0===e?void 0:e.name,onChange:function(t){return b(it(t.target.value))}},O),{},{children:[d&&Object(p.jsx)("option",{label:"(Type)",value:null===(n=c)||void 0===n?void 0:n.name}),k.map((function(t){return Object(p.jsx)("option",{label:t.name,value:t.name},t.name)}))]})),Object(p.jsx)("div",{className:"ps-2",children:null===(a=c)||void 0===a||null===(i=a.generics)||void 0===i?void 0:i.map((function(t,e){var n;return Object(p.jsx)(h,{value:t,constraintType:c.data.baseType.generics[e],abstract:l,"data-tip":Object(j.a)(null===(n=c.data.genericNames)||void 0===n?void 0:n[e]),onChange:function(t){var n=Object(f.a)(c.generics);n.splice(e,1,t),b(it(Object(o.a)(Object(o.a)({},c.toJSON()),{},{generics:n})))}},e)}))})]})}var O=n(25),k=n(60),C=n(34);var x=n(16),w=["name"],L=["generics","meta"],T=["abstract","arbitraryGenerics"],S=function(){function t(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(i.a)(this,t),this.name=e,this.parent=n,this.generics=o.map((function(t){return it(t)})),this.data=a,this.meta=r}return Object(c.a)(t,[{key:"toJSON",value:function(){return{name:this.name,generics:this.generics.map((function(t){return t.toJSON()}))}}},{key:"of",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return it(this,e)}},{key:"withMeta",value:function(t){var e=t.name,n=Object(r.a)(t,w),o=rt(e||this.name,this,this.generics);return Object.assign(o.meta,n),o}},{key:"isAbstract",value:function(){return this.data.abstract||this.generics.some((function(t){return t.isAbstract()}))}},{key:"getDefaultValue",value:function(){var t=this.data.defaultValue;return"function"===typeof t?t(this):t}},{key:"equals",value:function(t){return this.name===t.name&&this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.equals(t.generics[n])}))}},{key:"isSubtype",value:function(t){return!!t&&(this.data.alwaysSubtype===t||(!(!this.data.arbitraryGenerics||!t.parent||this.name!==t.parent.name)||(this.name===t.name?this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.isSubtype(t.generics[n])})):!!t.parent&&this.isSubtype(t.parent))))}},{key:"getSharedType",value:function(t){if(t)return this===t||this.isSubtype(t)?this:t.isSubtype(this)?t:this.parent?this.parent.getSharedType(t):void 0}},{key:"toTypeString",value:function(){var t,e;return null!==(t=null===(e=this.data.toTypeString)||void 0===e?void 0:e.call(this))&&void 0!==t?t:this.name+(this.generics.length?"<"+this.generics.map((function(t){return t.toTypeString()})).join(", ")+">":"")}},{key:"toString",value:function(){return"Type(".concat(this.toTypeString(),")")}}]),t}(),N=new Map;window.TYPE_MAP=N;var M=ot("Any",{abstract:!0,category:"default",reversed:!1}),I=ot("AnyReversed",{abstract:!0,category:"default",reversed:!0}),E=ot("Type",{parent:M,category:"types",controlType:function(t){var e=t.abstract,n=t.control,o=t.bindInput,r=Object(l.a)(n),i=Object(a.a)(r,2),c=i[0],u=i[1],s=n.config.type.generics[0],d=!n.validate(c);return Object(p.jsx)("div",{ref:o,children:Object(p.jsx)(h,{value:c,constraintType:s,abstract:e,invalid:d,onChange:u})})},defaultValue:function(t){return t.generics[0]},generics:[M]}),A=ot("Node",{parent:M,category:"nodes",controlType:function(t){var e,n=t.editor,o=t.control,r=t.bindInput,i=Object(l.a)(o),c=Object(a.a)(i,2),u=c[0],d=c[1],b=Object(s.useState)((function(){return Object(f.a)(n.nodes)})),y=Object(a.a)(b,2),j=y[0],g=y[1],h=Object(s.useContext)(m.g);Object(O.a)(h,m.a,(function(){return g(Object(f.a)(n.nodes))}));var x=null===(e=o.config.type)||void 0===e?void 0:e.meta.block,w=x&&(Array.isArray(x)?x:[x]).map((function(t){var e="string"===typeof t?t:t.name;return Object(C.b)(e),e}));w&&(j=j.filter((function(t){return!w||w.includes(t.name)})));var L=!u||!j.some((function(t){return String(t.id)===String(u)&&(!w||w.includes(t.name))}));return Object(p.jsxs)("select",{ref:r,className:v()(L&&"invalid"),style:{maxWidth:"100%"},value:u,onChange:function(t){return d(t.target.value||void 0)},children:[Object(p.jsx)("option",{label:"(Select a Node)",value:void 0},-1),j.map((function(t){return Object(p.jsx)("option",{label:Object(k.a)(t,n),value:t.id},t.id)}))]})},toTypeString:function(){return this.meta.block?"Node{block=".concat(JSON.stringify(this.meta.block),"}"):"Node"}}),R=ot("Value",{abstract:!0,parent:M,category:"values",toMotoko:function(){if(this===R)return"Any"}}),D=ot("Custom",{parent:R,arbitraryGenerics:!0}),P=ot("Reference",{parent:M,category:"references"}),F=ot("Identifier",{parent:P,controlType:u.a,validation:{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/},defaultInput:function(t,e){return Object(x.c)(e,t.key)}}),B=ot("Effect",{parent:I,category:"effects",generics:[R],toMotoko:function(t){return Object(a.a)(t,1)[0]}}),V=ot("Member",{parent:I,singleOutput:!0,category:"members"}),_=ot("Container",{parent:I,singleOutput:!0,category:"containers"}),z=(ot("Module",{parent:I,singleOutput:!0,category:"modules"}),ot("Param",{parent:I,category:"parameters"})),J=ot("Bool",{parent:R,controlType:function(t){var e=t.control,n=t.bindInput,o=Object(l.a)(e),r=Object(a.a)(o,2),i=r[0],c=r[1];return Object(p.jsxs)("label",{ref:n,children:[Object(p.jsx)("input",{type:"checkbox",checked:!!i,onChange:function(t){return c(t.target.checked)}}),Object(p.jsx)("span",{className:"input-title my-0",style:{verticalAlign:"top"},children:e.name})]})},defaultValue:!1}),q=(ot("Char",{parent:R,controlType:u.a,validation:{minLength:1,maxLength:1}}),ot("Text",{parent:R,controlType:u.a,defaultValue:""})),Z=ot("Float",{parent:R,controlType:d,defaultValue:0}),U=ot("Int",{parent:Z,category:"integers",controlType:d,validation:{step:1}}),W=ot("Nat",{parent:Z,category:"naturals",validation:{step:1,min:0}}),K=(ot("Blob",{parent:R}),ot("Principal",{parent:R,category:"principals"})),G=(ot("Error",{parent:R}),ot("Tuple",{abstract:!0,arbitraryGenerics:!0,parent:R,category:"tuples",toTypeString:function(){return this===G?this.name:"(".concat(this.generics.map((function(t){return t.toTypeString()})).join(", "),")")}})),H=ot("Unit",G.of());if(G===H)throw new Error;ot("Object",{abstract:!0,arbitraryGenerics:!0,parent:R,category:"objects",toTypeString:function(){var t=this;return"(".concat(this.generics.map((function(e,n){return"".concat(t.genericNames[n],": ").concat(e.toTypeString())})).join(", "),")")}}),ot("Function",{parent:R,generics:[R,R],genericNames:["input","output"],category:"functions",toTypeString:function(){return"".concat(this.generics[0].toTypeString()," -> ").concat(this.generics[1].toTypeString())}});var X=ot("Optional",{parent:R,generics:[R],category:"optionals",toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"?".concat(e)}}),$=ot("Null",{parent:R,alwaysSubtype:X}),Y=ot("Collection",{abstract:!0,parent:R,category:"collections"}),Q=ot("Array",{parent:Y,generics:[R],genericNames:["item"],toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"[".concat(e,"]")}}),tt=ot("MutableArray",{parent:Q,generics:[R],genericNames:["item"],toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"[var ".concat(e,"]")}}),et=ot("Map",{parent:Y,generics:[R,R],genericNames:["key","value"],toMotoko:function(t){var e=Object(a.a)(t,2),n=e[0],o=e[1];return"HashMap.HashMap<".concat(n,", ").concat(o,">")}}),nt=ot("Async",{parent:R,generics:[R],category:"futures",toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"async ".concat(e)}});function ot(t,e){var n;if(e instanceof S)(n=e).name=t;else{var o=e.parent,a=e.generics,i=void 0===a?[]:a,c=e.meta,u=void 0===c?{}:c;(n=rt(t,o,i,Object(r.a)(e,L),u)).data.baseType=n}return N.set(t,n),n}function at(t,e){if("string"===typeof t&&(t=it(t)),(!e||!e.length||e===t.generics)&&!t.data.arbitraryGenerics)return it(t);var n=rt(t.name,t,e);if(!t.isSubtype(n))throw new Error("Generics not assignable to ".concat(t.toTypeString()," from ").concat(n.toTypeString()));return n}function rt(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=e?e.data:{},u=(c.abstract,c.arbitraryGenerics,Object(r.a)(c,T)),s=e?e.meta:{};return new S(t,e||null,n||(e?e.generics:[]),Object(o.a)(Object(o.a)({},u),a),Object(o.a)(Object(o.a)({},s),i))}function it(t,e){if(arguments.length>1)return at(t,e);if(t instanceof S)return t;if("object"===typeof t)return at(t.name,(t.generics||[]).map((function(t){return it(t)})));if(!t)throw new Error("Invalid type: ".concat(t));if(!N.has(t))throw new Error("Unknown type: ".concat(t));return N.get(t)}function ct(){for(var t=arguments.length<=0?void 0:arguments[0],e=1;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];t?n&&(t=t.getSharedType(n)):t=n}return t}},,,,function(t,e,n){"use strict";n.d(e,"j",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"n",(function(){return f})),n.d(e,"i",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return j})),n.d(e,"h",(function(){return g})),n.d(e,"l",(function(){return h})),n.d(e,"a",(function(){return O})),n.d(e,"g",(function(){return k})),n.d(e,"k",(function(){return C})),n.d(e,"e",(function(){return x})),n.d(e,"c",(function(){return w}));var o=n(4),a=n(9),r=n(14),i=n(12),c=["name","parent"],u=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(r.a)(this,t),this.name=e,this.parent=n,this.root=n?n.root:this,this.data=o},s=new Map;function l(t){var e=t.name,n=t.parent,r=Object(a.a)(t,c),i=new u(e,n,n?Object(o.a)(Object(o.a)({},n.data),r):r);return s.set(i.name,i),i}function p(t){if(t instanceof u)return t;if(!s.has(t))throw new Error("Could not find category with name: ".concat(t));return s.get(t)}var d=l("Default"),f=l({name:"State",color:"#3fd",icon:i.i,priority:10}),m=l({name:"Function",color:"#fd3",icon:i.h,priority:20}),b=l({name:"Param",color:"#a8f",icon:i.o,priority:3}),v=l({name:"Type",color:"#2af",icon:i.z}),y=l({name:"Collection",color:"#1c5",icon:i.A}),j=l({name:"Compiler",color:"#f5a",icon:i.d}),g=l({name:"Expression",color:"#aaa",icon:i.j}),h=l({name:"Operator",icon:i.k}),O=l({name:"Actor",color:"#fa8",icon:i.l}),k=l({name:"Effect",icon:i.y,priority:5}),C=l({name:"Literal",icon:i.s}),x=l({name:"Decomposition",icon:i.p}),w=l({name:"Comment",icon:i.e})},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return p}));var o=n(1),a=n.n(o),r=n(55),i="editor-change",c="editor-save",u="project-export",s="project-load",l="project-clear",p="error",d=new(n.n(r).a);d.setMaxListeners(1e3),d.on(p,console.error),window.EVENTS=d,e.g=a.a.createContext(d)},,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return f}));var o=n(14),a=n(15),r=n(20),i=n(22),c=n(7),u=n(43),s=n(2);function l(t,e){var n="number"===typeof t||"string"===typeof t?String(t):t.id;return"node__".concat(n).concat(e?"_"+e:"")}function p(t){return'$import$"'.concat(t,'"')}function d(t){if(!t)return t;t=String(t);var e={};t=t.replace(/\$import\$"([^"]*)"/g,(function(t,n){var o=n.includes("/")?n.substring(n.lastIndexOf("/")+1):n;if(e.hasOwnProperty(o)&&e[o]!==n)throw new Error('Conflicting import paths: "'.concat(n,'" != "').concat(e[o],'"'));return e[o]=n,o}));for(var n=0,o=Object.entries(e);n<o.length;n++){var a=Object(c.a)(o[n],2),r=a[0],i=a[1];t="import ".concat(r,' "').concat(i,'"; ').concat(t)}return t}var f=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t,"toMotoko")}return Object(a.a)(n,[{key:"defaultCompile",value:function(t,e){if(s.n.isSubtype(t.type))return l(e,t.key);if(s.B.isSubtype(t.type)){var n=t.type.generics[0];if(n&&!n.isAbstract())return this.getTypeString()}}},{key:"postCompile",value:function(t,e,n){var o=this;return"string"===typeof t||"number"===typeof t||"boolean"===typeof t||null===t?t:void 0!==t?Array.isArray(t)?t.map((function(t){return o.postCompile(t,e,n)})).filter((function(t){return t})).join(" "):(console.warn("Unexpected Motoko expression:",t),String(t)):void 0}}]),n}(u.a)},,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return s}));var o=n(7),a=n(2),r=n(6);function i(t,e,n){return t=Object(a.m)(t),{topRight:"result",title:"(".concat(e," a)"),category:r.l,inputs:[{key:"input",title:"a",type:t}],outputs:[{key:"result",type:t,toMotoko:function(t){var n=t.input;return"".concat(e,"(").concat(n,")")}}]}}function c(t,e,n){var i=Array.isArray(t)?t:[t,t],c=Object(o.a)(i,2),u=c[0],s=c[1];return u=Object(a.m)(u),s=Object(a.m)(s),{title:"(a ".concat(e," b)"),category:r.l,topRight:"result",inputs:[{key:"left",title:"a",type:u},{key:"right",title:"b",type:u}],outputs:[{key:"result",type:s,toMotoko:function(t){var n=t.left,o=t.right;return"(".concat(n," ").concat(e," ").concat(o,")")}}]}}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.apply(void 0,[a.k].concat(e))}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.apply(void 0,[[a.k,a.f]].concat(e))}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var o=n(4),a=n(13),r=n(2),i=n(6),c=r.j.of(r.C);function u(t,e){var n={key:"before",type:r.j,inferType:function(t,e,n){var o=n.getBlock(e);return r.l.apply(void 0,Object(a.a)(o.inputs.filter((function(t){return r.j.isSubtype(t.type)})).map((function(t){return n.getInput(e,t.key)}))))||c},toMotoko:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var r=e.apply(void 0,[t].concat(o));if(void 0!==r){var i=t.after;return"".concat(r).concat(i?" "+i:"")}}};return Object(o.a)(Object(o.a)({category:i.g,topLeft:"before",topRight:"after"},t),{},{inputs:[].concat(Object(a.a)(t.inputs||[]),[{key:"after",type:r.j,optional:!0}]),outputs:[].concat(Object(a.a)(t.outputs||[]),[n])})}function s(t,e){return Object(o.a)(Object(o.a)({category:i.g,topLeft:"statement"},t),{},{outputs:[].concat(Object(a.a)(t.outputs||[]),[Object(o.a)({key:"statement",type:r.j},e)])})}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(1);function a(t,e,n,a){return Object(o.useEffect)((function(){if(t){var o="addEventListener"in t;return o?t.addEventListener(e,n,a):t.on(e,n,a),function(){o?t.removeEventListener(e,n):t.off(e,n)}}})),n}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(7),a=n(1),r=n(25),i=n(11);function c(t){var e=t.getValue(),n=Object(a.useState)(e),c=Object(o.a)(n,2)[1],u=Object(a.useContext)(i.g);return Object(r.a)(u,i.a,(function(){var e;c(t.getValue()),null===(e=t.notifyEditorChange)||void 0===e||e.call(t)})),Object(r.a)(t.events,"update",(function(){return u.emit(i.a,t,e)})),[e,function(e){return t.setValue(e)}]}},,function(t,e,n){"use strict";n.r(e),n.d(e,"stateReadIcon",(function(){return c})),n.d(e,"stateWriteIcon",(function(){return u}));var o=n(2),a=n(36),r=n(6),i=n(12),c=i.b,u=i.a,s=Object(a.b)({info:"A persistent smart contract variable",topRight:"value",category:r.n,global:!0,computeTitle:function(t,e){var n=Object(a.a)(t,e),r=e.compilers.type.getInput(t,"initialValue")||o.C;return n&&"".concat(n," : ").concat(e.compilers.motoko.getTypeString(r))},shortcuts:[{block:"StateRead",nodeKey:"stateNode"},{block:"StateUpdate",nodeKey:"stateNode"}],inputs:[{key:"initialValue",type:o.D,optional:!0}],outputs:[{key:"value",type:o.D,toMotoko:function(t){return t.name},inferType:function(t){return t.initialValue}}],controls:[{key:"stable",type:o.f}]},{toMotoko:function(t,e,n){var o=t.stable,a=t.name,r=t.initialValue,i=[!!o&&"stable"].filter((function(t){return t})).join(" "),c=n.editor.compilers.type.getInput(e,"initialValue");return r=r||"()","".concat(i&&i+" ").concat("var"," ").concat(a).concat(c?" : ".concat(n.getTypeString(c)):""," = ").concat(r,";")}});e.default=s},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o,a=n(1),r=n(40);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(a.useEffect)((function(){clearTimeout(o),o=setTimeout((function(){return r.a.rebuild()}))}),t),r.a}},,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return g}));var o=n(28),a=n(7),r=n(4),i=n(68),c=n(2),u=n(6);if("undefined"===typeof n(67).context){var s=n(107),l=n(68);n(67).context=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/\.js$/,r={},i=function t(e){s.readdirSync(e).forEach((function(n){var i=l.resolve(e,n);s.statSync(i).isDirectory()?o&&t(i):a.test(i)&&(r[i]=!0)}))},c=function(t){return n(67)(t)};return c.keys=function(){return Object.keys(r)},i(l.resolve(t,e)),c}}var p=[],d=new Set,f=n(108);function m(t,e,n){if(e){var a,r=Object(o.a)(e);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(!i.key||t.props[i.key]!==i){if(t.props.hasOwnProperty(i.key))throw new Error("Duplicate prop in ".concat(t.name,": ").concat(i.key));i[n]=i[n]||!0,t.props[i.key]=i}}}catch(c){r.e(c)}finally{r.f()}}}f.keys().forEach((function(t){var e=Object(i.basename)(t,".js"),n=f(t).default;if(n=Object(r.a)({},n)){if(n.name=e,d.has(e))return void console.error("Duplicate block name: ".concat(e));n.category=n.category?Object(u.j)(n.category):u.f,n.props=n.props||{};for(var o=0,s=Object.entries(n.props);o<s.length;o++){var l=Object(a.a)(s[o],2),b=l[0],v=l[1];if(v.key&&v.key!==b)throw new Error("Prop key mismatch: ".concat(b," != ").concat(v.key));v.key=b}m(n,n.outputs,"output"),m(n,n.inputs,"input"),m(n,n.controls,"control"),n.inputs=[],n.outputs=[],n.controls=[];for(var y=0,j=Object.entries(n.props);y<j.length;y++){var g=Object(a.a)(j[y],2),h=g[0],O=g[1];O.key=h,O.output?n.outputs.includes(O)||n.outputs.push(O):O.input?n.inputs.includes(O)||n.inputs.push(O):O.control&&(n.controls.includes(O)||n.controls.push(O))}for(var k=0,C=Object.values(n.props);k<C.length;k++){var x=C[k];if(!x.type&&(x.input||x.output)&&x.control)throw console.log(x),new Error("Type not found for ".concat(n.name," : ").concat(x.key));x.type&&(x.type=Object(c.m)(x.type))}d.add(n.name),p.push(n)}}));var b=new Map(p.map((function(t){return[t.name,t]})));window.BLOCK_MAP=b;var v,y=Object(o.a)(b.values());try{var j=function(){var t=v.value;t.shortcuts?t.shortcuts.forEach((function(e){if(!e.block)throw new Error("Shortcut in ".concat(t.name," requires a `block` attribute"));e.block=g(e.block)})):t.shortcuts=[]};for(y.s();!(v=y.n()).done;)j()}catch(h){y.e(h)}finally{y.f()}function g(t){if(!t)throw new Error("Block cannot be ".concat(t));if("string"===typeof t){if(!b.has(t))throw new Error("Block does not exist: ".concat(t));return b.get(t)}return t}}).call(this,"/")},function(t,e,n){"use strict";n.r(e),n.d(e,"arrayImportRef",(function(){return i}));var o=n(2),a=n(16),r=n(6),i=Object(a.b)("mo:base/Array"),c={title:"Create Array",category:r.b,icon:r.b.data.icon,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value"),o=e.compilers.motoko.getOutput(t,"mutable");return n&&"new Array [ ".concat(o?"var ":"").concat(e.compilers.motoko.getTypeString(n.generics[0])," ]")},inputs:[{key:"itemType",type:o.B.of(o.D)},{key:"items",type:o.D,multi:!0}],outputs:[{key:"value",type:o.d,inferType:function(t,e,n){var a=t.itemType;return(n.editor.compilers.motoko.getInput(e,"mutable")?o.r:o.d).of(a)},toMotoko:function(t){var e=t.mutable,n=t.items;return"[".concat(e?n.length?"var ":"var":"").concat(n.join(", "),"]")}}],controls:[{key:"mutable",type:o.f}]};e.default=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return m}));var o=n(13),a=n(4),r=n(2),i=n(7),c=(n(1),n(27)),u=n(10),s=n.n(u),l=n(3);function p(t){var e=t.control,n=t.bindInput,o=t.options,a=t.findLabel,r=Object(c.a)(e),u=Object(i.a)(r,2),p=u[0],d=u[1];void 0!==p||o.includes(p)||(p=o[0],d(p));var f=!e.validate(p)||!o.includes(p);return Object(l.jsx)("select",{className:s()(f&&"invalid"),ref:n,value:p,onChange:function(t){return d(t.target.value||void 0)},children:o.map((function(t,e){var n;return Object(l.jsx)("option",{label:null!==(n=null===a||void 0===a?void 0:a(t,e))&&void 0!==n?n:t,value:t},e)}))})}function d(t,e){return e.compilers.motoko.getInput(t,"name")}function f(){return t={key:"visibility"},e=["public","private","system"],Object(a.a)(Object(a.a)({},t),{},{config:Object(a.a)(Object(a.a)({},t.config||{}),{},{controlType:p,controlProps:{options:t.optional?[void 0].concat(Object(o.a)(e)):e,findLabel:function(t){return t?t.charAt(0).toUpperCase()+t.substring(1):"--"}}})});var t,e}function m(t,e){return Object(a.a)(Object(a.a)({topLeft:"member"},t),{},{inputs:[{key:"name",type:r.n}].concat(Object(o.a)(t.inputs||[])),outputs:[Object(a.a)({key:"member",type:r.q},e)].concat(Object(o.a)(t.outputs||[]))})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(13),a=n(4),r=n(6);function i(t,e,n){return Object(a.a)(Object(a.a)({category:r.k,topRight:"value"},t),{},{outputs:[].concat(Object(o.a)(t.outputs||[]),[{key:"value",type:e,control:!0,toMotoko:function(t){var e=t.value;if(void 0!==e)return String(n?n(e):e)}}])})}},,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(15),a=n(14),r=n(20),i=n(22),c=n(94),u=n(34),s=n(19),l=n(2),p=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,o){return Object(a.a)(this,n),e.call(this,"".concat(t.name,".").concat(o))}return n}(Object(c.a)(Error)),d=function(){function t(e,n){Object(a.a)(this,t),this.editor=e,this.compileKey=n}return Object(o.a)(t,[{key:"defaultCompile",value:function(t,e){}},{key:"postCompile",value:function(t,e,n){return t}},{key:"getNode",value:function(t){if(t instanceof s.d.Node)return t;if(!t)throw new Error("Node cannot be ".concat(JSON.stringify(t)));var e=String("string"===typeof t||"number"===typeof t?t:t.id);if(!(t=this.editor.nodes.find((function(t){return String(t.id)===e}))))throw new Error("Node does not exist: ".concat(e));return t}},{key:"getBlock",value:function(t){return t=this.getNode(t),Object(u.b)(t.name)}},{key:"getInput",value:function(t,e){var n=this;t=this.getNode(t);var o=this.getBlock(t);if(!o.props.hasOwnProperty(e))throw new Error("Prop not found on ".concat(t.name,": ").concat(e));var a=o.props[e];if(a.input)if(a.type.data.reversed){var r=this._output(t,e);if(a.multi)return r.connections.map((function(t){return n._compileConnection(t,t.output,t.input,"inputs")}));if(r.connections.length){var i=r.connections[0];return this._compileConnection(i,i.output,i.input,"inputs")}}else{var c=this._input(t,e);if(a.multi)return c.connections.map((function(t){return n._compileConnection(t,t.input,t.output,"outputs")}));if(c.connections.length){var u=c.connections[0];return this._compileConnection(u,u.input,u.output,"outputs")}if(c.control)return c.control.getValue()}if(a.control){var s=this._control(t,a.key);return this.postCompile(s.getValue(),t,e)}}},{key:"getOutput",value:function(t,e){t=this.getNode(t);var n=this._prop(t,e);try{var o,a=this.getInputArgs(t);if(!a)return;return o=n[this.compileKey]?n[this.compileKey](a,t,this):this.defaultCompile(n,t),this.postCompile(o,t,e)}catch(r){if(r instanceof p)return;console.error("[".concat(t.name,".").concat(e,"]"),r),this.editor.trigger("warn","[".concat(t.name,".").concat(e,"] ").concat(r))}}},{key:"getInputArgs",value:function(t){var e=this;t=this.getNode(t);for(var n=this.getBlock(t),o={},a=function(){var a=i[r];if(a.input||a.control){var c=!1;Object.defineProperty(o,a.key,{get:function(){if(!c){var o,r,i,u=e.getInput(t,a.key);if(void 0===u&&!a.optional)if(void 0===(u=null===(o=a.type)||void 0===o||null===(r=(i=o.data).defaultInput)||void 0===r?void 0:r.call(i,a,t))&&!a.optional)throw new p(n,a.key);return c=!0,u}}})}},r=0,i=Object.values(n.props);r<i.length;r++)a();return o}},{key:"getTypeString",value:function(t){var e,n,o,a=this;return(null===(e=t=Object(l.m)(t))||void 0===e||null===(n=(o=e.data)[this.compileKey])||void 0===n?void 0:n.call(o,t.generics.map((function(t){return a.getTypeString(t)})),this))||t.toTypeString()}},{key:"inferType",value:function(t,e){return this.editor.compilers.type.getInput(t,e)}},{key:"_compileConnection",value:function(t,e,n){return this.getOutput(n.node,n.key)}},{key:"_prop",value:function(t,e){var n=this.getBlock(t);if(!n.props.hasOwnProperty(e))throw new Error("Prop does not exist in ".concat(t.name,": ").concat(e));return n.props[e]}},{key:"_input",value:function(t,e){if(!t.inputs.has(e))throw new Error("Input not found on ".concat(t.name,": ").concat(e));return t.inputs.get(e)}},{key:"_output",value:function(t,e){if(!t.outputs.has(e))throw new Error("Output not found on ".concat(t.name,": ").concat(e));return t.outputs.get(e)}},{key:"_control",value:function(t,e){if(!t.controls.has(e))throw new Error("Control not found on ".concat(t.name,": ").concat(e));return t.controls.get(e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){return t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(190);function a(t){return t?t.title||Object(o.a)(t.name):""}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(7),a=(n(1),n(27)),r=n(10),i=n.n(r),c=n(3);function u(t){var e=t.control,n=t.bindInput,r=t.validation,u=r.minLength,s=r.maxLength,l=Object(a.a)(e),p=Object(o.a)(l,2),d=p[0],f=p[1],m=!e.validate(d);return Object(c.jsx)("input",{type:"text",className:i()("w-100",m&&"invalid"),autoComplete:"blocks-app",autoCorrect:"off",ref:n,value:d||"",placeholder:e.name,minLength:u,maxLength:s,onChange:function(t){return f(t.target.value||void 0)}})}},,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(191);function a(t){return t?Object(o.a)(t):""}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(34),a=n(46);function r(t,e,n){var r=Object(o.b)(t.name);if(!n&&r&&r.computeTitle){var i=r.computeTitle(t,e);if(i)return i}return Object(a.a)(r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=/{([0-9]+)}/g;function a(t,e){return(e||"").replaceAll(o,(function(e,n){return(n=+n)>=0&&n<t.length?t[n]:e}))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(7),a=(n(1),n(27)),r=n(4),i=n(9),c=n(90),u=function(t){t.languages.register({id:"motoko"}),t.languages.setLanguageConfiguration("motoko",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"<",close:">"}]}),t.languages.setMonarchTokensProvider("motoko",{defaultToken:"",tokenPostfix:".mo",keywords:["actor","and","async","assert","await","break","case","catch","class","continue","debug","else","false","for","func","if","in","import","module","not","null","object","or","label","let","loop","private","public","return","shared","try","throw","debug_show","query","switch","true","type","var","while","stable","flexible","system"],accessmodifiers:["public","private","shared"],typeKeywords:["Any","None","Null","Bool","Int","Int8","Int16","Int32","Int64","Nat","Nat8","Nat16","Nat32","Nat64","Word8","Word16","Word32","Word64","Float","Char","Text","Blob","Error","Principal"],operators:["=","<",">",":","<:","?","+","-","*","/","%","**","&","|","^","<<",">>","#","==","!=",">=","<=",":=","+=","-=","*=","/=","%=","**=","&=","|=","^=","<<=",">>=","#=","->"],symbols:/[=(){}[\].,:;@#_&\-<>`?!+*\\/]/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_$][\w$]*/,{cases:{"@typeKeywords":"keyword.type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}})},s=n(3),l=["value","onChange"];function p(t){var e=t.value,n=t.onChange,o=Object(i.a)(t,l);return Object(s.jsx)(c.a,Object(r.a)({theme:"vs-dark",defaultLanguage:"motoko",beforeMount:u,value:e,onChange:function(t){null===n||void 0===n||n(t)},options:{tabSize:2,minimap:{enabled:!1},wordWrap:"off",scrollBeyondLastLine:!1,fontSize:16}},o))}function d(t){var e=t.control,n=t.bindInput,r=Object(a.a)(e),i=Object(o.a)(r,2),c=i[0],u=i[1];return Object(s.jsx)("div",{ref:n,style:{height:150},children:Object(s.jsx)(p,{value:c,onChange:u})})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var o=n(2),a=n(7),r=n(8),i=n.n(r),c=n(24),u=n(1),s=n(11),l=n(25);function p(t){var e,n,o,r=t.promise,i=t.loading,c=t.error,l=t.children,p=Object(u.useState)("loading"),d=Object(a.a)(p,2),f=d[0],m=d[1],b=Object(u.useState)(),v=Object(a.a)(b,2),y=v[0],j=v[1],g=Object(u.useContext)(s.g);return Object(u.useEffect)((function(){Promise.resolve(r).then((function(t){m("success"),j(t)})).catch((function(t){m("error"),j(t),c||g.emit(s.c,t)}))}),[r,c,g]),"loading"===f?null!==(n=null===i||void 0===i?void 0:i())&&void 0!==n?n:null:"error"===f?null!==(o=null===c||void 0===c?void 0:c(y))&&void 0!==o?o:null:null!==(e=null===l||void 0===l?void 0:l(y))&&void 0!==e?e:null}var d=n(81),f=n(12),m=n(199),b=n(32),v=n(40),y=n(3);function j(t){var e,n=t.control,o=t.bindInput,r=t.query,j=function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(n,n.getNode(),n.editor);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn(t.t0),t.abrupt("return","<".concat(t.t0,">"));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),g=Object(u.useState)(j),h=Object(a.a)(g,2),O=h[0],k=h[1],C=Object(u.useState)(),x=Object(a.a)(C,2),w=x[0],L=x[1],T=Object(u.useContext)(s.g);Object(l.a)(T,s.a,(function(){k(j())}));var S=function(){L(!0),v.a.show(e),setTimeout((function(){return L(!1)}),1e3)};return Object(b.a)(),Object(y.jsx)(p,{promise:O,children:function(t){return(null!==t&&void 0!==t?t:null)&&Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("input",{type:"text",className:"w-100 small",readOnly:!0,ref:o,value:t||""}),Object(y.jsx)(d.CopyToClipboard,{text:t,children:Object(y.jsxs)(m.a,{ref:o,size:"sm",variant:"outline-light","data-tip":w?void 0:"Copy to Clipboard",onClick:S,children:[Object(y.jsx)("span",{ref:function(t){return e=t},"data-tip":"Copied!"}),Object(y.jsx)(f.g,{})]})})]})}})}var g=n(6),h=n(16);function O(t,e,n){function a(t){return function(o,a,r){var i=r.compilers[e].getInput(a,t),c=n?n(i):i;return Object(h.d)(c)}}return{title:t,category:g.d,icon:g.d.data.icon,topLeft:"input",topRight:"reversed",inputs:[{key:"input",title:"Input",type:o.c},{key:"reversed",title:"Input",type:o.b}],controls:[{key:"reversedDisplay",title:"Display",config:{controlType:j,controlProps:{query:a("reversed")}}},{key:"display",config:{controlType:j,controlProps:{query:a("input")}}}]}}},,,function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=67},,function(t,e,n){"use strict";n.r(e),n.d(e,"getFunctionReturnType",(function(){return u}));var o=n(2),a=n(36),r=n(6),i=n(16),c=o.C;function u(t,e){var n,a=(null===(n=e.compilers.type.getInput(t,"body"))||void 0===n?void 0:n.generics[0])||c,r=e.compilers.control.getInput(t,"query"),i=e.compilers.control.getInput(t,"visibility");return(r||"public"===i)&&(a=o.e.of(a)),a}var s=Object(a.b)({info:"Evaluate based on given input parameters",category:r.i,topRight:"body",global:!0,computeTitle:function(t,e){var n=Object(a.a)(t,e),o=e.compilers.motoko.getInputArgs(t),r=o.params,i=o.body,c=u(t,e);if(n||r.length||i)return"".concat(n||"","(").concat(r.join(", "),")").concat(c?" : "+e.compilers.motoko.getTypeString(c):"")},shortcuts:[{block:"FunctionCall",nodeKey:"functionNode"},{block:"Return",connections:[{fromOutput:!0,from:"body",to:"statement"}]}],inputs:[{key:"params",type:o.w,multi:!0},{key:"body",type:o.j,optional:!0}],outputs:[{key:"caller",type:o.x,toMotoko:function(t,e,n){return"".concat(Object(i.c)(e),".caller")}}],controls:[Object(a.c)(),{key:"query",type:o.f}]},{toMotoko:function(t,e,n){var o=t.name,a=t.visibility,r=t.query,c=t.params,s=t.body,l=e.outputs.get("caller").connections.length,p=["system"!==a&&a,!!l&&"shared"].filter((function(t){return t})).join(" "),d=u(e,n.editor),f=n.getTypeString(d);return[p,l?Object(i.c)(e):"",r?"query":"","func ".concat(o||"","(").concat(c.join(", "),")").concat("()"!==f?" : ".concat(f):""),"{ ".concat(s||""," };")]}});e.default=s},,,,,,,,,,,,,,function(t,e,n){var o=[n(178),n(179),n(180),n(181),n(182),n(183)];t.exports={getExampleProjects:function(){return o}}},,,,,,,,,,,,,,,,,,function(t,e,n){},,,,,,,function(t,e,n){var o={"./Actor.js":109,"./ActorClass.js":110,"./Add.js":111,"./And.js":112,"./ArrayAppend.js":113,"./ArrayAppended.js":114,"./ArrayFilter.js":115,"./ArrayGet.js":116,"./ArrayMap.js":117,"./ArrayPrepend.js":118,"./ArrayPut.js":119,"./Await.js":120,"./CodeType.js":121,"./CodeValue.js":122,"./CollectionGet.js":123,"./CollectionPut.js":124,"./CollectionSize.js":125,"./Comment.js":188,"./CommentRegion.js":189,"./CompareEqual.js":126,"./CompareGreater.js":127,"./CompareGreaterEqual.js":128,"./CompareLess.js":129,"./CompareLessEqual.js":130,"./CompareNotEqual.js":131,"./CompileMotoko.js":132,"./CompileType.js":135,"./Conditional.js":136,"./ConditionalValue.js":137,"./DefaultActor.js":138,"./Divide.js":139,"./DivideInt.js":140,"./Function.js":69,"./FunctionCall.js":141,"./GlobalFunction.js":142,"./LiteralBool.js":143,"./LiteralCustomType.js":144,"./LiteralFloat.js":145,"./LiteralIdentifier.js":146,"./LiteralInt.js":147,"./LiteralNat.js":148,"./LiteralPair.js":149,"./LiteralPairType.js":150,"./LiteralText.js":151,"./LiteralTuple.js":152,"./LiteralTupleType.js":153,"./LiteralType.js":154,"./LoopWhile.js":155,"./MapGet.js":156,"./MapPut.js":157,"./MapRemove.js":158,"./Multiply.js":159,"./NewArray.js":35,"./NewTextHashMap.js":160,"./Not.js":161,"./Null.js":162,"./Object.js":163,"./Optional.js":164,"./OptionalUnwrap.js":165,"./Or.js":166,"./Parameter.js":167,"./ReferenceImport.js":168,"./Return.js":169,"./State.js":29,"./StateRead.js":170,"./StateUpdate.js":171,"./Subtract.js":172,"./TextConcat.js":173,"./TextSize.js":174,"./TypeMember.js":175,"./TypeMemberReference.js":176,"./Variable.js":177};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id=108},function(t,e,n){"use strict";n.r(e);var o=n(2),a={info:"An actor which can be deployed as a smart contract",category:n(6).a,topLeft:"actor",topRight:"members",computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t).name;return n&&"actor ".concat(n)},inputs:[{key:"name",type:o.n,optional:!0},{key:"members",type:o.q,multi:!0}],outputs:[{key:"actor",type:o.h,toMotoko:function(t){var e=t.name,n=t.members;return"actor".concat(e?" "+e:""," { ").concat(n.join(" ")," };")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(16),i={info:"An object-oriented class of actors",category:a.a,topLeft:"actor",topRight:"members",computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t),o=n.name,a=n.params;if(o)return"actor class ".concat(o,"(").concat(a.join(", "),")")},inputs:[{key:"name",type:o.n,optional:!0},{key:"members",type:o.q,multi:!0},{key:"params",type:o.w,multi:!0}],outputs:[{key:"actor",type:o.h,toMotoko:function(t,e,n){var o=t.name,a=t.params,i=t.members,c=e.outputs.get("caller").connections.length;return"".concat(c?"shared (".concat(Object(r.c)(e),")"):"","actor class").concat(o?" "+o:"","(").concat(a.join(", "),") = ").concat("this"," { ").concat(i.join(" ")," };")}},{key:"caller",type:o.x,toMotoko:function(t,e,n){return"".concat(Object(r.c)(e),".caller")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.a)("+",(function(t,e){return t+e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)(a.f,"and",(function(t,e){return t&&e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(35),c=n(12),u=Object(a.b)({title:"Append (Array)",category:r.b,icon:c.u,inputs:[{key:"array",title:"Array",type:o.d},{key:"value",type:o.D}]},(function(t){var e=t.array,n=t.value;return"".concat(e," := ").concat(i.arrayImportRef,".append(").concat(e,", [").concat(n,"]);")}));e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(29),i=n(35),c={title:"Appended (Array)",category:a.b,icon:r.stateWriteIcon,topRight:"result",hidden:!0,inputs:[{key:"array",type:o.d},{key:"item",type:o.D}],outputs:[{key:"result",type:o.D,inferType:function(t){var e=t.array;if(o.d.isSubtype(e))return e.generics[0]},toMotoko:function(t){var e=t.array,n=t.item;return"".concat(i.arrayImportRef,".append(").concat(e,", ").concat(n,");")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(12),i=n(16),c=n(35),u={title:"Filter Items (Array)",category:a.b,icon:r.n,topRight:"result",inputs:[{key:"array",type:o.d},{key:"body",title:"Filter",type:o.j.of(o.f)}],outputs:[{key:"result",type:o.d,inferType:function(t){return t.array},toMotoko:function(t,e,n){var a=t.array,r=t.body,u=(null===a||void 0===a?void 0:a.generics[0])||o.C,s=n.getTypeString(u);return"".concat(c.arrayImportRef,".filter<").concat(s,">(").concat(a,", func (").concat(Object(i.c)(e)," : ").concat(s,") : Bool { ").concat(r," })")}},{key:"item",type:o.D,inferType:function(t){var e=t.array;if(o.d.isSubtype(e))return e.generics[0]},toMotoko:function(t,e,n){return Object(i.c)(e)}}]};e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(29),i={title:"Get (Array)",category:a.b,icon:r.stateReadIcon,topRight:"value",inputs:[{key:"array",type:o.d},{key:"index",type:o.s}],outputs:[{key:"value",type:o.D,inferType:function(t){var e=t.array;if(o.d.isSubtype(e))return e.generics[0]},toMotoko:function(t){var e=t.array,n=t.index;return"".concat(e,"[").concat(n,"]")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(12),i=n(16),c=n(35),u={title:"Replace Items (Array)",category:a.b,icon:r.n,topRight:"body",inputs:[{key:"array",type:o.d},{key:"body",title:"Replace",type:o.j}],outputs:[{key:"result",type:o.d,inferType:function(t){var e=t.body;if(o.j.isSubtype(e))return o.d.of(e.generics[0])},toMotoko:function(t,e,n){var a=t.array,r=t.body,u=(null===a||void 0===a?void 0:a.generics[0])||o.C,s=n.editor.compilers.type.getInput(e,"body")||o.C,l=n.getTypeString(u),p=n.getTypeString(s);return"".concat(c.arrayImportRef,".map<").concat(l,", ").concat(p,">(").concat(a,", func (").concat(Object(i.c)(e)," : ").concat(l,") : ").concat(p," { ").concat(r," })")}},{key:"item",type:o.D,inferType:function(t){var e=t.array;if(o.d.isSubtype(e))return e.generics[0]},toMotoko:function(t,e,n){return Object(i.c)(e)}}]};e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(35),c=n(12),u=Object(a.b)({title:"Prepend (Array)",category:r.b,icon:c.t,inputs:[{key:"array",title:"Array",type:o.d},{key:"value",type:o.D}]},(function(t){var e=t.array,n=t.value;return"".concat(e," := ").concat(i.arrayImportRef,".append([").concat(n,"], ").concat(e,");")}));e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(29),c=Object(a.b)({title:"Put (Array)",category:r.b,icon:i.stateWriteIcon,inputs:[{key:"array",title:"Array (mutable)",type:o.r},{key:"index",type:o.s},{key:"value",type:o.D}]},(function(t){var e=t.array,n=t.index,o=t.value;return"".concat(e,".put(").concat(n,", ").concat(o,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a={title:"(await a)",info:"Wait for an asynchronous value",category:n(6).l,topRight:"result",inputs:[{key:"input",type:o.D}],outputs:[{key:"result",type:o.D,inferType:function(t){return t.input.generics[0]},toMotoko:function(t){var e=t.input;return"(await ".concat(e,")")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(61),a=n(2),r=n(6),i=n(63),c={title:"{ Type }",info:"Compile an arbitrary type",category:r.h,icon:r.h.data.icon,topRight:"result",width:14,inputs:[{key:"inputs",type:a.B,multi:!0},{key:"type",type:a.B.of(a.D)}],outputs:[{key:"result",type:a.B.of(a.D),inferType:function(t){return t.type||a.i},toMotoko:function(t){var e=t.inputs,n=t.expression;return Object(o.a)(e,n)}}],controls:[{key:"expression",config:{controlType:i.a}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(61),a=n(2),r=n(6),i=n(63),c={title:"{ Expression }",info:"Compile an arbitrary expression",category:r.h,icon:r.h.data.icon,topRight:"result",width:14,inputs:[{key:"inputs",type:a.c,multi:!0},{key:"type",type:a.B.of(a.D)}],outputs:[{key:"result",type:a.D,inferType:function(t){return t.type},toMotoko:function(t){var e=t.inputs,n=t.expression;return"do { ".concat(Object(o.a)(e,n)," }")}}],controls:[{key:"expression",config:{controlType:i.a}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(29),i={title:"Get (Collection)",category:a.b,icon:r.stateReadIcon,topRight:"value",hidden:!0,inputs:[{key:"collection",type:o.g},{key:"key",type:o.D}],outputs:[{key:"value",type:o.v.of(o.D),inferType:function(t){var e=t.collection;if(o.p.isSubtype(e))return o.v.of(e.generics[1])},toMotoko:function(t){var e=t.collection,n=t.key;return"".concat(e,".get(").concat(n,")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(29),c=Object(a.b)({title:"Put (Collection)",category:r.b,icon:i.stateWriteIcon,hidden:!0,inputs:[{key:"collection",type:r.b},{key:"key",type:o.D},{key:"value",type:o.D}]},(function(t){var e=t.collection,n=t.key,o=t.value;return"".concat(e,".put(").concat(n,", ").concat(o,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(12),i={title:"Size (Collection)",category:a.b,icon:r.w,inputs:[{key:"collection",type:o.p}],outputs:[{key:"value",type:o.s,toMotoko:function(t){var e=t.map;return"".concat(e,".size()")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)([a.D,a.f],"==",(function(t,e){return t===e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.c)(">",(function(t,e){return t>e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.c)(">=",(function(t,e){return t>=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.c)("<",(function(t,e){return t<e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.c)("<=",(function(t,e){return t<=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)([a.D,a.f],"!=",(function(t,e){return t!==e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(64),a=Object(o.a)("Motoko","motoko");e.default=a},,,function(t,e,n){"use strict";n.r(e);var o=n(64),a=Object(o.a)("Type","type",(function(t){return null===t||void 0===t?void 0:t.toTypeString()}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(2),r=Object(o.b)({title:"if() then {} else {}",inputs:[{key:"condition",type:a.f},{key:"trueCase",title:"True",type:a.j,optional:!0},{key:"falseCase",title:"False",type:a.j,optional:!0}]},(function(t){var e=t.condition,n=t.trueCase,o=t.falseCase;if("true"===String(e))return n;if("false"===String(e))return o;var a=o?" else { ".concat(o," }"):"";return"if (".concat(e,") { ").concat(n||""," }").concat(a,";")}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a={title:"Map Bool",category:n(6).e,topLeft:"condition",topRight:"result",inputs:[{key:"condition",type:o.f},{key:"trueCase",type:o.D},{key:"falseCase",type:o.D}],outputs:[{key:"result",type:o.D,inferType:function(t){var e=t.trueCase,n=t.falseCase;return e.getSharedType(n)},toMotoko:function(t){var e=t.condition,n=t.trueCase,o=t.falseCase;return!0===e?n:!1===e?o:"(if (".concat(e,") { ").concat(n," } else { ").concat(o," })")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a={info:"The top-level actor for the application. All ",category:n(6).a,topLeft:"actor",computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t).name;return n&&"actor ".concat(n)},inputs:[{key:"name",type:o.n,optional:!0},{key:"members",type:o.q,multi:!0}],outputs:[{key:"actor",type:o.h,toMotoko:function(t){var e=t.name,n=t.members;return"actor".concat(e?" "+e:""," { ").concat(n.join(" ")," };")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.a)("/",(function(t,e){return t/e}));e.default=a},function(t,e,n){"use strict";n.r(e),n.d(e,"intImportRef",(function(){return i}));var o=n(6),a=n(2),r=n(16),i=Object(r.b)("mo:base/Int"),c={title:"(a // b)",category:o.l,topRight:"result",inputs:[{key:"left",title:"a",type:a.o},{key:"right",title:"b",type:a.o}],outputs:[{key:"result",type:a.o,toMotoko:function(t){var e=t.left,n=t.right;return"".concat(i,".div(").concat(e,", ").concat(n,")")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(2),r=n(12),i=n(6),c=n(69),u=Object(o.b)({info:"Invoke a function in this project",title:"Call Function",category:i.i,icon:r.r,computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"functionNode");if(n){var o=e.compilers.motoko.getInput(n,"name"),a=e.compilers.node.getInput(n,"params").map((function(t){return e.compilers.motoko.getInput(t,"name")}));return o&&"".concat(o,"(").concat(a.join(", "),")")}},inputs:[{key:"args",type:a.D,multi:!0}],outputs:[{key:"value",type:a.D,inferType:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"functionNode");if(o)return Object(c.getFunctionReturnType)(o,n.editor)},toMotoko:function(t,e,n){var o=t.args,a=n.editor.compilers.node.getInput(e,"functionNode");if(a){var r=n.getInput(a,"name");if(r)return"".concat(r,"(").concat(o.join(", "),")")}}}],controls:[{key:"functionNode",type:a.t.withMeta({block:"Function"})}]},(function(t,e,n){var o=t.functionNode,a=t.args,r=n.getInput(o,"name");if(r)return"ignore ".concat(r,"(").concat(a.join(", "),");")}));e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(82),i={title:"Method",info:"Define a callable method for the smart contract",category:a.i,icon:r.a,topRight:"body",computeTitle:function(t,e){var n,o=e.compilers.motoko.getInput(t,"name"),a=e.compilers.motoko.getInputArgs(t),r=a.params,i=a.body,c=null===(n=e.compilers.type.getInput(t,"body"))||void 0===n?void 0:n.generics[0];if(o||r.length||i)return"".concat(o||"","(").concat(r.join(", "),")").concat(c?" : "+e.compilers.motoko.getTypeString(c):"")},shortcuts:[{block:"Return",connections:[{from:"body",to:"statement"}]}],inputs:[{key:"name",type:o.n},{key:"params",type:o.w,multi:!0},{key:"body",type:o.j,optional:!0}],controls:[{key:"query",type:o.f}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(37),a=n(2),r=Object(o.a)({title:"Boolean"},a.f);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(13),a=n(6),r=n(2),i=n(12),c={title:"Custom Type",category:a.o,topRight:"value",icon:i.q,hidden:!0,inputs:[{key:"reference",type:r.y},{key:"generics",type:r.B.of(r.D),multi:!0}],outputs:[{key:"value",type:r.B.of(r.i),inferType:function(t,e,n){var a=n.editor.compilers.motoko.getInput(e,"reference"),i=n.editor.compilers.type.getInput(e,"generics");if(a)return r.i.of.apply(r.i,Object(o.a)(i)).withMeta({name:a})}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(37),a=n(2),r=Object(o.a)({title:"Float"},a.k);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a={title:"Name",icon:n(12).m,topRight:"value",outputs:[{key:"value",type:o.n,control:!0,toMotoko:function(t){return t.value}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(37),a=n(2),r=Object(o.a)({title:"Integer"},a.o);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(37),a=n(2),r=Object(o.a)({title:"Natural Number"},a.s);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(6),a=n(2),r={title:"Pair",category:o.o,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Pair ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"left",title:"a",type:a.D},{key:"right",title:"b",type:a.D}],outputs:[{key:"value",type:a.A.of(a.D,a.D),inferType:function(t){var e=t.left,n=t.right;return a.A.of(e,n)},toMotoko:function(t){var e=t.left,n=t.right;return"(".concat(e,", ").concat(n,")")}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(6),a=n(2),r={title:"Pair of Types",category:o.o,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"left",title:"a",type:a.B.of(a.D)},{key:"right",title:"b",type:a.B.of(a.D)}],outputs:[{key:"value",type:a.B.of(a.A.of(a.D,a.D)),inferType:function(t){var e=t.left,n=t.right;return a.A.of(e,n)}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(37),a=n(2),r=Object(o.a)({title:"Text"},a.z,JSON.stringify);e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(13),a=n(6),r=n(2),i={title:"Tuple",category:a.k,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Tuple ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"inputs",type:r.D,multi:!0}],outputs:[{key:"value",type:r.A,inferType:function(t){var e=t.inputs;return r.A.of.apply(r.A,Object(o.a)(e))},toMotoko:function(t){var e=t.inputs;return"(".concat(e.join(", "),")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(13),a=n(6),r=n(2),i={title:"Tuple of Types",category:a.o,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"types",type:r.B.of(r.D),multi:!0}],outputs:[{key:"value",type:r.B.of(r.A),inferType:function(t){var e=t.types;return r.A.of.apply(r.A,Object(o.a)(e))}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(6),a=n(2),r={title:"Type",category:o.o,topRight:"value",outputs:[{key:"value",type:a.B.of(a.D),control:!0,inferType:function(t){return t.value}}]};e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(2),r=Object(o.b)({title:"while() {}",info:"Repeat while the condition is true",inputs:[{key:"condition",type:a.f},{key:"loop",type:a.j,optional:!0}]},(function(t){var e=t.condition,n=t.loop;return"while (".concat(e,") { ").concat(null!==n&&void 0!==n?n:""," };")}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(29),i={title:"Get (Map)",category:a.b,icon:r.stateReadIcon,topRight:"value",inputs:[{key:"map",type:o.p},{key:"key",type:o.D}],outputs:[{key:"value",type:o.v.of(o.D),inferType:function(t){var e=t.map;if(o.p.isSubtype(e))return o.v.of(e.generics[1])},toMotoko:function(t){var e=t.map,n=t.key;return"".concat(e,".get(").concat(n,")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(29),c=Object(a.b)({title:"Put (Map)",category:r.b,icon:i.stateWriteIcon,inputs:[{key:"map",type:o.p},{key:"key",type:o.D},{key:"value",type:o.D}]},(function(t){var e=t.map,n=t.key,o=t.value;return"".concat(e,".put(").concat(n,", ").concat(o,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(12),c=Object(a.b)({title:"Remove (Map)",category:r.b,icon:i.f,inputs:[{key:"map",type:o.p},{key:"key",type:o.D}]},(function(t){var e=t.map,n=t.key;return"".concat(e,".remove(").concat(n,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)(a.k,"*",(function(t,e){return t*e}));e.default=r},function(t,e,n){"use strict";n.r(e),n.d(e,"hashMapImportRef",(function(){return i})),n.d(e,"textImportRef",(function(){return c}));var o=n(2),a=n(16),r=n(6),i=Object(a.b)("mo:base/HashMap"),c=Object(a.b)("mo:base/Text"),u={title:"Create Map",category:r.b,icon:r.b.data.icon,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"new HashMap<".concat(e.compilers.motoko.getTypeString(n.generics[0]),", ").concat(e.compilers.motoko.getTypeString(n.generics[1]),">")},inputs:[{key:"keyType",type:o.B.of(o.z)},{key:"valueType",type:o.B.of(o.D)}],outputs:[{key:"value",type:o.p,inferType:function(t){var e=t.valueType;return o.p.of(o.z,e)},toMotoko:function(t,e,n){var o=n.editor.compilers.type.getInputArgs(e).valueType,a=n.getTypeString(o);return"".concat(i,".HashMap<Text, ").concat(a,">(0, ").concat(c,".equal, ").concat(c,".hash)")}}]};e.default=u},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.d)(a.f,"not",(function(t){return!t}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a={category:n(6).k,topRight:"value",outputs:[{key:"value",type:o.u,toMotoko:function(){return"null"}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a={info:"An object which can be deployed as a smart contract",category:n(6).a,topLeft:"actor",topRight:"members",computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t).name;return n&&"actor ".concat(n)},inputs:[{key:"name",type:o.n,optional:!0},{key:"members",type:o.q,multi:!0}],outputs:[{key:"object",type:o.h,toMotoko:function(t){var e=t.name,n=t.members;return"object".concat(e?" "+e:""," { ").concat(n.join(" ")," };")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a={title:"Wrap Optional (?a)",info:"Create an optional version of the input value",category:n(6).l,inputs:[{key:"input",title:"Value",type:o.D}],outputs:[{key:"result",type:o.v,inferType:function(t){var e=t.input;return o.v.of(e)},toMotoko:function(t){var e=t.input;return"(?".concat(e,")")}},{key:"null",type:o.v,inferType:function(t){var e=t.input;return o.v.of(e)},toMotoko:function(t){t.input;return"null"}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(2),r=n(6),i=n(16),c=Object(o.b)({title:"Unwrap Optional",info:"Run different logic depending on whether an Optional value is null",category:r.e,inputs:[{key:"input",type:a.v},{key:"valueCase",title:"Value",type:a.j,optional:!0},{key:"nullCase",title:"Null",type:a.j,optional:!0}],outputs:[{key:"value",type:a.D,inferType:function(t){return t.input},toMotoko:function(t,e){t.input;return Object(i.c)(e)}}]},(function(t,e){var n=t.input,o=t.valueCase,a=t.nullCase;if("null"===String(n))return a;var r=o?"case (?".concat(Object(i.c)(e),") {").concat(o,"};"):"",c=a?"case null {".concat(a,"};"):"";return"switch (".concat(n,") { ").concat(r).concat(c&&" "+c," };")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)(a.f,"or",(function(t,e){return t||e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a={info:"An input parameter to a class or function",topLeft:"param",topRight:"value",category:n(6).m,computeTitle:function(t,e){var n=e.compilers.motoko.getInput(t,"name"),o=e.compilers.type.getInput(t,"type");return n&&"".concat(n," : ").concat(o?e.compilers.motoko.getTypeString(o):"Any")},inputs:[{key:"name",type:o.n},{key:"type",type:o.B.of(o.D)}],outputs:[{key:"param",type:o.w,toMotoko:function(t,e,n){var o=t.name,a=t.type,r=n.getTypeString(a)||"Any";return"".concat(o," : ").concat(r)}},{key:"value",type:o.D,toMotoko:function(t){return t.name},inferType:function(t){return t.type}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(12),r=n(16),i={title:"Import Reference",icon:a.m,topRight:"value",outputs:[{key:"value",type:o.y,toMotoko:function(t){var e=t.path;return Object(r.b)(e)}}],controls:[{key:"path",type:o.z,config:{validation:{minLength:1}}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(23),r=n(6),i=n(12),c=Object(a.a)({info:"End a function's execution path",category:r.i,icon:i.c,inputs:[{key:"value",type:o.D,optional:!0}]},{inferType:function(t){var e=t.value;return o.j.of(e||o.C)},toMotoko:function(t){var e=t.value;return"return".concat(e?" "+e:"",";")}});e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(29),i={title:"Read State",category:a.n,icon:r.stateReadIcon,topRight:"value",outputs:[{key:"value",type:o.D,inferType:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"stateNode");if(o)return n.getInput(o,"initialValue")},toMotoko:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"stateNode");if(o)return n.getInput(o,"name")}}],controls:[{key:"stateNode",type:o.t.withMeta({block:"State"})}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(6),r=n(2),i=n(29),c=Object(o.b)({title:"Write State",category:a.n,icon:i.stateWriteIcon,inputs:[{key:"value",type:"Value"}],controls:[{key:"stateNode",type:r.t.withMeta({block:"State"})}]},(function(t,e,n){var o=t.stateNode,a=t.value,r=n.getInput(o,"name");if(r)return"".concat(r," := ").concat(a,";")}));e.default=c},function(t,e,n){"use strict";n.r(e);var o=n(21),a=Object(o.a)("-",(function(t,e){return t-e}));e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(21),a=n(2),r=Object(o.b)(a.z,"#",(function(t,e){return t||e}));e.default=r},function(t,e,n){"use strict";n.r(e);var o=n(2),a={title:"Length (Text)",icon:n(12).w,inputs:[{key:"text",type:o.z}],outputs:[{key:"value",type:o.s,toMotoko:function(t){var e=t.text;return"".concat(e,".size()")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(36),r=n(6),i=Object(a.b)({title:"Named Type",info:"An actor-level type definition",category:r.o,topRight:"type",shortcuts:[{block:"TypeMemberReference",nodeKey:"typeNode"}],computeTitle:function(t,e){var n=Object(a.a)(t,e),o=e.compilers.type.getInput(t,"typeInput");return o&&"".concat(n||"(?)"," = ").concat(e.compilers.motoko.getTypeString(o))},inputs:[{key:"typeInput",title:"Definition",type:o.B.of(o.D)}],outputs:[{key:"type",type:o.B.of(o.D),inferType:function(t){var e=t.name,n=t.typeInput;if(!n.isAbstract())return n.withMeta({name:e})}}],controls:[Object(a.c)()]},{toMotoko:function(t){var e=t.visibility,n=t.name,o=t.typeInput,a=["system"!==e&&e].filter((function(t){return t})).join(" ");return"".concat(a&&a+" ","type ").concat(n," = ").concat(o,";")}});e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(6),r=n(12),i={title:"Type Reference",category:a.o,icon:r.b,topRight:"type",computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"typeNode");if(console.log(n),n)return e.compilers.motoko.getInput(n,"name")},outputs:[{key:"type",type:o.B.of(o.D),inferType:function(t,e,n){var o=n.editor.compilers.node.getInput(e,"typeNode");if(o)return n.editor.compilers.types.getInput(o,"type")}}],controls:[{key:"typeNode",type:o.t.withMeta({block:"TypeMember"})}]};e.default=i},function(t,e,n){"use strict";n.r(e);var o=n(23),a=n(2),r=n(6),i=n(16),c=Object(o.b)({title:"Local Variable",info:"Store and retrieve data from within a function",category:r.m,inputs:[{key:"name",type:a.n,optional:!0},{key:"initialValue",type:a.D}],outputs:[{key:"value",type:a.D,inferType:function(t){return t.initialValue},toMotoko:function(t,e){return t.name||Object(i.c)(e)}}]},(function(t,e){var n=t.name,o=t.initialValue;return"var ".concat(n||Object(i.c)(e)," = ").concat(o,";")}));e.default=c},function(t){t.exports=JSON.parse('{"name":"Echo","description":"Return the input argument to a function.","version":"blocks-webapp@0.1.0","nodes":{"282":{"id":282,"data":{"visibility":"public","name":"say","query":true},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":875,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":284,"input":"param","data":{}}]},"body":{"connections":[{"node":285,"input":"statement","data":{}}]}},"position":[736,288],"name":"Function"},"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":875,"input":"actor","data":{}}]}},"position":[224,288],"name":"CompileMotoko"},"284":{"id":284,"data":{"name":"phrase","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":282,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":285,"input":"value","data":{}}]}},"position":[960,384],"name":"Parameter"},"285":{"id":285,"data":{},"inputs":{"value":{"connections":[{"node":284,"output":"value","data":{}}]},"statement":{"connections":[{"node":282,"output":"body","data":{}}]}},"outputs":{},"position":[1184,288],"name":"Return"},"321":{"id":321,"data":{"functionNode":282},"inputs":{"args":{"connections":[{"node":322,"output":"value","data":{}}]},"before":{"connections":[]}},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":324,"input":"input","data":{}}]}},"position":[800,704],"name":"FunctionCall"},"322":{"id":322,"data":{"value":"Hello World!"},"inputs":{},"outputs":{"value":{"connections":[{"node":321,"input":"args","data":{}}]}},"position":[576,768],"name":"LiteralText"},"324":{"id":324,"data":{},"inputs":{"input":{"connections":[{"node":321,"output":"value","data":{}}]}},"outputs":{"reversed":{"connections":[]}},"position":[1024,768],"name":"CompileMotoko"},"875":{"id":875,"data":{"name":"Echo"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":282,"input":"member","data":{}}]}},"position":[480,288],"name":"Actor"}}}')},function(t){t.exports=JSON.parse('{"name":"Counter","description":"Get, set, and increment a state variable.","version":"blocks-webapp@0.1.0","nodes":{"353":{"id":353,"data":{"name":"Counter"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":416,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":354,"input":"member","data":{}},{"node":355,"input":"member","data":{}},{"node":374,"input":"member","data":{}},{"node":375,"input":"member","data":{}}]}},"position":[544,384],"name":"Actor"},"354":{"id":354,"data":{"name":"count","stable":true},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":415,"output":"value","data":{}}]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[800,128],"name":"State"},"355":{"id":355,"data":{"visibility":"public","name":"get","query":true},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":358,"input":"statement","data":{}}]}},"position":[800,416],"name":"Function"},"357":{"id":357,"data":{"stateNode":354},"inputs":{},"outputs":{"value":{"connections":[{"node":358,"input":"value","data":{}}]}},"position":[1024,448],"name":"StateRead"},"358":{"id":358,"data":{},"inputs":{"value":{"connections":[{"node":357,"output":"value","data":{}}]},"statement":{"connections":[{"node":355,"output":"body","data":{}}]}},"outputs":{},"position":[1248,416],"name":"Return"},"374":{"id":374,"data":{"visibility":"public","name":"set"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":378,"input":"param","data":{}}]},"body":{"connections":[{"node":377,"input":"before","data":{}}]}},"position":[800,736],"name":"Function"},"375":{"id":375,"data":{"visibility":"public","name":"inc"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":353,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":417,"input":"before","data":{}}]}},"position":[800,1056],"name":"Function"},"377":{"id":377,"data":{"stateNode":"354"},"inputs":{"value":{"connections":[{"node":378,"output":"value","data":{}}]},"before":{"connections":[{"node":374,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1248,736],"name":"StateUpdate"},"378":{"id":378,"data":{"type":{"name":"Nat","generics":[]},"name":"n"},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":374,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":377,"input":"value","data":{}}]}},"position":[1024,832],"name":"Parameter"},"415":{"id":415,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":354,"input":"initialValue","data":{}}]}},"position":[544,224],"name":"LiteralNat"},"416":{"id":416,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":353,"input":"actor","data":{}}]}},"position":[256,384],"name":"CompileMotoko"},"417":{"id":417,"data":{"stateNode":"354"},"inputs":{"value":{"connections":[{"node":419,"output":"result","data":{}}]},"before":{"connections":[{"node":375,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1440,1056],"name":"StateUpdate"},"418":{"id":418,"data":{"stateNode":354},"inputs":{},"outputs":{"value":{"connections":[{"node":419,"input":"left","data":{}}]}},"position":[1024,1120],"name":"StateRead"},"419":{"id":419,"data":{"right":"1"},"inputs":{"left":{"connections":[{"node":418,"output":"value","data":{}}]},"right":{"connections":[]}},"outputs":{"result":{"connections":[{"node":417,"input":"value","data":{}}]}},"position":[1232,1152],"name":"Add"}}}')},function(t){t.exports=JSON.parse('{"name":"Calculator","description":"Add, subtract, multiply, and divide integers.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[416,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Calculator"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":330,"input":"member","data":{}},{"node":331,"input":"member","data":{}},{"node":335,"input":"member","data":{}},{"node":336,"input":"member","data":{}},{"node":337,"input":"member","data":{}},{"node":339,"input":"member","data":{}}]}},"position":[640,288],"name":"Actor"},"330":{"id":330,"data":{"name":"x","stable":true},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":332,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[{"node":455,"input":"value","data":{}}]}},"position":[928,0],"name":"State"},"331":{"id":331,"data":{"visibility":"public","name":"clear"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":333,"input":"before","data":{}}]}},"position":[928,256],"name":"Function"},"332":{"id":332,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":330,"input":"initialValue","data":{}}]}},"position":[672,0],"name":"LiteralInt"},"333":{"id":333,"data":{"stateNode":330},"inputs":{"value":{"connections":[{"node":334,"output":"value","data":{}}]},"before":{"connections":[{"node":331,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1376,256],"name":"StateUpdate"},"334":{"id":334,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":333,"input":"value","data":{}}]}},"position":[1168,320],"name":"LiteralInt"},"335":{"id":335,"data":{"visibility":"public","name":"add"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":340,"input":"before","data":{}}]}},"position":[928,544],"name":"Function"},"336":{"id":336,"data":{"visibility":"public","name":"subtract"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":345,"input":"before","data":{}}]}},"position":[928,832],"name":"Function"},"337":{"id":337,"data":{"visibility":"public","name":"multiply"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":346,"input":"before","data":{}}]}},"position":[928,1120],"name":"Function"},"339":{"id":339,"data":{"visibility":"public","name":"divide"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":1188,"input":"before","data":{}}]}},"position":[928,1408],"name":"Function"},"340":{"id":340,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":343,"output":"result","data":{}}]},"before":{"connections":[{"node":335,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,544],"name":"StateUpdate"},"343":{"id":343,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":340,"input":"value","data":{}}]}},"position":[1616,608],"name":"Add"},"344":{"id":344,"data":{"name":"y","type":{"name":"Int","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":335,"output":"params","data":{}},{"node":336,"output":"params","data":{}},{"node":337,"output":"params","data":{}},{"node":339,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":343,"input":"right","data":{}},{"node":348,"input":"right","data":{}},{"node":349,"input":"right","data":{}},{"node":984,"input":"left","data":{}},{"node":1102,"input":"right","data":{}}]}},"position":[1184,992],"name":"Parameter"},"345":{"id":345,"data":{"stateNode":330},"inputs":{"value":{"connections":[{"node":348,"output":"result","data":{}}]},"before":{"connections":[{"node":336,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,832],"name":"StateUpdate"},"346":{"id":346,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":349,"output":"result","data":{}}]},"before":{"connections":[{"node":337,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,1120],"name":"StateUpdate"},"348":{"id":348,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":345,"input":"value","data":{}}]}},"position":[1616,896],"name":"Subtract"},"349":{"id":349,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":346,"input":"value","data":{}}]}},"position":[1616,1184],"name":"Multiply"},"351":{"id":351,"data":{"stateNode":330},"inputs":{},"outputs":{"value":{"connections":[{"node":343,"input":"left","data":{}},{"node":348,"input":"left","data":{}},{"node":349,"input":"left","data":{}},{"node":1102,"input":"left","data":{}}]}},"position":[1184,864],"name":"StateRead"},"455":{"id":455,"data":{},"inputs":{"value":{"connections":[{"node":330,"output":"value","data":{}}]},"statement":{"connections":[{"node":333,"output":"after","data":{}},{"node":340,"output":"after","data":{}},{"node":345,"output":"after","data":{}},{"node":346,"output":"after","data":{}}]}},"outputs":{},"position":[2336,-32],"name":"Return"},"871":{"id":871,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":984,"input":"right","data":{}}]}},"position":[1376,1504],"name":"LiteralInt"},"902":{"id":902,"data":{},"inputs":{"input":{"connections":[{"node":1102,"output":"result","data":{}}]}},"outputs":{"result":{"connections":[{"node":1159,"input":"value","data":{}}]},"null":{"connections":[{"node":1100,"input":"value","data":{}}]}},"position":[1856,1632],"name":"Optional"},"984":{"id":984,"data":{},"inputs":{"left":{"connections":[{"node":344,"output":"value","data":{}}]},"right":{"connections":[{"node":871,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":1188,"input":"condition","data":{}}]}},"position":[1616,1440],"name":"CompareNotEqual"},"1100":{"id":1100,"data":{},"inputs":{"value":{"connections":[{"node":902,"output":"null","data":{}}]},"statement":{"connections":[{"node":1188,"output":"falseCase","data":{}}]}},"outputs":{},"position":[2208,1744],"name":"Return"},"1101":{"id":1101,"data":{"stateNode":"330"},"inputs":{"value":{"connections":[{"node":1102,"output":"result","data":{}}]},"before":{"connections":[{"node":1188,"output":"trueCase","data":{}}]}},"outputs":{"after":{"connections":[{"node":1159,"input":"statement","data":{}}]}},"position":[2208,1552],"name":"StateUpdate"},"1102":{"id":1102,"data":{},"inputs":{"left":{"connections":[{"node":351,"output":"value","data":{}}]},"right":{"connections":[{"node":344,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":1101,"input":"value","data":{}},{"node":902,"input":"input","data":{}}]}},"position":[1616,1600],"name":"DivideInt"},"1159":{"id":1159,"data":{},"inputs":{"value":{"connections":[{"node":902,"output":"result","data":{}}]},"statement":{"connections":[{"node":1101,"output":"after","data":{}}]}},"outputs":{},"position":[2432,1472],"name":"Return"},"1188":{"id":1188,"data":{},"inputs":{"condition":{"connections":[{"node":984,"output":"result","data":{}}]},"before":{"connections":[{"node":339,"output":"body","data":{}}]}},"outputs":{"trueCase":{"connections":[{"node":1101,"input":"before","data":{}}]},"falseCase":{"connections":[{"node":1100,"input":"statement","data":{}}]},"after":{"connections":[]}},"position":[1984,1408],"name":"Conditional"}}}')},function(t){t.exports=JSON.parse('{"name":"Who am I?","description":"Access the caller of functions and actors.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":330,"input":"actor","data":{}}]}},"position":[224,448],"name":"CompileMotoko"},"328":{"id":328,"data":{"visibility":"public","name":"argument"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":330,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":336,"input":"statement","data":{}}]},"caller":{"connections":[]}},"position":[960,32],"name":"Function"},"329":{"id":329,"data":{"visibility":"public","name":"whoami"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":330,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":339,"input":"statement","data":{}}]},"caller":{"connections":[{"node":339,"input":"value","data":{}}]}},"position":[960,352],"name":"Function"},"330":{"id":330,"data":{"name":"WhoAmI","undefined":""},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":334,"input":"member","data":{}},{"node":328,"input":"member","data":{}},{"node":329,"input":"member","data":{}},{"node":332,"input":"member","data":{}},{"node":333,"input":"member","data":{}}]},"params":{"connections":[{"node":331,"input":"param","data":{}}]},"caller":{"connections":[{"node":335,"input":"value","data":{}}]}},"position":[480,448],"name":"ActorClass"},"331":{"id":331,"data":{"name":"someone","type":{"name":"Principal","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":330,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":336,"input":"value","data":{}}]}},"position":[480,304],"name":"Parameter"},"332":{"id":332,"data":{"visibility":"public","name":"id"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":330,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":338,"input":"statement","data":{}}]},"caller":{"connections":[]}},"position":[960,672],"name":"Function"},"333":{"id":333,"data":{"visibility":"public","name":"idQuick"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":330,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":337,"input":"statement","data":{}}]},"caller":{"connections":[]}},"position":[960,992],"name":"Function"},"334":{"id":334,"data":{"visibility":"public","name":"installer","query":true},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":330,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":335,"input":"statement","data":{}}]},"caller":{"connections":[]}},"position":[960,-288],"name":"Function"},"335":{"id":335,"data":{},"inputs":{"value":{"connections":[{"node":330,"output":"caller","data":{}}]},"statement":{"connections":[{"node":334,"output":"body","data":{}}]}},"outputs":{},"position":[1504,-288],"name":"Return"},"336":{"id":336,"data":{},"inputs":{"value":{"connections":[{"node":331,"output":"value","data":{}}]},"statement":{"connections":[{"node":328,"output":"body","data":{}}]}},"outputs":{},"position":[1504,32],"name":"Return"},"337":{"id":337,"data":{},"inputs":{"value":{"connections":[{"node":341,"output":"result","data":{}}]},"statement":{"connections":[{"node":333,"output":"body","data":{}}]}},"outputs":{},"position":[1504,992],"name":"Return"},"338":{"id":338,"data":{},"inputs":{"value":{"connections":[{"node":343,"output":"result","data":{}}]},"statement":{"connections":[{"node":332,"output":"body","data":{}}]}},"outputs":{},"position":[1504,672],"name":"Return"},"339":{"id":339,"data":{},"inputs":{"value":{"connections":[{"node":329,"output":"caller","data":{}}]},"statement":{"connections":[{"node":329,"output":"body","data":{}}]}},"outputs":{},"position":[1504,352],"name":"Return"},"340":{"id":340,"data":{"functionNode":329},"inputs":{"args":{"connections":[]},"before":{"connections":[]}},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":343,"input":"input","data":{}}]}},"position":[1264,704],"name":"FunctionCall"},"341":{"id":341,"data":{"expression":"{0}.fromActor(this)","type":{"name":"Principal","generics":[]}},"inputs":{"inputs":{"connections":[{"node":342,"output":"value","data":{}}]},"type":{"connections":[]}},"outputs":{"result":{"connections":[{"node":337,"input":"value","data":{}}]}},"position":[1248,1104],"name":"CodeValue"},"342":{"id":342,"data":{"path":"mo:base/Principal"},"inputs":{},"outputs":{"value":{"connections":[{"node":341,"input":"inputs","data":{}}]}},"position":[1024,1296],"name":"ReferenceImport"},"343":{"id":343,"data":{},"inputs":{"input":{"connections":[{"node":340,"output":"value","data":{}}]}},"outputs":{"result":{"connections":[{"node":338,"input":"value","data":{}}]}},"position":[1504,768],"name":"Await"}}}')},function(t){t.exports=JSON.parse('{"name":"Phone Book","description":"Add tuples to persistent key-value storage.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Main"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":326,"input":"member","data":{}},{"node":429,"input":"member","data":{}},{"node":428,"input":"member","data":{}}]}},"position":[704,288],"name":"Actor"},"326":{"id":326,"data":{"name":"phonebook"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":327,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[960,0],"name":"State"},"327":{"id":327,"data":{"keyType":{"name":"Text","generics":[]},"valueType":{"name":"Text","generics":[]}},"inputs":{"keyType":{"connections":[]},"valueType":{"connections":[{"node":467,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":326,"input":"initialValue","data":{}}]}},"position":[704,0],"name":"NewTextHashMap"},"428":{"id":428,"data":{"visibility":"public","name":"insert"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}},{"node":433,"input":"param","data":{}},{"node":489,"input":"param","data":{}}]},"body":{"connections":[{"node":430,"input":"before","data":{}}]}},"position":[960,608],"name":"Function"},"429":{"id":429,"data":{"visibility":"public","name":"find","query":true},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}}]},"body":{"connections":[{"node":450,"input":"statement","data":{}}]}},"position":[960,288],"name":"Function"},"430":{"id":430,"data":{},"inputs":{"map":{"connections":[{"node":431,"output":"value","data":{}}]},"key":{"connections":[{"node":432,"output":"value","data":{}}]},"value":{"connections":[{"node":522,"output":"value","data":{}}]},"before":{"connections":[{"node":428,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1632,608],"name":"MapPut"},"431":{"id":431,"data":{"stateNode":326},"inputs":{},"outputs":{"value":{"connections":[{"node":451,"input":"map","data":{}},{"node":430,"input":"map","data":{}}]}},"position":[1216,320],"name":"StateRead"},"432":{"id":432,"data":{"name":"name","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":429,"output":"params","data":{}},{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":451,"input":"key","data":{}},{"node":430,"input":"key","data":{}}]}},"position":[1184,480],"name":"Parameter"},"433":{"id":433,"data":{"name":"phone","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":522,"input":"inputs","data":{}}]}},"position":[1184,704],"name":"Parameter"},"450":{"id":450,"data":{},"inputs":{"value":{"connections":[{"node":451,"output":"value","data":{}}]},"statement":{"connections":[{"node":429,"output":"body","data":{}}]}},"outputs":{},"position":[1840,288],"name":"Return"},"451":{"id":451,"data":{},"inputs":{"map":{"connections":[{"node":431,"output":"value","data":{}}]},"key":{"connections":[{"node":432,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":450,"input":"value","data":{}}]}},"position":[1632,352],"name":"MapGet"},"467":{"id":467,"data":{"left":{"name":"Text","generics":[]},"right":{"name":"Text","generics":[]}},"inputs":{"left":{"connections":[]},"right":{"connections":[]}},"outputs":{"value":{"connections":[{"node":327,"input":"valueType","data":{}}]}},"position":[448,0],"name":"LiteralPairType"},"489":{"id":489,"data":{"name":"address","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":428,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":522,"input":"inputs","data":{}}]}},"position":[1184,848],"name":"Parameter"},"522":{"id":522,"data":{},"inputs":{"inputs":{"connections":[{"node":433,"output":"value","data":{}},{"node":489,"output":"value","data":{}}]}},"outputs":{"value":{"connections":[{"node":430,"input":"value","data":{}}]}},"position":[1408,736],"name":"LiteralTuple"}}}')},function(t){t.exports=JSON.parse('{"name":"To-Do List","description":"Create, display, and complete a list of tasks.","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Main"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[{"node":761,"input":"member","data":{}},{"node":567,"input":"member","data":{}},{"node":647,"input":"member","data":{}},{"node":564,"input":"member","data":{}},{"node":563,"input":"member","data":{}},{"node":562,"input":"member","data":{}},{"node":565,"input":"member","data":{}},{"node":578,"input":"member","data":{}}]}},"position":[704,288],"name":"Actor"},"562":{"id":562,"data":{"visibility":"public","name":"show","asyncKind":"query"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":579,"input":"statement","data":{}}]}},"position":[992,448],"name":"Function"},"563":{"id":563,"data":{"visibility":"public","name":"clear","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":646,"input":"before","data":{}}]}},"position":[992,128],"name":"Function"},"564":{"id":564,"data":{"name":"toDoList"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":694,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[992,-160],"name":"State"},"565":{"id":565,"data":{"visibility":"public","name":"add","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":759,"input":"param","data":{}}]},"body":{"connections":[{"node":828,"input":"before","data":{}}]}},"position":[992,768],"name":"Function"},"566":{"id":566,"data":{},"inputs":{"itemType":{"connections":[{"node":567,"output":"type","data":{}}]},"items":{"connections":[]}},"outputs":{"value":{"connections":[{"node":662,"input":"value","data":{}}]}},"position":[1248,-144],"name":"NewArray"},"567":{"id":567,"data":{"visibility":"public","name":"ToDo"},"inputs":{"name":{"connections":[]},"typeInput":{"connections":[{"node":568,"output":"result","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"type":{"connections":[{"node":566,"input":"itemType","data":{}}]}},"position":[992,-704],"name":"TypeMember"},"568":{"id":568,"data":{"expression":"{\\r\\n    id: Nat;\\r\\n    description: Text;\\r\\n    completed: Bool;\\r\\n}","type":{"name":"Custom","generics":[]}},"inputs":{"inputs":{"connections":[]},"type":{"connections":[]}},"outputs":{"result":{"connections":[{"node":567,"input":"typeInput","data":{}}]}},"position":[448,-720],"name":"CodeType"},"578":{"id":578,"data":{"visibility":"public","name":"complete","asyncKind":"async"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[{"node":763,"input":"param","data":{}}]},"body":{"connections":[{"node":766,"input":"before","data":{}}]}},"position":[992,1088],"name":"Function"},"579":{"id":579,"data":{},"inputs":{"value":{"connections":[{"node":831,"output":"result","data":{}}]},"statement":{"connections":[{"node":562,"output":"body","data":{}}]}},"outputs":{},"position":[2080,448],"name":"Return"},"646":{"id":646,"data":{"stateNode":"564"},"inputs":{"value":{"connections":[{"node":769,"output":"value","data":{}}]},"before":{"connections":[{"node":563,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[1472,128],"name":"StateUpdate"},"647":{"id":647,"data":{"visibility":"private","name":"newToDoList"},"inputs":{"name":{"connections":[]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":662,"input":"statement","data":{}}]}},"position":[992,-480],"name":"Function"},"662":{"id":662,"data":{},"inputs":{"value":{"connections":[{"node":566,"output":"value","data":{}}]},"statement":{"connections":[{"node":647,"output":"body","data":{}}]}},"outputs":{},"position":[1472,-192],"name":"Return"},"677":{"id":677,"data":{"stateNode":564},"inputs":{},"outputs":{"value":{"connections":[{"node":831,"input":"inputs","data":{}}]}},"position":[1248,480],"name":"StateRead"},"694":{"id":694,"data":{"functionNode":"647"},"inputs":{"args":{"connections":[]},"before":{"connections":[]}},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":564,"input":"initialValue","data":{}}]}},"position":[704,-96],"name":"FunctionCall"},"759":{"id":759,"data":{"name":"description","type":{"name":"Text","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":565,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":773,"input":"inputs","data":{}}]}},"position":[1248,864],"name":"Parameter"},"761":{"id":761,"data":{"name":"nextId"},"inputs":{"name":{"connections":[]},"initialValue":{"connections":[{"node":762,"output":"value","data":{}}]},"member":{"connections":[{"node":325,"output":"members","data":{}}]}},"outputs":{"value":{"connections":[]}},"position":[992,-992],"name":"State"},"762":{"id":762,"data":{},"inputs":{},"outputs":{"value":{"connections":[{"node":761,"input":"initialValue","data":{}}]}},"position":[768,-928],"name":"LiteralNat"},"763":{"id":763,"data":{"name":"id","type":{"name":"Nat","generics":[]}},"inputs":{"name":{"connections":[]},"type":{"connections":[]},"param":{"connections":[{"node":578,"output":"params","data":{}}]}},"outputs":{"value":{"connections":[{"node":765,"input":"inputs","data":{}}]}},"position":[1248,1184],"name":"Parameter"},"765":{"id":765,"data":{"expression":"Array.map<ToDo, ToDo>({1}, func (todo : ToDo) : ToDo {\\r\\n  if (todo.id == {0}) {\\r\\n    return {\\r\\n      {0} = todo.id;\\r\\n      description = todo.description;\\r\\n      completed = true;\\r\\n    };\\r\\n  };\\r\\n  todo\\r\\n})","type":{"name":"MutableArray","generics":[{"name":"Custom","generics":[]}]}},"inputs":{"inputs":{"connections":[{"node":763,"output":"value","data":{}},{"node":830,"output":"value","data":{}}]},"type":{"connections":[]}},"outputs":{"result":{"connections":[{"node":766,"input":"value","data":{}}]}},"position":[1536,1152],"name":"CodeValue"},"766":{"id":766,"data":{"stateNode":564},"inputs":{"value":{"connections":[{"node":765,"output":"result","data":{}}]},"before":{"connections":[{"node":578,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[2080,1088],"name":"StateUpdate"},"769":{"id":769,"data":{"functionNode":647},"inputs":{"args":{"connections":[]},"before":{"connections":[]}},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":646,"input":"value","data":{}}]}},"position":[1248,160],"name":"FunctionCall"},"773":{"id":773,"data":{"type":{"name":"Custom","generics":[]},"expression":"let result: ToDo = {\\r\\n  id = nextId;\\r\\n  description = {0};\\r\\n  completed = false;\\r\\n};\\r\\nnextId += 1;\\r\\nresult"},"inputs":{"inputs":{"connections":[{"node":759,"output":"value","data":{}}]},"type":{"connections":[]}},"outputs":{"result":{"connections":[{"node":828,"input":"value","data":{}}]}},"position":[1536,800],"name":"CodeValue"},"828":{"id":828,"data":{},"inputs":{"array":{"connections":[{"node":829,"output":"value","data":{}}]},"value":{"connections":[{"node":773,"output":"result","data":{}}]},"before":{"connections":[{"node":565,"output":"body","data":{}}]}},"outputs":{"after":{"connections":[]}},"position":[2080,768],"name":"ArrayPrepend"},"829":{"id":829,"data":{"stateNode":"564"},"inputs":{},"outputs":{"value":{"connections":[{"node":828,"input":"array","data":{}}]}},"position":[1792,688],"name":"StateRead"},"830":{"id":830,"data":{"stateNode":564},"inputs":{},"outputs":{"value":{"connections":[{"node":765,"input":"inputs","data":{}}]}},"position":[1248,1328],"name":"StateRead"},"831":{"id":831,"data":{"type":{"name":"Text","generics":[]},"expression":"var output : Text = \\"\\\\n___TO-DOs___\\";\\r\\nfor (todo : ToDo in {0}.vals()) {\\r\\n  output #= \\"\\\\n(\\" # {1}.toText(todo.id) # \\") \\" # todo.description;\\r\\n  if (todo.completed) { output #= \\" \u2714\\"; };\\r\\n};\\r\\noutput"},"inputs":{"inputs":{"connections":[{"node":677,"output":"value","data":{}},{"node":1000,"output":"value","data":{}}]},"type":{"connections":[]}},"outputs":{"result":{"connections":[{"node":579,"input":"value","data":{}}]}},"position":[1536,352],"name":"CodeValue"},"1000":{"id":1000,"data":{"path":"mo:base/Nat"},"inputs":{},"outputs":{"value":{"connections":[{"node":831,"input":"inputs","data":{}}]}},"position":[1248,576],"name":"ReferenceImport"}}}')},,,function(t){t.exports=JSON.parse('{"name":"","description":"","version":"blocks-webapp@0.1.0","nodes":{"283":{"id":283,"data":{},"inputs":{"input":{"connections":[]}},"outputs":{"reversed":{"connections":[{"node":325,"input":"actor","data":{}}]}},"position":[480,288],"name":"CompileMotoko"},"325":{"id":325,"data":{"name":"Main"},"inputs":{"name":{"connections":[]},"actor":{"connections":[{"node":283,"output":"reversed","data":{}}]}},"outputs":{"members":{"connections":[]}},"position":[704,288],"name":"Actor"}}}')},function(t,e,n){"use strict";n.r(e);var o,a=n(1),r=n.n(a),i=n(30),c=n.n(i),u=(n(101),n(71)),s=(n(73),n(11)),l=n(25),p=n(17),d=n(18),f=n(40),m=n(3),b=Object(d.a)(f.a)(o||(o=Object(p.a)(["\n    padding: .5em 1em !important;\n"])));function v(){return Object(m.jsx)(b,{backgroundColor:"#111",place:"bottom",delayShow:250})}var y=n(93),j=n(8),g=n.n(j),h=n(24),O=n(4),k=n(13),C=n(28),x=n(7),w=n(9),L=n(54),T=n(79),S=["x","y","children","style","handleCloseMenu"];function N(t){var e=t.x,n=t.y,o=t.children,r=t.style,i=t.handleCloseMenu,c=Object(w.a)(t,S),u=Object(a.useMemo)((function(){return Object(O.a)({position:"absolute",left:e,top:n},r)}),[e,n,r]),s=Object(a.useCallback)((function(t){if(t){var e=function(t){return t.stopPropagation()};t.addEventListener("pointermove",e),t.addEventListener("mousemove",e),t.addEventListener("wheel",e)}}),[]),l=Object(a.useCallback)((function(t){if(t){var e=function(){var e=t.getBoundingClientRect().bottom-window.innerHeight;e>0&&(t.style.top="".concat(n-e,"px"))};e(),t.onresize=e}}),[n]);return Object(m.jsx)("div",Object(O.a)(Object(O.a)({className:"context-menu-screen",style:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"all"},ref:s,onKeyDown:function(t){return 27===t.keyCode&&i()},onMouseDown:function(){return i()}},c),{},{children:Object(m.jsx)("div",{className:"context-menu-container",style:u,ref:l,children:Object(m.jsx)("div",{className:"context-menu",children:o})})}))}var M=r.a.createContext(null),I=n(10),E=n.n(I);function A(t){var e=t.children,n=t.color;return Object(m.jsx)("span",{className:"context-menu-icon",style:{color:n},children:e})}var R=["icon","color","selected","onAction","children","style"];function D(t){var e=t.icon,n=t.color,o=t.selected,a=t.onAction,r=t.children,i=t.style,c=Object(w.a)(t,R);return Object(m.jsxs)("div",Object(O.a)(Object(O.a)({className:E()("context-menu-action",o&&"selected"),style:Object(O.a)({color:n,userSelect:"none"},i),onMouseDown:function(t){return 0===t.button&&a(t)}},c),{},{children:[e&&Object(m.jsx)(A,{children:e}),r]}))}function P(t){return JSON.parse(JSON.stringify(t))}var F=function(){var t=Object(h.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,Promise.all(e.selected.list.map(function(){var t=Object(h.a)(g.a.mark((function t(o){var a,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getComponent(o.name),t.next=3,a.createNode(P(o.data));case 3:return(r=t.sent).meta=P(o.meta),i=[o.position[0]+25,o.position[1]+25],r.position[0]=i[0],r.position[1]=i[1],e.addNode(r),n[o.id]=r,t.abrupt("return",{original:o,clone:r});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:t.sent.forEach((function(t){var n=t.original;e.selected.remove(n),n.update()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function B(){var t=Object(a.useContext)(M).editor;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(D,{onAction:function(){return F(t)},children:"Clone"}),Object(m.jsx)(D,{onAction:function(){return t.selected.each((function(e){return t.removeNode(e)}))},children:"Delete"})]})}var V=n(12),_=n(46),z=n(32),J=["component"];function q(t){var e=t.component,n=Object(w.a)(t,J),o=e.block,a=null===o||void 0===o?void 0:o.category;return Object(z.a)(),(null===o||void 0===o?void 0:o.info)&&(n=Object(O.a)({"data-tip":o.info.endsWith(".")?o.info:"".concat(o.info,"."),"data-place":"right"},n)),Object(m.jsx)(D,Object(O.a)(Object(O.a)({icon:r.a.createElement((null===o||void 0===o?void 0:o.icon)||(null===a||void 0===a?void 0:a.data.icon)||V.v),color:null===a||void 0===a?void 0:a.data.color},n),{},{children:Object(_.a)(o)||e.name}))}var Z=["value","onChange","onAction","onKeyDown","children"];function U(t){var e=t.value,n=t.onChange,o=t.onAction,r=t.onKeyDown,i=t.children,c=Object(w.a)(t,Z),u=Object(a.useCallback)((function(t){t&&t.focus()}),[{}]),s=(r||o)&&function(t){r&&r(t),o&&"Enter"===t.key&&o()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",Object(O.a)({type:"text",className:"context-menu-search",autoFocus:!0,ref:u,autoComplete:"blocks-search",value:e||"",onClick:function(t){return t.stopPropagation()},onChange:n&&function(t){return n(t.target.value)},onKeyDown:s},c)),Object(m.jsx)("div",{className:"context-menu-search-area",children:i})]})}function W(t){return JSON.parse(JSON.stringify(t))}function K(t,e){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(g.a.mark((function t(e,n){var o,a,r,i,c,u,s,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.data,a=n.meta,r=n.position,c=(i=void 0===r?{}:r).x,u=i.y,t.next=3,e.createNode(o?W(o):{});case 3:return s=t.sent,a&&(s.meta=Object.assign(W(a),s.meta)),l=[c,u],s.position[0]=l[0],s.position[1]=l[1],t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){var t=Object(a.useState)(""),e=Object(x.a)(t,2),n=e[0],o=e[1],r=Object(a.useState)(0),i=Object(x.a)(r,2),c=i[0],u=i[1],s=Object(a.useContext)(M),l=s.editor,p=s.mouse,d=s.context,f=function(t,e){var n=Object(k.a)(t.components).map((function(t){return t.name})).join("##");return Object(a.useMemo)((function(){return Object(k.a)(t.components.values()).filter((function(t){var e,n;return t&&"block"in t&&!(null===(e=t.block)||void 0===e?void 0:e.hidden)&&!(null===(n=t.block)||void 0===n?void 0:n.deprecated)})).map((function(t){return[e(t),t]})).sort((function(t,e){var n=Object(x.a)(t,1)[0],o=Object(x.a)(e,1)[0];if(Array.isArray(n)){for(var a=0;a<n.length;a++){var r="number"===typeof n[a]?n[a]-o[a]:n[a].localeCompare(o[a]);if(0!==r)return r}return 0}return n.localeCompare(o)})).map((function(t){return Object(x.a)(t,2)[1]}))}),[n])}(l,(function(t){var e,n;return[-((null===(e=t.block)||void 0===e?void 0:e.category.data.priority)||0),(null===(n=t.block)||void 0===n?void 0:n.category.root.name)||"",t.data.title||t.name]}));if(f=d?function(t,e,n){var o,a,r,i,c,u;if(!t&&!e)return n;var s=null===t||void 0===t||null===(o=(a=t.socket).findType)||void 0===o?void 0:o.call(a),l=null===e||void 0===e||null===(r=(i=e.socket).findType)||void 0===r?void 0:r.call(i);if((null===(c=s)||void 0===c?void 0:c.data.reversed)||(null===(u=l)||void 0===u?void 0:u.data.reversed)){var p=[l,s];s=p[0],l=p[1]}return n.filter((function(t){return(!s||t.block.outputs.some((function(t){return s.isSubtype(t.type)})))&&(!l||t.block.inputs.some((function(t){return l.isSubtype(t.type)||t.type.isSubtype(l)})))}))}(d.input,d.output,f):f.filter((function(t){return t.block.global})),c=Math.min(f.length-1,c),n){var b=n.toLowerCase();f=f.filter((function(t){var e;return(null===(e=t.keywords)||void 0===e?void 0:e.some((function(t){return t.toLowerCase().startsWith(b)})))||t.name.toLowerCase().startsWith(b)}))}function v(){return(v=Object(h.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.length){t.next=3;break}return t.next=3,y(f[c]);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=Object(a.useCallback)(function(){var t=Object(h.a)(g.a.mark((function t(e){var n,a,r,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(""),l.trigger("hidecontextmenu"),t.next=4,K(e,{position:p});case 4:n=t.sent,l.addNode(n),d&&(a=d.input,r=d.output,a&&(i=Object(k.a)(n.outputs.values()).find((function(t){return a.socket.compatibleWith(t.socket)})),i&&l.connect(i,a)),r&&(c=Object(k.a)(n.inputs.values()).find((function(t){return t.socket.compatibleWith(r.socket)})),c&&l.connect(r,c)));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[l,p,d]),j=f.map((function(t,e){return Object(m.jsx)(q,{component:t,selected:c===e,onAction:function(){return y(t)}},t.name)}));return d?Object(m.jsx)(U,{value:n,onChange:o,onKeyDown:function(t){38===t.keyCode&&u(Math.max(0,c-1)),40===t.keyCode&&u(c+1)},onAction:function(){return v.apply(this,arguments)},children:j}):j}var X=n(19);var $={name:"blocks-contextmenu",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.bind("hidecontextmenu"),t.bind("showcontextmenu");var n,o,a=e.offset?[e.offset.x,e.offset.y]:[-10,-10],r=Object(x.a)(a,2),i=r[0],u=r[1],s=null;t.on("hidecontextmenu",(function(){s&&(s.style.display="none")})),t.on(["click","contextmenu"],(function(){t.trigger("hidecontextmenu")})),t.on("contextmenu",(function(e){var o,a,r=e.e,l=e.node,p=e.context;if(null===(o=r.preventDefault)||void 0===o||o.call(r),null===(a=r.stopPropagation)||void 0===a||a.call(r),t.trigger("showcontextmenu",{e:r,node:l,context:p})){l&&(t.selected.contains(l)||t.selectNode(l));var d=[r.clientX,r.clientY],f=d[0],b=d[1];s||(s=document.createElement("div"),t.view.container.appendChild(s)),s.style.display="block",c.a.render(Object(m.jsx)(N,{x:f+i,y:l?b-50:b+u,handleCloseMenu:function(){return t.trigger("hidecontextmenu")},children:Object(m.jsx)(M.Provider,{value:{editor:t,mouse:n,node:l,context:p},children:l?Object(m.jsx)(B,{}):Object(m.jsx)(H,{})})}),s)}})),t.on("destroy",(function(){t.trigger("hidecontextmenu"),s&&(s.remove(),s=null)}));var l=!1,p=!1;t.view.container.addEventListener("pointermove",(function(t){return o=t})),t.on("mousemove",(function(t){n=t,l=!0})),t.on("connectionpick",(function(t){l=!1;var e=Object(k.a)(t.connections);setTimeout((function(){t.connections.length<e.length&&(p=!0)}))})),t.on("connectiondrop",(function(e){if(l)if(p)p=!1;else{var n=Object(k.a)(e.connections);setTimeout((function(){e.connections.length!==n.length||e.connections.some((function(t,e){return t.input!==n[e].input||t.output!==n[e].output}))||t.trigger("contextmenu",{e:o,context:{input:e instanceof X.d.Input?e:null,output:e instanceof X.d.Output?e:null}})}))}}))}},Y=$,Q=n(80),tt=n.n(Q),et=n(48),nt=n(14),ot=n(15),at=n(20),rt=n(22),it=n(198),ct=r.a.createContext([]);function ut(t){var e,n=t.type,o=t.socket,r=t.innerRef,i=t.io,c=Object(a.useState)(!1),u=Object(x.a)(c,2),s=u[0],l=u[1],p=Object(a.useContext)(ct);Object(a.useEffect)((function(){var t=function(t,e){if(t){var n,a,r,c;if(i instanceof X.c===e instanceof X.c)return;if(i.node&&i.node===e.node)return;var u=i instanceof X.c===!!o.data.reversed?[i,e]:[e,i],s=Object(x.a)(u,2),p=s[0],d=s[1],f=null===(n=(a=p.socket).findType)||void 0===n?void 0:n.call(a),m=null===(r=(c=d.socket).findType)||void 0===r?void 0:r.call(c);m&&(null===f||void 0===f?void 0:f.isSubtype(m))&&l(!0)}else l(!1)};return p.push(t),function(){var e=p.indexOf(t);-1!==e&&p.splice(e,1)}}),[o,p,i]);var d=o.findType(),f=!!d.data.reversed,b=i.multipleConnections&&i instanceof X.d.Input===!f;return Object(z.a)(),Object(m.jsx)("div",{ref:function(t){return t&&r(t,n,i)},className:E()("socket",n,Object(it.a)(o.name),s&&"relevant",b&&"multiple",f&&"reversed",!b&&i.connections.length&&"occupied","category-"+d.data.category),"data-tip":(null===(e=o.findLabel)||void 0===e?void 0:e.call(o))||o.name,children:Object(m.jsx)("div",{className:"socket-color w-100 h-100"})})}var st=n(34);function lt(t){var e=t.editor,n=t.node,o=t.block,r=t.fallback,i=function(){if(!e.silent)try{return o.computeTitle(n,e)}catch(t){return console.error("Unable to compute title for node: ".concat(n.name)),console.error(t),"<Error>"}},c=Object(a.useState)(i),u=Object(x.a)(c,2),p=u[0],d=u[1],f=Object(a.useContext)(s.g);Object(l.a)(f,s.a,(function(){return d(i())}));var b=p||r||null;return Object(z.a)(),Object(m.jsx)("span",{"data-tip":b,children:b})}var pt=n(60),dt=n(59);function ft(t){return t?t.title||Object(dt.a)(t.key):""}var mt=n(195),bt=n(44),vt=n(199);function yt(t){var e=t.editor,n=t.node,o=t.shortcut,i=o.block,c=i.category,u=Object(a.useContext)(s.g),l=function(){var t=Object(h.a)(g.a.mark((function t(a){var r,c,l,p,d,f,m,b,v,y,j,h,O,k,w;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.components.get(i.name)){t.next=5;break}return u.emit(s.c,"Component not found: ".concat(i.name)),t.abrupt("return");case 5:return c={},n&&o.nodeKey&&(c[o.nodeKey]=n.id),t.next=9,e.createNodeAtCursor(r,c);case 9:if(l=t.sent,e.view.nodes.get(l)._drag.down(a),o.connections){p=Object(C.a)(o.connections);try{for(p.s();!(d=p.n()).done;)f=d.value,m=f.from,b=f.to,v=f.fromOutput,y=v?n.outputs.get(m):n.inputs.get(m),j=v?l.inputs.get(b):l.outputs.get(b),h=v?[y,j]:[j,y],O=Object(x.a)(h,2),k=O[0],w=O[1],k&&w?e.connect(k,w):console.warn("Could not connect",k,"to",w)}catch(g){p.e(g)}finally{p.f()}}t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),u.emit(s.c,t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(z.a)([i]),Object(m.jsx)(vt.a,{ref:bt.a,className:"node-shortcut-button px-1 pt-0 pb-1","data-tip":Object(_.a)(i),"data-delay-show":100,style:{color:c.data.color,borderColor:c.data.color,cursor:"grab"},onMouseDown:l,children:i.icon?r.a.createElement(i.icon):Object(_.a)(i)})}function jt(t){var e=t.prop,n=t.node,o=t.hideLeft,a=t.hideRight,r=t.bindSocket,i=t.bindControl,c=n.inputs.get(e.key),u=n.outputs.get(e.key),s=n.controls.get(e.key)||(null===c||void 0===c?void 0:c.showControl())&&c.control,l=c&&!o&&Object(m.jsx)(ut,{type:"input",socket:c.socket,io:c,innerRef:r}),p=u&&!a&&Object(m.jsx)(ut,{type:"output",socket:u.socket,io:u,innerRef:r}),d=s&&Object(m.jsx)(et.a,{className:c?"input-control":"control",control:s,innerRef:i});return Object(m.jsxs)("div",{className:E()("prop","key-"+Object(it.a)(e.key)),children:[Object(m.jsxs)("div",{className:"input",children:[l,d||l&&Object(m.jsx)("div",{className:"input-title",children:ft(e)})]}),Object(m.jsxs)("div",{className:"output",children:[!c&&p&&Object(m.jsx)("div",{className:"output-title",children:ft(e)}),p]})]})}var gt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(){return Object(nt.a)(this,n),e.apply(this,arguments)}return Object(ot.a)(n,[{key:"render",value:function(){var t=this.props,e=t.editor,n=t.node,o=t.bindSocket,a=t.bindControl,i=this.state.selected,c=Object(st.b)(n.name);if(c.component){var u=c.component;return Object(m.jsx)(u,{block:c,nodeHandle:this})}var s=c.topLeft&&n.inputs.get(c.topLeft),l=c.topRight&&n.outputs.get(c.topRight),p=Object(pt.a)(n,e,!0);c.computeTitle&&(p=Object(m.jsx)(lt,{editor:e,node:n,block:c,fallback:p}));var d=function(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var i=a.apply(void 0,[e].concat(o));return e&&(e.title=ft(t)),i}},f=32*(n.data["editor:width"]||c.width||6)-3;return Object(m.jsxs)("div",{style:{width:f},className:E()("node",i,c.className),children:[Object(m.jsxs)("div",{className:"header d-flex",children:[s&&Object(m.jsx)("div",{children:Object(m.jsx)(ut,{type:"input",socket:s.socket,io:s,innerRef:o})}),Object(m.jsxs)("div",{className:"title d-inline-block flex-grow-1 text-nowrap overflow-hidden",style:{color:c.category.data.color},children:[c.icon&&Object(m.jsx)("span",{className:"d-inline-block pe-1",style:{transform:"translateY(-.2em)"},children:r.a.createElement(c.icon)}),p]}),l&&Object(m.jsx)("div",{children:Object(m.jsx)(ut,{type:"output",socket:l.socket,io:l,innerRef:o})})]}),c.shortcuts.length>0&&Object(m.jsx)(mt.a,{className:"px-4 py-1 w-100",style:{background:"#0002"},children:c.shortcuts.map((function(t,o){return Object(m.jsx)(yt,{editor:e,node:n,shortcut:t},o)}))}),Object.values(c.props).filter((function(t){return!t.hidden&&(t.control||(!s||t.key!==c.topLeft)&&(!l||t.key!==c.topRight))})).map((function(t){return Object(m.jsx)(jt,{prop:t,node:n,hideLeft:t.key===c.topLeft,hideRight:t.key===c.topRight,bindSocket:o,bindControl:d(t)},t.key)}))]})}}]),n}(et.b),ht=n(41),Ot=n(50),kt=n(55),Ct=n.n(kt),xt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t,o,a){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(nt.a)(this,n),(r=e.call(this,o)).name=a,r.config=i,r.editor=t,r.render="react",r.component=i.controlType||Ot.a,r.props=Object(O.a)(Object(O.a)({},i.controlProps),{},{validation:i.validation||{},control:Object(ht.a)(r),editor:t,bindInput:bt.a}),r.events=new Ct.a,r}return Object(ot.a)(n,[{key:"validate",value:function(t){if(void 0===t&&!this.config.optional)return!1;if(null!==t&&void 0!==t){var e=this.config.validation;if(e){if("custom"in e&&!e.custom(t))return!1;if("minLength"in e&&t.length<e.minLength)return!1;if("maxLength"in e&&t.length>e.maxLength)return!1;if("min"in e&&t<e.min)return!1;if("max"in e&&t>e.max)return!1;if("step"in e&&t-(e.min||0)%e.step!==0)return!1;if("pattern"in e&&!e.pattern.test(t))return!1}}return!0}},{key:"getDefaultValue",value:function(){}},{key:"getValue",value:function(){var t=this.getData(this.key);return void 0===t?this.getDefaultValue():t}},{key:"setValue",value:function(t){this.putData(this.key,t),this.events.emit("update",t)}}]),n}(X.a),wt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t,o,a){var r;return Object(nt.a)(this,n),e.call(this,t,o.key,a,Object(O.a)(Object(O.a)(Object(O.a)({},(null===(r=o.type)||void 0===r?void 0:r.data)||{}),o.config||{}),{},{prop:o,type:o.type,optional:o.optional}))}return Object(ot.a)(n,[{key:"getDefaultValue",value:function(){var t;return null===(t=this.config.type)||void 0===t?void 0:t.getDefaultValue()}},{key:"notifyEditorChange",value:function(){}}]),n}(xt),Lt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(){return Object(nt.a)(this,n),e.apply(this,arguments)}return Object(ot.a)(n,[{key:"getEditorNode",value:function(t){return this.editor.nodes.find((function(e){return e.id===t.id}))}},{key:"getControls",value:function(t){return this.getEditorNode(t).controls}}]),n}(X.d.Component),Tt=n(2),St=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t,o){return Object(nt.a)(this,n),o=Object(Tt.m)(o),e.call(this,t,Object(O.a)(Object(O.a)({},o.data),{},{type:o}))}return Object(ot.a)(n,[{key:"findLabel",value:function(){return this.findType().toTypeString()}},{key:"findType",value:function(){return this.data.type}},{key:"compatibleWith",value:function(t){if(!("findType"in t))return!1;var e=this.findType(),n=t.findType();return e.isSubtype(n)||n.isSubtype(e)}}]),n}(X.d.Socket),Nt=n(39),Mt=n(31),It=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t,o,a,r){var i;return Object(nt.a)(this,n),(i=e.call(this,o,a.type)).nodeId=t.id,i.nodeName=t.name,i.prop=a,i.typeCompiler=r,i._isTypeOfType=Tt.B.isSubtype(i.prop.type),i}return Object(ot.a)(n,[{key:"findType",value:function(){if(this.typeCompiler.editor.silent)return Object(Nt.a)(Object(Mt.a)(n.prototype),"findType",this).call(this);try{var t=this.typeCompiler.getOutput(this.nodeId,this.prop.key);if(t)return this._isTypeOfType&&(Tt.B.isSubtype(t)&&console.warn("Type of Type of Type (Intentional?)"),t=Tt.B.of(t)),t||Object(Nt.a)(Object(Mt.a)(n.prototype),"findType",this).call(this)}catch(e){console.warn("Error on socket [".concat(this.nodeName,".").concat(this.prop.key,"]:"),e)}return Object(Nt.a)(Object(Mt.a)(n.prototype),"findType",this).call(this)}}]),n}(St),Et=n(191),At=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t){var o,a;return Object(nt.a)(this,n),(a=e.call(this,t.name)).block=t,a.keywords=[].concat(Object(k.a)(Object(Et.a)(t.name).toLowerCase().split(" ").filter((function(t){return t}))),Object(k.a)((null===(o=t.title)||void 0===o?void 0:o.split(" ").filter((function(t){return t})))||[]),Object(k.a)(t.keywords||[])),a}return Object(ot.a)(n,[{key:"builder",value:function(){var t=Object(h.a)(g.a.mark((function t(e){var n,o,a,r,i,c,u,s,l,p,d,f,m,b,v=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t,n){var r=ft(t),i=n?new It(e,r,t,v.editor.compilers.type):new St(r,t.type);return!!t.type.data.reversed===n?o(t,i,n):a(t,i,n)},o=function(t,n,o){var a=ft(t),i=new X.d.Input(t.key,a,n,t.type.data.reversed||!!t.multi);return r(t,n,o)&&i.addControl(new wt(v.editor,t,a)),e.addInput(i),i},a=function(t,n,o){var a=ft(t),i=new X.d.Output(t.key,a,n,!t.type.data.reversed||!!t.multi);return e.addOutput(i),r(t,n,o)&&e.addControl(new wt(v.editor,t,a)),i},r=function(t,e,n){return t.control||!!e.data.reversed===n&&e.data.controlType&&!t.multi},delete e.meta.title,i=Object(C.a)(this.block.inputs);try{for(i.s();!(c=i.n()).done;)u=c.value,n(u,!1)}catch(y){i.e(y)}finally{i.f()}s=Object(C.a)(this.block.outputs);try{for(s.s();!(l=s.n()).done;)p=l.value,n(p,!0)}catch(y){s.e(y)}finally{s.f()}d=Object(C.a)(this.block.controls);try{for(d.s();!(f=d.n()).done;)m=f.value,b=ft(m),e.addControl(new wt(this.editor,m,b))}catch(y){d.e(y)}finally{d.f()}case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(Lt),Rt=n(16),Dt=n(43),Pt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t){return Object(nt.a)(this,n),e.call(this,t,"toEditorNode")}return Object(ot.a)(n,[{key:"defaultCompile",value:function(t,e){return e}},{key:"postCompile",value:function(t,e,n){if(t){var o;if("object"===typeof t){if(!(o=t.id))throw new Error("Invalid node object with keys: {".concat(Object.keys(t).join(", "),"}"))}else o=t;return o=String(o),this.editor.nodes.find((function(t){return String(t.id)===o}))}}}]),n}(Dt.a),Ft=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t){return Object(nt.a)(this,n),e.call(this,t,"inferType")}return Object(ot.a)(n,[{key:"defaultCompile",value:function(t,e){return Object(Tt.m)(t.type)}},{key:"postCompile",value:function(t,e,n){if(void 0!==t){if(!(t=Object(Tt.m)(t)).isAbstract())return t;console.warn("[".concat(e.name,".").concat(n,"]"),"Abstract inferred type:",t.toTypeString())}}}]),n}(Dt.a),Bt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(t){return Object(nt.a)(this,n),e.call(this,t,"toControl")}return Object(ot.a)(n,[{key:"defaultCompile",value:function(t,e){}},{key:"postCompile",value:function(t,e,n){return t}}]),n}(Dt.a),Vt=function(t){Object(at.a)(n,t);var e=Object(rt.a)(n);function n(){var t;Object(nt.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).projectName="",t.projectDescription="",t.compilers={control:new Bt(Object(ht.a)(t)),node:new Pt(Object(ht.a)(t)),type:new Ft(Object(ht.a)(t)),motoko:new Rt.a(Object(ht.a)(t))},t}return Object(ot.a)(n,[{key:"toJSON",value:function(){var t=Object(O.a)({name:this.projectName,description:this.projectDescription,version:this.id},Object(Nt.a)(Object(Mt.a)(n.prototype),"toJSON",this).call(this));return delete t.id,t}},{key:"fromJSON",value:function(){var t=Object(h.a)(g.a.mark((function t(e){var n,o,a=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Object(O.a)({id:e.version},e),this.beforeImport(e)){t.next=3;break}return t.abrupt("return",!1);case 3:return this.projectName=e.name||"",this.projectDescription=e.description||"",n=!1,t.prev=6,o={},t.next=10,Promise.all(Object.entries(e.nodes).map(function(){var t=Object(h.a)(g.a.mark((function t(e){var r,i,c,u,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(x.a)(e,2),i=r[0],c=r[1],t.prev=1,u=a.getComponent(c.name),t.next=5,u.build(X.d.Node.fromJSON(c));case 5:s=t.sent,o[i]=s,a.addNode(s),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),n=!0,t.abrupt("return",a.trigger("error",t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()));case 10:Object.entries(e.nodes).forEach((function(t){var e=Object(x.a)(t,2),r=e[0],i=e[1],c=o[r];Object.entries(i.outputs).forEach((function(t){var e=Object(x.a)(t,2),r=e[0];e[1].connections.forEach((function(t){var e=t.node,i=t.data,u=c.outputs.get(r),s=o[e];if(!s)return n=!0,a.trigger("error","Tried to connect to unknown node ".concat(c.id));var l=s.inputs.get(t.input);if(!u||!l)return n=!0,a.trigger("error","IO not found for node ".concat(c.id));a.connect(u,l,i)}))}))})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),this.trigger("warn",t.t0),n=!0;case 17:return t.abrupt("return",this.afterImport()&&!n);case 18:case"end":return t.stop()}}),t,this,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"createNode",value:function(){var t=Object(h.a)(g.a.mark((function t(e){var n,o,a,r,i,c,u=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},o=u.length>2&&void 0!==u[2]?u[2]:null,t.next=4,e.createNode(n);case 4:return a=t.sent,o&&(r=o.x,i=o.y,c=[r,i],a.position[0]=c[0],a.position[1]=c[1]),this.addNode(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createNodeAtCursor",value:function(){var t=Object(h.a)(g.a.mark((function t(e){var n,o,a,r,i=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},o=this.view.area.mouse,a=o.x,r=o.y,t.abrupt("return",this.createNode(e,n,{x:a-80,y:r-20}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"connect",value:function(t,e,o){t.node&&t.node===e.node||Object(Nt.a)(Object(Mt.a)(n.prototype),"connect",this).call(this,t,e,o)}}]),n}(X.d.NodeEditor);function _t(t){var e=t instanceof X.d.Input?"output":"input";t.connections.sort((function(t,n){return t[e].node.position[1]-n[e].node.position[1]}))}var zt={name:"vertical-sort",install:function(t){t.on("connectioncreated",(function(t){_t(t.input),_t(t.output)})),t.on("nodedragged",(function(t){for(var e=0,n=[[t.inputs,"output"],[t.outputs,"input"]];e<n.length;e++){var o,a=Object(x.a)(n[e],2),r=a[0],i=a[1],c=Object(C.a)(r.values());try{for(c.s();!(o=c.n()).done;){var u,s=o.value,l=Object(C.a)(s.connections);try{for(l.s();!(u=l.n()).done;){_t(u.value[i])}}catch(p){l.e(p)}finally{l.f()}}}catch(p){c.e(p)}finally{c.f()}}}))}};var Jt={name:"connection-drop",install:function(t){var e=function(t){t.code};document.addEventListener("keydown",e),t.on("destroy",(function(){return document.removeEventListener("keydown",e)}))}};var qt={name:"connection-opacity",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDistance,o=void 0===n?500:n,a=e.opacityFalloff,r=void 0===a?200:a;t.on(["renderconnection","updateconnection","zoom"],(function(){setTimeout((function(){var e,n=Object(C.a)(t.view.container.querySelectorAll(".connection .main-path"));try{for(n.s();!(e=n.n()).done;){var a=e.value,i=a.getBoundingClientRect().width;a.style.opacity=1/(1+Math.sqrt(Math.max(i-o,0)/r))}}catch(c){n.e(c)}finally{n.f()}}))}))}},Zt=qt;var Ut,Wt={name:"drag-button",install:function(t){}},Kt=n(0),Gt=["title","titleId"];function Ht(){return Ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ht.apply(this,arguments)}function Xt(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $t(t,e){var n=t.title,o=t.titleId,r=Xt(t,Gt);return a.createElement("svg",Ht({ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,Ut||(Ut=a.createElement("linearGradient",{id:"svg-block-gradient",width:0,height:0,x2:1,y2:1},a.createElement("stop",{offset:"0%",stopColor:"#00EFFB"}),a.createElement("stop",{offset:"50%",stopColor:"#8649E1"}),a.createElement("stop",{offset:"100%",stopColor:"#F900E3"}))))}var Yt,Qt,te=a.forwardRef($t),ee=(n.p,["className","children"]),ne=d.a.div(Yt||(Yt=Object(p.a)(['\n    background: #FFF;\n    margin-bottom: 3px;\n    position: relative;\n    background-clip: padding-box;\n    z-index: 10;\n  \n    :before {\n        content: "";\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        height: 3px;\n        background: linear-gradient(90deg, #00EFFB, #8649E1, #F900E3);\n        z-index: -1;\n        margin-bottom: -3px;\n    }\n    \n']))),oe=Object(d.a)(te)(Qt||(Qt=Object(p.a)(["\n  height: 0;\n  width: 0;\n"])));function ae(t){var e=t.className,n=t.children,o=Object(w.a)(t,ee);return Object(m.jsxs)(ne,Object(O.a)(Object(O.a)({className:E()("top-menu text-secondary d-flex py-2 justify-content-start align-items-center",e)},o),{},{children:[Object(m.jsx)(oe,{}),Object(m.jsx)(Kt.b.Provider,{value:{style:{verticalAlign:"bottom",transform:"translateY(-1px)"}},children:n})]}))}var re,ie=["variant","tooltip","className"],ce=d.a.div(re||(re=Object(p.a)(["\n\n"])));function ue(t){var e=t.variant,n=t.tooltip,o=t.className,a=Object(w.a)(t,ie);return Object(z.a)(),Object(m.jsx)(ce,Object(O.a)({className:E()("noselect h3 mx-3 px-3 pt-2 pb-2 mb-0 d-inline-block text-center",e&&"text-".concat(e),o),"data-tip":n},a))}var se,le,pe=["children","className"],de=Object(d.a)(ue)(se||(se=Object(p.a)(['\n    cursor: pointer;\n    border-radius: 10px;\n\n    &.round {\n        border-radius: 50% !important;\n        width: 48px;\n        height: 48px;\n        padding: 0 !important;\n    }\n\n    :hover {\n        background: #F0F0F0;\n    }\n\n    :hover > svg {\n        fill: url("#svg-block-gradient");\n    }\n']))),fe=d.a.svg(le||(le=Object(p.a)(["\n    position: absolute;\n    width: 0;\n    height: 0;\n"])));function me(t){var e=t.children,n=t.className,o=Object(w.a)(t,pe);return Object(m.jsxs)(de,Object(O.a)(Object(O.a)({},o),{},{className:E()("menu-button",n),children:[Object(m.jsx)(fe,{"aria-hidden":"true",focusable:"false"}),e]}))}var be=n(83),ve=n(91),ye=["options","onFile","onFileContent","className","children"];function je(t){var e=t.options,n=t.onFile,o=t.onFileContent,r=t.className,i=t.children,c=Object(w.a)(t,ye),u=Object(a.useCallback)((function(t){if(t.length){var e=t[0];if(null===n||void 0===n||n(e),o){var a=new FileReader;a.onload=function(t){o(t.target.result)},a.readAsText(e)}}}),[n,o]),s=Object(ve.a)(Object(O.a)({maxFiles:1,onDrop:u},e)),l=s.getRootProps,p=s.getInputProps,d=s.isDragActive;return Object(m.jsxs)("div",Object(O.a)(Object(O.a)({className:E()(r,d&&"dragging")},Object(O.a)(Object(O.a)({},c),l())),{},{children:[Object(m.jsx)("input",Object(O.a)({},p())),i]}))}var ge,he,Oe,ke=["onLoadFileContent","className"],Ce=d.a.div(ge||(ge=Object(p.a)(["\n    padding: 20px;\n"]))),xe=d.a.div(he||(he=Object(p.a)(["\n    :hover {\n        background: #0001;\n    }\n"]))),we=Object(d.a)(je)(Oe||(Oe=Object(p.a)(["\n    padding: 2em;\n    border: 2px #0005 dashed;\n\n    &.dragging, &:hover {\n        background: #0002;\n    }\n"])));function Le(t){var e=t.onLoadFileContent,n=t.className,o=Object(w.a)(t,ke),r=Object(a.useContext)(s.g),i=Object(be.getExampleProjects)();return Object(m.jsxs)(Ce,Object(O.a)(Object(O.a)({className:E()("bg-light",n)},o),{},{children:[Object(m.jsx)(we,{className:E()("clickable text-center text-muted rounded-3"),onFileContent:e,children:Object(m.jsx)("h5",{children:"Import a .blocks file . . ."})}),i.map((function(t,e){return Object(m.jsxs)(xe,{className:"clickable mt-2 px-3 py-2",onClick:function(){return r.emit(s.f,t)},children:[Object(m.jsx)("h4",{className:"fw-normal",children:t.name}),Object(m.jsx)("div",{className:"text-muted",children:t.description||"(No description provided)"})]},e)}))]}))}var Te,Se=n(197),Ne=["title","titleId"];function Me(){return Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Me.apply(this,arguments)}function Ie(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ee(t,e){var n=t.title,o=t.titleId,r=Ie(t,Ne);return a.createElement("svg",Me({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,Te||(Te=a.createElement("g",null,a.createElement("path",{d:"M20,15L20,19C20,19.549 19.549,20 19,20C19,20 5,20 5,20C4.451,20 4,19.549 4,19C4,19 4,15 4,15C4,14.448 3.552,14 3,14C2.448,14 2,14.448 2,15L2,19C2,20.646 3.354,22 5,22L19,22C20.646,22 22,20.646 22,19L22,15C22,14.448 21.552,14 21,14C20.448,14 20,14.448 20,15Z"}),a.createElement("path",{d:"M11,12.586L7.707,9.293C7.317,8.903 6.683,8.903 6.293,9.293C5.903,9.683 5.903,10.317 6.293,10.707L11.293,15.707C11.413,15.827 11.556,15.91 11.708,15.957L11.711,15.958C11.795,15.983 11.884,15.998 11.976,16L12,16L12.024,16C12.116,15.998 12.205,15.983 12.289,15.958L12.292,15.957C12.444,15.91 12.587,15.827 12.707,15.707L17.707,10.707C18.097,10.317 18.097,9.683 17.707,9.293C17.317,8.903 16.683,8.903 16.293,9.293L13,12.586L13,3C13,2.448 12.552,2 12,2C11.448,2 11,2.448 11,3L11,12.586Z"}))))}var Ae,Re=a.forwardRef(Ee),De=(n.p,["title","titleId"]);function Pe(){return Pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Pe.apply(this,arguments)}function Fe(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Be(t,e){var n=t.title,o=t.titleId,r=Fe(t,De);return a.createElement("svg",Pe({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,Ae||(Ae=a.createElement("path",{d:"M21,8L21,7.988C20.998,7.807 20.947,7.637 20.861,7.492C20.819,7.42 20.767,7.353 20.707,7.293L14.707,1.293C14.647,1.233 14.58,1.181 14.508,1.139C14.362,1.053 14.193,1.002 14.012,1L14,1L6,1C4.354,1 3,2.354 3,4L3,20C3,21.646 4.354,23 6,23L18,23C19.646,23 21,21.646 21,20L21,8ZM13,3L6,3C5.451,3 5,3.451 5,4C5,4 5,20 5,20C5,20.549 5.451,21 6,21C6,21 18,21 18,21C18.549,21 19,20.549 19,20L19,9L14,9C13.448,9 13,8.552 13,8L13,3ZM11,14L9,14C8.448,14 8,14.448 8,15C8,15.552 8.448,16 9,16L11,16L11,18C11,18.552 11.448,19 12,19C12.552,19 13,18.552 13,18L13,16L15,16C15.552,16 16,15.552 16,15C16,14.448 15.552,14 15,14L13,14L13,12C13,11.448 12.552,11 12,11C11.448,11 11,11.448 11,12L11,14ZM15,7L17.586,7L15,4.414L15,7Z"})))}var Ve,_e=a.forwardRef(Be),ze=(n.p,["title","titleId"]);function Je(){return Je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Je.apply(this,arguments)}function qe(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ze(t,e){var n=t.title,o=t.titleId,r=qe(t,ze);return a.createElement("svg",Je({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,Ve||(Ve=a.createElement("path",{d:"M23,19L23,8C23,6.354 21.646,5 20,5L11.535,5C11.535,5 9.832,2.445 9.832,2.445C9.647,2.167 9.334,2 9,2L4,2C2.354,2 1,3.354 1,5L1,19C1,20.646 2.354,22 4,22L20,22C21.646,22 23,20.646 23,19ZM21,19C21,19.549 20.549,20 20,20C20,20 4,20 4,20C3.451,20 3,19.549 3,19L3,5C3,4.451 3.451,4 4,4C4,4 8.465,4 8.465,4C8.465,4 10.168,6.555 10.168,6.555C10.353,6.833 10.666,7 11,7L20,7C20.549,7 21,7.451 21,8C21,8 21,19 21,19Z"})))}var Ue,We=a.forwardRef(Ze),Ke=(n.p,["title","titleId"]);function Ge(){return Ge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ge.apply(this,arguments)}function He(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xe(t,e){var n=t.title,o=t.titleId,r=He(t,Ke);return a.createElement("svg",Ge({width:"100%",height:"100%",viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,a.createElement("g",{id:"Artboard1",transform:"matrix(1.25,0,0,1,0,0)"},a.createElement("rect",{x:0,y:0,width:24,height:24,style:{fill:"none"}}),Ue||(Ue=a.createElement("g",{transform:"matrix(0.8,0,0,1,2.4,0)"},a.createElement("path",{d:"M23,19L23,8C23,6.354 21.646,5 20,5L11.535,5C11.535,5 9.832,2.445 9.832,2.445C9.647,2.167 9.334,2 9,2L4,2C2.354,2 1,3.354 1,5C1,5 1,19 1,19C1,20.646 2.354,22 4,22L20,22C21.646,22 23,20.646 23,19ZM21,19C21,19.549 20.549,20 20,20C20,20 4,20 4,20C3.451,20 3,19.549 3,19L3,5C3,4.451 3.451,4 4,4C4,4 8.465,4 8.465,4C8.465,4 10.168,6.555 10.168,6.555C10.353,6.833 10.666,7 11,7L20,7C20.549,7 21,7.451 21,8L21,19Z"})))))}var $e,Ye=a.forwardRef(Xe),Qe=(n.p,["title","titleId"]);function tn(){return tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},tn.apply(this,arguments)}function en(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nn(t,e){var n=t.title,o=t.titleId,r=en(t,Qe);return a.createElement("svg",tn({width:"100%",height:"100%",viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,a.createElement("g",{id:"Artboard1",transform:"matrix(1.25,0,0,1,0,0)"},a.createElement("rect",{x:0,y:0,width:24,height:24,style:{fill:"none"}}),$e||($e=a.createElement("g",{transform:"matrix(0.8,0,0,1,0,0)"},a.createElement("path",{d:"M5.8,21.747C5.825,21.769 5.851,21.789 5.878,21.809C6.059,21.941 6.27,22.003 6.479,22L6.527,21.998C6.572,21.995 6.617,21.99 6.661,21.981C6.772,21.993 6.885,22 7,22L23,22C23.32,22 23.621,21.847 23.809,21.588L29.597,13.621C29.818,13.317 29.85,12.914 29.679,12.579C29.509,12.244 29.164,12.033 28.788,12.033L25.939,12.033L26,8C26,6.354 24.646,5 23,5L14.535,5C14.535,5 12.832,2.445 12.832,2.445C12.647,2.167 12.334,2 12,2L7,2C5.354,2 4,3.354 4,5C4,5 4,19 4,19C4,20.22 4.745,21.28 5.8,21.747ZM8.428,20L12.763,14.033L26.826,14.033C26.826,14.033 22.49,20 22.49,20L8.428,20ZM23.939,12.033C23.961,10.57 24,7.993 24,7.987C23.993,7.444 23.544,7 23,7L14,7C13.666,7 13.353,6.833 13.168,6.555C13.168,6.555 11.465,4 11.465,4C11.465,4 7,4 7,4C6.451,4 6,4.451 6,5L6,19C6,19.238 6.085,19.457 6.225,19.629L11.445,12.445L11.445,12.445C11.627,12.196 11.922,12.033 12.254,12.033L23.939,12.033Z"})))))}var on,an=a.forwardRef(nn),rn=(n.p,["title","titleId"]);function cn(){return cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cn.apply(this,arguments)}function un(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sn(t,e){var n=t.title,o=t.titleId,r=un(t,rn);return a.createElement("svg",cn({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,on||(on=a.createElement("path",{d:"M19,22C20.646,22 22,20.646 22,19L22,8C22,7.735 21.895,7.48 21.707,7.293L16.707,2.293C16.52,2.105 16.265,2 16,2L5,2C3.354,2 2,3.354 2,5L2,19C2,20.646 3.354,22 5,22L19,22ZM8,4L8,7L15,7C15.552,7 16,7.448 16,8C16,8.552 15.552,9 15,9L7,9C6.448,9 6,8.552 6,8L6,4L5,4C4.451,4 4,4.451 4,5C4,5 4,19 4,19C4,19.549 4.451,20 5,20L6,20L6,13C6,12.448 6.448,12 7,12L17,12C17.552,12 18,12.448 18,13L18,20L19,20C19.549,20 20,19.549 20,19C20,19 20,8.414 20,8.414C20,8.414 15.586,4 15.586,4L8,4ZM8,20L16,20L16,14C16,14 8,14 8,14L8,20Z"})))}var ln,pn=a.forwardRef(sn),dn=(n.p,["title","titleId"]);function fn(){return fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fn.apply(this,arguments)}function mn(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bn(t,e){var n=t.title,o=t.titleId,r=mn(t,dn);return a.createElement("svg",fn({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,ln||(ln=a.createElement("path",{d:"M12,1C5.929,1 1,5.929 1,12C1,18.071 5.929,23 12,23C18.071,23 23,18.071 23,12C23,12 23,11.964 23,11.964C22.998,11.52 22.971,11.076 22.916,10.634C22.823,9.889 22.654,9.153 22.411,8.442C22.144,7.662 21.789,6.913 21.354,6.213C20.907,5.492 20.377,4.823 19.777,4.223C19.177,3.623 18.508,3.093 17.787,2.646C17.087,2.211 16.338,1.856 15.558,1.589C14.836,1.342 14.089,1.171 13.331,1.08C12.89,1.027 12.445,1.001 12,1ZM13,3.055L13,6C13,6.552 12.552,7 12,7C11.448,7 11,6.552 11,6L11,3.055C6.831,3.516 3.517,6.831 3.055,11L6,11C6.552,11 7,11.448 7,12C7,12.552 6.552,13 6,13L3.055,13C3.516,17.169 6.831,20.483 11,20.945L11,18C11,17.448 11.448,17 12,17C12.552,17 13,17.448 13,18L13,20.945C17.169,20.484 20.483,17.169 20.945,13L18,13C17.448,13 17,12.552 17,12C17,11.448 17.448,11 18,11L20.945,11C20.484,6.831 17.169,3.517 13,3.055Z"})))}var vn,yn=a.forwardRef(bn),jn=(n.p,["title","titleId"]);function gn(){return gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},gn.apply(this,arguments)}function hn(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function On(t,e){var n=t.title,o=t.titleId,r=hn(t,jn);return a.createElement("svg",gn({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,vn||(vn=a.createElement("g",null,a.createElement("path",{d:"M4.045,9.517L4.045,18.022C4.045,18.137 4.065,18.249 4.101,18.352L4.104,18.36C4.141,18.463 4.195,18.562 4.268,18.652C5.445,20.102 7.827,22.949 12,22.949C16.173,22.949 18.555,20.102 19.732,18.652C19.805,18.562 19.859,18.463 19.896,18.36L19.899,18.352C19.935,18.249 19.955,18.137 19.955,18.022L19.955,14.524C19.955,13.972 19.507,13.524 18.955,13.524C18.403,13.524 17.955,13.972 17.955,14.524L17.955,17.667C16.949,18.898 15.117,20.949 12,20.949C8.883,20.949 7.051,18.898 6.045,17.667L6.045,10.569L11.535,13.454C11.826,13.607 12.174,13.607 12.465,13.454L21.017,8.959L21.017,14.524C21.017,15.076 21.465,15.524 22.017,15.524C22.569,15.524 23.017,15.076 23.017,14.524L23.017,7.366C23.017,7.356 23.017,7.345 23.016,7.335C23.017,7.325 23.017,7.314 23.017,7.304C23.017,6.932 22.811,6.592 22.482,6.419L12.465,1.154C12.174,1.001 11.826,1.001 11.535,1.154L1.518,6.419C1.189,6.592 0.983,6.932 0.983,7.304C0.983,7.675 1.189,8.016 1.518,8.189L4.045,9.517ZM12,3.169L19.867,7.304C19.867,7.304 12,11.439 12,11.439C12,11.439 4.133,7.304 4.133,7.304L12,3.169Z"}))))}var kn,Cn,xn=a.forwardRef(On),wn=(n.p,["title","titleId"]);function Ln(){return Ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ln.apply(this,arguments)}function Tn(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Sn(t,e){var n=t.title,o=t.titleId,r=Tn(t,wn);return a.createElement("svg",Ln({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":o},r),n?a.createElement("title",{id:o},n):null,kn||(kn=a.createElement("path",{d:"M12,8C9.792,8 8,9.792 8,12C8,14.208 9.792,16 12,16C14.208,16 16,14.208 16,12C16,9.792 14.208,8 12,8ZM12,10C13.104,10 14,10.896 14,12C14,13.104 13.104,14 12,14C10.896,14 10,13.104 10,12C10,10.896 10.896,10 12,10Z"})),Cn||(Cn=a.createElement("path",{d:"M20.913,15L21,15L21.077,14.999C22.688,14.958 24,13.62 24,12C24,10.354 22.646,9 21,9C21.018,9 21.035,9 21.052,9.001L20.997,9L20.831,9C20.615,8.998 20.416,8.889 20.298,8.713C20.284,8.646 20.263,8.58 20.235,8.516C20.128,8.274 20.179,7.989 20.365,7.799C20.177,7.992 20.415,7.749 20.415,7.749L20.417,7.748C20.98,7.185 21.297,6.421 21.297,5.625C21.297,4.829 20.98,4.065 20.417,3.503C19.855,2.94 19.091,2.623 18.295,2.623C17.499,2.623 16.735,2.94 16.172,3.503L16.171,3.505L16.171,3.505L16.114,3.562C15.925,3.742 15.644,3.791 15.404,3.685C15.4,3.684 15.397,3.682 15.394,3.681C15.156,3.579 15.001,3.345 15,3.086C15.001,3.352 15,3.249 15,3.003L15,3L15,3C15,1.354 13.646,-0 12,0C10.354,0 9,1.354 9,3L9,3.005L9,3.005L9,3.166C8.999,3.413 8.847,3.621 8.625,3.724L8.587,3.737L8.587,3.741C8.363,3.842 8.331,3.847 8.516,3.765C8.274,3.872 7.99,3.821 7.8,3.636L7.749,3.585L7.747,3.583L7.747,3.583C7.185,3.02 6.421,2.703 5.625,2.703C4.829,2.703 4.065,3.02 3.503,3.583C2.94,4.145 2.623,4.909 2.623,5.705C2.623,6.501 2.94,7.265 3.503,7.827L3.505,7.829L3.505,7.829L3.505,7.829L3.539,7.862L3.564,7.883L3.555,7.879C3.741,8.069 3.792,8.354 3.685,8.596C3.677,8.616 3.669,8.635 3.661,8.655C3.57,8.903 3.335,9.072 3.071,9.08L3.071,9.08C3.058,9.08 3.045,9.081 3.033,9.082L3.016,9.083L3,9.084L3,9.08C1.354,9.08 -0,10.434 0,12.08C0,13.726 1.354,15.08 3,15.08L3.167,15.08C3.425,15.081 3.659,15.236 3.761,15.474C3.762,15.477 3.764,15.48 3.765,15.484C3.872,15.726 3.821,16.01 3.636,16.2L3.584,16.252L3.586,16.255L3.585,16.256L3.583,16.252C3.02,16.815 2.703,17.579 2.703,18.375C2.703,19.171 3.02,19.935 3.583,20.497C4.145,21.06 4.909,21.377 5.705,21.377C6.501,21.377 7.265,21.06 7.828,20.497C7.64,20.684 7.885,20.439 7.885,20.439C8.074,20.258 8.356,20.209 8.596,20.315C8.616,20.323 8.635,20.331 8.655,20.339C8.903,20.43 9.072,20.664 9.08,20.929L9.08,20.998L9.08,21L9.08,21C9.08,22.646 10.434,24 12.08,24C13.726,24 15.08,22.646 15.08,21C15.08,21.022 15.079,21.044 15.078,21.066L15.08,20.996L15.08,20.834C15.081,20.575 15.236,20.341 15.474,20.239C15.477,20.238 15.48,20.236 15.484,20.235C15.726,20.128 16.011,20.179 16.201,20.365C16.221,20.385 16.242,20.404 16.264,20.422L16.252,20.417C16.815,20.98 17.579,21.297 18.375,21.297C19.171,21.297 19.935,20.98 20.497,20.417C21.06,19.855 21.377,19.091 21.377,18.295C21.377,17.499 21.06,16.735 20.497,16.173L20.498,16.174L20.496,16.172L20.438,16.114C20.258,15.922 20.21,15.642 20.315,15.404C20.316,15.4 20.318,15.397 20.319,15.394C20.421,15.156 20.655,15.001 20.913,15ZM13.002,3.156C13.001,3.135 13,3.115 13,3.094C13.004,4.147 13.635,5.101 14.602,5.517C15.589,5.951 16.748,5.739 17.519,4.985L17.504,4.991L17.514,4.983C17.527,4.972 17.539,4.962 17.552,4.951L17.585,4.919L17.585,4.919L17.585,4.919L17.588,4.917C17.775,4.729 18.03,4.623 18.295,4.623C18.56,4.623 18.815,4.729 19.003,4.917C19.003,4.917 19.003,4.917 19.003,4.917C19.191,5.105 19.297,5.36 19.297,5.625C19.297,5.89 19.191,6.145 19.003,6.333L18.944,6.392C18.944,6.392 18.654,6.688 18.935,6.401C18.179,7.174 17.969,8.335 18.405,9.324C18.554,9.66 18.558,9.762 18.401,9.394C18.816,10.363 19.772,10.996 20.826,11L21,11C21.549,11 22,11.451 22,12C22,12.549 21.549,13 21,13L21,13L20.997,13L20.912,13L20.875,13.001L20.906,13C19.853,13.004 18.899,13.635 18.483,14.602L18.483,14.602C18.049,15.589 18.261,16.748 19.015,17.519L19.73,17.82L19.025,17.529C19.025,17.529 19.271,17.775 19.083,17.588C19.271,17.775 19.377,18.03 19.377,18.295C19.377,18.56 19.271,18.815 19.083,19.003C19.083,19.003 19.083,19.003 19.083,19.003C18.895,19.191 18.64,19.297 18.375,19.297C18.119,19.297 17.873,19.198 17.688,19.023L17.609,18.945L17.603,18.939L17.599,18.935L17.57,18.907C16.799,18.175 15.657,17.975 14.682,18.403C13.715,18.819 13.084,19.773 13.08,20.826L13.08,21C13.08,21.549 12.629,22 12.08,22C11.531,22 11.08,21.549 11.08,21L11.075,21.005C11.078,20.975 11.08,20.945 11.08,20.915L11.08,20.913L11.08,20.896L11.08,20.887L11.079,20.872L11.079,20.862C11.044,19.794 10.367,18.848 9.368,18.47C8.393,18.053 7.246,18.266 6.481,19.015L6.471,19.025C6.471,19.025 6.414,19.082 6.414,19.082C6.414,19.082 6.127,19.369 6.412,19.083C6.225,19.271 5.97,19.377 5.705,19.377C5.44,19.377 5.185,19.271 4.998,19.083C4.997,19.083 4.997,19.083 4.997,19.082C4.809,18.895 4.703,18.64 4.703,18.375C4.703,18.11 4.809,17.855 4.997,17.667L4.985,17.672C5.009,17.652 5.032,17.631 5.055,17.609L5.055,17.609L5.055,17.609L5.065,17.599C5.819,16.828 6.031,15.669 5.597,14.682C5.181,13.715 4.227,13.084 3.174,13.08L3.174,13.081L3.133,13.08C3.083,13.08 3.039,13.089 3,13.106L3,13.08C2.451,13.08 2,12.629 2,12.08C2,11.531 2.451,11.08 3,11.08L3.082,11.08L3.09,11.08L3.09,11.08L3.113,11.08C4.191,11.055 5.149,10.374 5.53,9.368C5.942,8.406 5.739,7.277 5.015,6.512L4.985,6.481L4.985,6.481L4.976,6.472L4.917,6.413C4.729,6.225 4.623,5.97 4.623,5.705C4.623,5.44 4.729,5.185 4.917,4.998C4.917,4.997 4.917,4.997 4.918,4.997C5.105,4.809 5.36,4.703 5.625,4.703C5.89,4.703 6.145,4.809 6.332,4.997L7.04,5.29L6.335,4.999C6.335,4.999 6.588,5.248 6.401,5.065C7.166,5.813 8.312,6.027 9.295,5.607L9.299,5.606L9.331,5.595L9.333,5.595L9.331,5.595C9.352,5.588 9.373,5.58 9.394,5.571C10.368,5.153 10.996,4.233 11,3.174L11,3.174L11,3.166L11,3.005L11,3L11,3C11,2.451 11.451,2 12,2C12.549,2 13,2.451 13,3L14,4C14,4 13,3.003 13,3.003C13,3.003 13,3.076 13,3.088L13.002,3.156ZM15.075,21.098L15.074,21.108L15.075,21.098ZM16.96,20.71L16.822,20.647L16.804,20.645L16.96,20.71ZM4.446,17.895L4.428,17.897L4.29,17.96L4.446,17.895ZM4.29,17.96L4.264,17.896L4.263,17.896L4.29,17.96ZM4.27,8.18L4.132,8.117L4.117,8.116L4.27,8.18ZM9.293,5.608C9.174,5.655 9.071,5.649 9.071,5.649C9.146,5.644 9.221,5.63 9.293,5.608Z"})))}var Nn,Mn=a.forwardRef(Sn),In=(n.p,["fill","size"]),En="rgb(108, 117, 125)",An=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=n.fill,a=n.size,r=Object(w.a)(n,In);return Object(m.jsx)(t,Object(O.a)({fill:o||En,width:(a||24)*e,height:a||24},r))}},Rn=An(Re),Dn=An(_e),Pn=(An(We),An(Ye,1.25)),Fn=An(an,1.25),Bn=An(pn),Vn=An(yn),_n=(An(xn),An(Mn)),zn=["className","children"],Jn=d.a.div(Nn||(Nn=Object(p.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    z-index: 100;\n"])));function qn(t){var e=t.className,n=t.children,o=Object(w.a)(t,zn);return Object(m.jsx)(Jn,Object(O.a)(Object(O.a)({className:E()("p-5 d-flex flex-row align-items-center justify-content-center",e)},o),{},{children:n}))}function Zn(){try{return window.self!==window.top}catch(t){return!0}}var Un=function(){function t(e){Object(nt.a)(this,t),this._value=e,this._listeners=[]}return Object(ot.a)(t,[{key:"get",value:function(){return this._value}},{key:"set",value:function(t){var e=this;this._value!==t&&(this._value=t,this._listeners.forEach((function(t){return t(e._value)})))}},{key:"subscribe",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsubscribe(t)}}},{key:"unsubscribe",value:function(t){this._listeners=this._listeners.filter((function(e){return e!==t}))}}]),t}();function Wn(t){return new Un(t)}var Kn=Zn()?{}:window.localStorage,Gn=new Map;function Hn(t,e){var n=Gn.get(t);if(!n){try{var o=Kn[t];n=Wn(o?JSON.parse(o):e)}catch(s){console.error(s),n=Wn(e)}Gn.set(t,n)}var r=function(t){var e=Object(a.useState)(t.get()),n=Object(x.a)(e,2),o=n[0],r=n[1];return Object(a.useEffect)((function(){return t.subscribe(r)}),[t]),[o,function(e){return t.set(e)}]}(n),i=Object(x.a)(r,2),c=i[0],u=i[1];return[c,function(e){try{var n=e instanceof Function?e(c):e;u(n),void 0!==n?Kn[t]=JSON.stringify(n):delete Kn[t]}catch(s){console.error(s)}}]}var Xn=[{id:"minimal",name:"Minimal",parts:[]},{id:"light",name:"Light",parts:[]},{id:"dark",name:"Dark",parts:["vibrant-borders"]},{id:"lightdark",name:"Light-Dark",parts:[]}];function $n(){return Xn}function Yn(){var t=$n(),e=Hn("blocks.theme","dark"),n=Object(x.a)(e,2),o=n[0],a=n[1];return[t.find((function(t){return t.id===o}))||t[0],function(t){return a(t)}]}var Qn,to,eo,no,oo,ao={select:function(t){var e=t.value,n=t.options,o=t.onChange;return Object(m.jsx)("select",{className:"form-control ml-5 w-auto",onChange:o,value:e,children:n.map((function(t,e){var n;return Object(m.jsx)("option",{value:t.value,children:null!==(n=t.label)&&void 0!==n?n:t.value},e)}))})},toggle:function(t){var e=t.value,n=t.onClick;return Object(m.jsx)("input",{type:"checkbox",value:e,onClick:n})}};function ro(t){var e=t.name,n=t.description,o=t.type,a=t.props,r=ao[o];return Object(m.jsxs)("div",{className:"w-100 py-2 px-3 d-flex flex-column align-items-start justify-content-center",children:[Object(m.jsxs)("div",{className:"w-100 d-flex flex-row align-items-center justify-content-between",children:[Object(m.jsx)("span",{className:"flex-grow-1",children:e}),r&&Object(m.jsx)(r,Object(O.a)({},a))]}),Object(m.jsx)("span",{className:"small text-muted",children:n})]})}function io(){var t=Hn("blocks.detailedTooltips",!1),e=Object(x.a)(t,2),n=e[0],o=e[1],a=Yn(),r=Object(x.a)(a,2),i=r[0],c=r[1],u=$n(),s=[{name:"Theme",description:"The color scheme used in the editor.",type:"select",props:{label:i.name,value:i.id,options:u.map((function(t){return{value:t.id,label:t.name}})),onChange:function(t){c(t.target.value)}}},{name:"Learning Mode",description:"Provides more detailed tooltips.",type:"toggle",props:{value:n,onClick:function(){o(!n)}}}];return Object(m.jsxs)("div",{className:"p-3",children:[Object(m.jsx)("h3",{children:"Settings"}),s.map((function(t,e){return Object(m.jsx)(ro,Object(O.a)({},t),e)}))]})}var co=d.a.input(Qn||(Qn=Object(p.a)(["\n    border: 2px solid transparent !important;\n    border-bottom: solid 2px #0003 !important;\n    font-weight: bold;\n    vertical-align: top;\n    margin-top: .4em;\n    padding: .25em .25em .1em;\n    position: relative;\n    background-clip: padding-box;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: linear-gradient(30deg, #00EFFB, #8649E1, #F900E3);\n        margin: -2px;\n        z-index: -1;\n        opacity: 0;\n    }\n\n    :focus {\n        outline: none;\n\n        &::before {\n            opacity: 1;\n        }\n    }\n"]))),uo=Object(d.b)(to||(to=Object(p.a)(["\n    30% {\n        transform: scale(.6);\n    }\n"]))),so=Object(d.a)(Bn)(eo||(eo=Object(p.a)(["\n    &.animating {\n        animation: "," .7s ease-out;\n    }\n"])),uo),lo=Object(d.a)(Vn)(no||(no=Object(p.a)(["\n    &.animating {\n        animation: "," .7s ease-out;\n    }\n"])),uo),po=d.a.img(oo||(oo=Object(p.a)(["\n    -webkit-user-drag: none;\n    user-select: none;\n"])));function fo(t){var e=t.getEditor,n=t.onLoadFileContent,o=Object(a.useState)(""),r=Object(x.a)(o,2),i=r[0],c=r[1],u=Object(a.useState)(!1),p=Object(x.a)(u,2),d=p[0],b=p[1],v=Object(a.useState)(!1),y=Object(x.a)(v,2),j=y[0],g=y[1],h=Object(a.useState)(null),O=Object(x.a)(h,2),k=O[0],C=O[1],w=Object(a.useContext)(s.g);Object(l.a)(w,s.b,(function(){b(!0)})),Object(l.a)(w,s.f,(function(t){c(t.name),C(!1)})),setTimeout((function(){c(e().projectName)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(ae,{children:[Object(m.jsx)(ue,{variant:"dark",children:Object(m.jsx)(po,{src:"".concat("https://blocks-editor.github.io/blocks","/img/logo-gradient.png"),height:"48px",alt:"Blocks Logo"})}),Object(m.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center mx-3",children:[Object(m.jsx)(co,{type:"text",placeholder:"Unnamed Project",className:"bg-light text-secondary",value:i||"",onChange:function(t){return function(t){c(t);var n=e();n.projectName=t,w.emit(s.a,n)}(t.target.value)},onKeyDown:function(t){return"Enter"===t.key&&w.emit(s.b,e())}}),Object(m.jsx)(me,{tooltip:"Save Changes",onMouseDown:function(){return w.emit(s.b,e())},children:Object(m.jsx)(so,{className:E()(d&&"animating"),onAnimationEnd:function(){return b(!1)}})}),Object(m.jsx)(me,{tooltip:"Export to File",onMouseDown:function(){return w.emit(s.e,e().toJSON())},children:Object(m.jsx)(Rn,{})}),Object(m.jsx)(me,{tooltip:"New Project",onMouseDown:function(){return w.emit(s.d)},children:Object(m.jsx)(Dn,{})}),Object(m.jsx)(me,{tooltip:"Load Project",onMouseDown:function(){return C("load")},children:"load"===k?Object(m.jsx)(Fn,{}):Object(m.jsx)(Pn,{})}),Object(m.jsx)(me,{tooltip:"Settings",onMouseDown:function(){return C("settings")},children:Object(m.jsx)(_n,{})})]})]}),Object(m.jsx)(qn,{children:Object(m.jsx)(me,{className:"round floating d-flex align-items-center justify-content-center",tooltip:"Reset Viewport",onMouseDown:function(){L.a.zoomAt(e()),g(!0)},children:Object(m.jsx)(lo,{className:E()(j&&"animating"),onAnimationEnd:function(){return g(!1)}})})}),Object(m.jsx)(Se.a,{show:k,onShow:function(){return f.a.hide()},onHide:function(){return C(null)},children:Object(m.jsxs)(Se.a.Body,{children:["load"===k&&Object(m.jsx)(Le,{onLoadFileContent:n}),"settings"===k&&Object(m.jsx)(io,{})]})})]})}var mo,bo=new Map(Object.entries({c:"Comment",d:"CommentRegion","-":"Subtract","=":"Add",8:"Multiply","/":"Divide",7:"And","\\":"Or",1:"Not",r:"Return",",":"LiteralTuple",".":"LiteralIdentifier","'":"LiteralText",x:"CodeValue",b:"LiteralBool",n:"LiteralNat",i:"LiteralInt",f:"LiteralFloat",a:"NewArray",m:"NewTextHashMap",o:"Optional",u:"OptionalUnwrap"}).map((function(t){var e=Object(x.a)(t,2),n=e[0],o=e[1];return[n,Object(st.b)(o)]}))),vo=["hideMenu","onSetup","onChange","onSave","className"],yo=["input","textarea"];var jo=d.a.div(mo||(mo=Object(p.a)(["\n    width: 100%;\n    height: 100vh;\n"])));function go(t){var e=t.hideMenu,n=t.onSetup,o=t.onChange,r=t.onSave,i=t.className,c=Object(w.a)(t,vo),u=Object(a.useContext)(s.g),p=Object(a.useContext)(ct),d=Yn(),f=Object(x.a)(d,1)[0],b=null;Object(l.a)(u,s.a,(function(t){t===b&&(null===o||void 0===o||o(b))})),Object(l.a)(u,s.b,(function(t){t===b&&(null===r||void 0===r||r(b.toJSON(),b))}));var v=function(t){try{var e=JSON.parse(t);u.emit(s.f,e)}catch(n){u.emit(s.c,n)}};return Object(m.jsx)(je,{options:{noClick:!0},onFileContent:v,children:Object(m.jsxs)(jo,Object(O.a)(Object(O.a)({className:E()("node-editor d-flex flex-grow-1 flex-column","theme-"+f.id,f.parts.map((function(t){return"theme-part-".concat(t)})),i)},c),{},{children:[!e&&Object(m.jsx)(fo,{getEditor:function(){return b},onLoadFileContent:v}),Object(m.jsx)("div",{ref:function(t){if(b&&(b.silent=!0,b.clear(),b.components.clear(),b.destroy()),t){b=function(t){var e=new Vt("blocks-webapp@0.1.0",t);e.use(et.c,{component:gt}),e.use(T.a),e.use(tt.a),e.use(L.a,{background:function(){var t=document.createElement("div");return t.classList.add("grid"),t.style.pointerEvents="none",window.chrome||e.on("zoom",(function(e){var n=e.zoom;t.classList.toggle("far",n<=1),t.classList.toggle("d-none",n<=.5)})),e.on("destroy",(function(){return t.remove()})),t}(),snap:{size:16,dynamic:!0}}),e.use(Y),e.use(Jt),e.use(Zt),e.use(zt),e.use(Wt,{editorButton:2});var n=!1;return e.view.container.addEventListener("mousedown",(function(t){n=!1})),e.on("mousemove",(function(t){n=!0})),e.on("click",(function(t){t.e,n||(e.selected.clear(),e.nodes.forEach((function(t){return t.update()})))})),e.on("zoom",(function(t){return"dblclick"!==t.source})),e.on("nodeselect",(function(t){return!e.selected.contains(t)})),e.on("renderconnection",(function(t){var e=t.el,n=t.connection,o=function(t){var e,n,o;return null!==(e=null!==(n=null===(o=t.type)||void 0===o?void 0:o.data.category)&&void 0!==n?n:t.data.category)&&void 0!==e?e:"none"}((n.input.socket.data.reversed?n.input:n.output).socket);e.querySelector(".connection").classList.add("socket-output-category-".concat(o))})),e}(t),window.EDITOR=b;var e=function(t){var e=t.key;if(t.ctrlKey||t.metaKey)"s"===e&&(t.preventDefault(),u.emit(s.b,b),console.log("Saved successfully"));else if(!document.activeElement||!yo.includes(document.activeElement.nodeName.toLowerCase()))if("Delete"===e)b.selected.each((function(t){return b.removeNode(t)}));else{var n=bo.get(e);n&&b.createNodeAtCursor(b.getComponent(n.name)).catch((function(t){return u.emit("error",t)}))}};document.addEventListener("keydown",e),b.on("destroy",(function(){return document.removeEventListener("keydown",e)}));var o,a,r=Object(C.a)(st.a.values());try{for(r.s();!(o=r.n()).done;){var i=o.value,c=new At(i);b.register(c)}}catch(y){r.e(y)}finally{r.f()}b.on(["nodecreated","noderemoved","nodedragged","connectioncreated","connectionremoved"],Object(h.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.silent||(clearTimeout(a),a=setTimeout((function(){u.emit(s.a,b)})));case 1:case"end":return t.stop()}}),t)})))),b.on("error",(function(t){return u.emit(s.c,t)})),Object(h.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===n||void 0===n?void 0:n(m,b);case 2:case"end":return t.stop()}}),t)})))().catch((function(t){return u.emit(s.c,t)}));var l=function(t,e){d=null;var n,o=Object(C.a)(p);try{for(o.s();!(n=o.n()).done;){(0,n.value)(!1,t,e)}}catch(y){o.e(y)}finally{o.f()}},d=null,f=!1;b.on("mousemove",(function(t){f=!0})),b.on("connectionpick",(function(t){if(f=!1,d)l(d,t);else{var e=Object(k.a)(t.connections);setTimeout((function(){if(t.connections.length<e.length){var n=e.find((function(e){return!t.connections.includes(e)}));d=t===n.input?n.output:n.input}else d=t;var o,a=Object(C.a)(p);try{for(a.s();!(o=a.n()).done;){(0,o.value)(!0,d)}}catch(y){a.e(y)}finally{a.f()}}))}})),b.on("connectiondrop",(function(t){if(f){var e=Object(k.a)(t.connections);setTimeout((function(){t.connections.length!==e.length||t.connections.some((function(t,n){return t.input!==e[n].input||t.output!==e[n].output}))||l(t)}))}}))}function m(t){return v.apply(this,arguments)}function v(){return v=Object(h.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,b.fromJSON(e);case 4:return(n=t.sent)&&(b.view.resize(),L.a.zoomAt(b),u.emit(s.a,b),b.nodes.forEach((function(t){return t.update()}))),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}}})]}))})}var ho=n(88),Oo=n.n(ho),ko=n(196);var Co,xo,wo=n(89),Lo="blocks.editorState",To=n(186),So=Zn(),No=So?{}:localStorage;function Mo(){var t=function(){var t=Object(a.useState)({})[1];return function(){return t({})}}(),e=Object(wo.parse)(window.location.search.substring(1)).menu,n=Object(a.useContext)(s.g);Object(l.a)(n,s.d,(function(){Co=To,t()})),Object(l.a)(n,s.f,(function(e){Co=e,t()})),Object(l.a)(n,s.e,(function(t){var e=JSON.stringify(t);Oo.a.saveAs(new Blob([e]),"".concat(Object(ko.a)(t.name||"project"),".blocks"))})),Object(l.a)(window,"message",(function(e){var n,o=e.source,a=e.data;So&&o===window.parent&&("string"===typeof a&&a.startsWith("{")&&(console.log("Received message:",a),"load"===(null===(n=a=JSON.parse(a))||void 0===n?void 0:n.type)&&(Co=a.state?JSON.parse(JSON.stringify(a.state)):To,t())))}));var o=Object(a.useCallback)(function(){var t=Object(h.a)(g.a.mark((function t(e,n){var o,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Co?JSON.stringify(Co):No[Lo],Co=null,o?a=JSON.parse(o):So||(a=To),t.t0=a,!t.t0){t.next=8;break}return t.next=7,e(a);case 7:t.t0=!t.sent;case 8:if(!t.t0){t.next=10;break}console.warn("Load error");case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[]),r=Object(a.useCallback)((function(t){}),[]),i=Object(a.useCallback)((function(t,e){console.log(t);var n=JSON.stringify(t);if(No[Lo]=n,So){var o={type:"save",state:n};console.log("Sending message:",o);window.parent.postMessage(o,"*")}}),[]);return Object(m.jsx)(go,{hideMenu:"hidden"===e,onSetup:o,onChange:r,onSave:i})}function Io(){return Object(m.jsx)(Mo,{})}function Eo(){var t=Object(a.useContext)(s.g);return Object(l.a)(t,s.c,(function(t){Object(u.b)(t,{type:"error"})})),Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(u.a,{}),Object(m.jsx)(Io,{})]})})}So&&console.log("Using embedded mode."),c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(Eo,{})}),document.getElementById("root")),(xo=function(){})&&xo instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var e=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;e(xo),n(xo),o(xo),a(xo),r(xo)}))},function(t,e,n){"use strict";n.r(e);var o,a,r=n(2),i=n(6),c=n(7),u=n(17),s=(n(1),n(92)),l=n(18),p=n(44),d=n(27),f=n(3),m=l.a.div(o||(o=Object(u.a)(["\n  cursor: pointer;\n  color: black;\n  background: ",";\n"])),(function(t){return t.selected?"#fffa":"#fff8"})),b=Object(l.a)(s.a)(a||(a=Object(u.a)(["\n  font-weight: 500;\n  resize: horizontal;\n  background: #fff8;\n"])));var v={info:"A text comment",category:i.c,global:!0,component:function(t){t.block;var e=t.nodeHandle,n=e.props.node,o=e.state.selected,a=Object(d.a)(n.controls.get("text")),r=Object(c.a)(a,2),i=r[0],u=r[1],s=Object(d.a)(n.controls.get("widthPixels")),l=Object(c.a)(s,2),v=l[0],y=l[1];return Object(f.jsx)(m,{className:"pt-2 ps-2 pe-4 rounded-3",selected:o,children:Object(f.jsx)(b,{style:{width:v||200},rows:1,maxRows:100,ref:p.a,value:i||"",placeholder:"Comment",onChange:function(t){return u(t.target.value)},onMouseUp:function(t){return y(t.target.clientWidth)}})})},controls:[{key:"text",type:r.z},{key:"widthPixels",type:r.k}]};e.default=v},function(t,e,n){"use strict";n.r(e);var o,a,r=n(2),i=n(6),c=n(7),u=n(17),s=(n(1),n(18)),l=n(27),p=n(44),d=n(3),f=s.a.div(o||(o=Object(u.a)(["\n  cursor: pointer;\n    // background: ",";\n  border: 2px solid ",";\n"])),(function(t){return t.selected?"#fff8":"#fff3"}),(function(t){return t.selected?"#fffa":"#fff8"})),m=s.a.div(a||(a=Object(u.a)(["\n  pointer-events: none;\n  //cursor: default;\n  background: #fff1;\n  resize: both;\n  overflow: hidden;\n"])));var b=n(12),v={title:"Region",info:"A background region",category:i.c,icon:b.x,global:!0,component:function(t){t.block;var e=t.nodeHandle,n=e.props.node,o=e.state.selected,a=Object(l.a)(n.controls.get("widthPixels")),r=Object(c.a)(a,2),i=r[0],u=r[1],s=Object(l.a)(n.controls.get("heightPixels")),b=Object(c.a)(s,2),v=b[0],y=b[1];return Object(d.jsx)(f,{ref:function(t){t&&(t.parentElement.style.zIndex="-1")},className:"p-2 rounded-3",selected:o,children:Object(d.jsx)(m,{ref:p.a,style:{width:i||300,height:v||100},onMouseUp:function(t){return u(t.target.clientWidth)&y(t.target.clientHeight)}})})},controls:[{key:"text",type:r.z},{key:"widthPixels",type:r.k},{key:"heightPixels",type:r.k}]};e.default=v}],[[187,1,2]]]);
//# sourceMappingURL=main.9df68fe2.chunk.js.map