(this["webpackJsonpblocks-webapp"]=this["webpackJsonpblocks-webapp"]||[]).push([[0],[,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return h})),n.d(e,"F",(function(){return j})),n.d(e,"w",(function(){return g})),n.d(e,"I",(function(){return O})),n.d(e,"j",(function(){return x})),n.d(e,"C",(function(){return k})),n.d(e,"p",(function(){return w})),n.d(e,"k",(function(){return C})),n.d(e,"s",(function(){return T})),n.d(e,"i",(function(){return N})),n.d(e,"A",(function(){return I})),n.d(e,"g",(function(){return P})),n.d(e,"D",(function(){return _})),n.d(e,"l",(function(){return M})),n.d(e,"q",(function(){return S})),n.d(e,"v",(function(){return L})),n.d(e,"f",(function(){return A})),n.d(e,"B",(function(){return E})),n.d(e,"E",(function(){return R})),n.d(e,"H",(function(){return F})),n.d(e,"y",(function(){return H})),n.d(e,"m",(function(){return D})),n.d(e,"z",(function(){return z})),n.d(e,"x",(function(){return q})),n.d(e,"h",(function(){return B})),n.d(e,"d",(function(){return U})),n.d(e,"t",(function(){return V})),n.d(e,"r",(function(){return G})),n.d(e,"e",(function(){return W})),n.d(e,"G",(function(){return Z})),n.d(e,"u",(function(){return J})),n.d(e,"o",(function(){return et})),n.d(e,"n",(function(){return nt}));var r=n(4),a=n(5),o=n(17),i=n(8),c=n(10),s=n(28),u=n(79),l=n(14),p=/^[0-9a-z-]+$/;var d=["name","info"],f=["generics","meta"],m=["abstract","arbitraryGenericType"],b=function(){function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(i.a)(this,t),this.name=e,this.parent=n,this.generics=r.map((function(t){return et(t)})),this.data=a,this.meta=o}return Object(c.a)(t,[{key:"toJSON",value:function(){return{name:this.name,generics:this.generics.map((function(t){return t.toJSON()}))}}},{key:"of",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return et(this,e)}},{key:"withMeta",value:function(t){var e=t.name,n=t.info,r=Object(o.a)(t,d),a=Y(e||this.name,this,this.generics,{info:n});return Object.assign(a.meta,r),a}},{key:"isAbstract",value:function(){return this.data.abstract||this.generics.some((function(t){return t.isAbstract()}))}},{key:"getDefaultValue",value:function(){var t=this.data.defaultValue;return"function"===typeof t?t(this):t}},{key:"equals",value:function(t){return this.name===t.name&&this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.equals(t.generics[n])}))}},{key:"isSubtype",value:function(t){var e,n=this;return!!t&&(this.data.alwaysSubtype===t||(!!(null===(e=this.data.isSpecialSubtype)||void 0===e?void 0:e.call(this,t))||(!!(this.data.arbitraryGenericType&&t.parent&&this.name===t.parent.name&&t.generics.every((function(t){return n.data.arbitraryGenericType.isSubtype(t)})))||(this.name===t.name?this.generics.length===t.generics.length&&this.generics.every((function(e,n){return e.isSubtype(t.generics[n])})):!!t.parent&&this.isSubtype(t.parent)))))}},{key:"getSharedType",value:function(t){if(t)return this===t||this.isSubtype(t)?this:t.isSubtype(this)?t:this.parent?this.parent.getSharedType(t):void 0}},{key:"toTypeString",value:function(){var t,e;return null!==(t=null===(e=this.data.toTypeString)||void 0===e?void 0:e.call(this))&&void 0!==t?t:this.name+(this.generics.length?"<"+this.generics.map((function(t){return t.toTypeString()})).join(", ")+">":"")}},{key:"toString",value:function(){return"Type(".concat(this.toTypeString(),")")}}]),t}(),v=new Map;window.TYPE_MAP=v;var y=$("Any",{abstract:!0,category:"default",reversed:!1}),h=$("AnyReversed",{abstract:!0,category:"default",reversed:!0}),j=$("Type",{info:"A specific category of possible values",parent:y,category:"types",controlType:"type",defaultValue:function(t){return t.generics[0]},generics:[y],fromJSON:function(t){return et(t)}}),g=$("Node",{info:"A specific node in the editor",parent:y,category:"nodes",controlType:"node",toTypeString:function(){return this.meta.block?"Node{block=".concat(JSON.stringify(this.meta.block),"}"):"Node"}}),O=$("Value",{abstract:!0,parent:y,category:"values",toMotoko:function(){if(this===O)return"Any"}}),x=$("Custom",{info:"A custom user-defined value",arbitraryGenericType:O,parent:O,hidden:!0}),k=$("Reference",{info:"A programmatic path to a value, type, function, actor, class, object, or module",parent:y,category:"references",controlType:"text",validation:{custom:function(t){return!u.a.includes(t)}}}),w=$("Identifier",{info:"A name consisting of letters and underscores",parent:k,controlType:"text",validation:{pattern:/^[a-zA-Z_][a-zA-Z0-9_]*$/,custom:function(t){return!u.a.includes(t)}},defaultInput:function(t,e){return Object(s.a)(e,t.key)}}),C=$("Effect",{info:"A statement which runs after calling a function",parent:h,category:"effects",generics:[O],toMotoko:function(t){return Object(a.a)(t,1)[0]}}),T=$("Member",{info:"Something defined within a container (actor, object, class, or module)",parent:h,singleOutput:!0,category:"members"}),N=$("Container",{info:"An actor, object, class, or module",parent:T,singleOutput:!0,category:"containers"}),I=$("Parameter",{info:"An input to a function, class, or actor",parent:h,category:"parameters",generics:[O]}),P=$("Bool",{info:'A logical value representing "true" or "false"',parent:O,controlType:"checkbox",defaultValue:!1}),_=($("Char",{info:"A single character of text",parent:O,controlType:"text",validation:{minLength:1,maxLength:1}}),$("Text",{info:"A sequence of letters, numbers, emojis, and/or other characters",parent:O,controlType:"text",defaultValue:""})),M=$("Float",{info:"A decimal number (-0.1, 123, 1.0e5)",parent:O,controlType:"text",validation:{custom:function(t){return!isNaN(+t)}},defaultValue:0}),S=$("Int",{info:"A numeric integer (..., -2, -1, 0, 1, 2, ...)",parent:M,category:"integers",controlType:"number",validation:{step:1}}),L=$("Nat",{info:"A natural number (0, 1, 2, ...)",parent:M,category:"naturals",controlType:"number",validation:{step:1,min:0}}),A=$("Blob",{info:"Immutable binary data (similar to an HTML5 blob)",parent:O}),E=$("Principal",{info:"A wallet or smart contract address",parent:O,category:"principals",validation:{custom:function(t){return"string"===typeof(e=t)&&p.test(e);var e}}}),R=($("Error",{info:"An error value for custom exception handling",parent:O}),$("Tuple",{info:"A combination of multiple values in a specific order",abstract:!0,arbitraryGenericType:O,parent:O,category:"tuples",toTypeString:function(){return this===R?this.name:"(".concat(this.generics.map((function(t){return t.toTypeString()})).join(", "),")")},toMotoko:function(t){return"(".concat(t.join(", "),")")}})),F=$("Unit",R.withMeta({info:"An empty tuple '()' is the only possible value for the \"Unit\" type"}));if(R===F)throw new Error;var H=$("Object",{info:"An object which can include values, functions, types, or other members",abstract:!0,arbitraryGenericType:O,parent:O,category:"objects",toTypeString:function(){var t=this;return"{".concat(this.generics.map((function(e,n){return"".concat(t.genericNames[n],": ").concat(e.toTypeString())})).join(", "),"}")},toMotoko:function(t){var e=this;return"{".concat(t.map((function(t,n){return"".concat(e.genericNames[n],": ").concat(t)})).join(", "),"}")}}),D=$("Function",{info:"A callable sequence of events which optionally returns a value",parent:O,generics:[R,O],genericNames:["input","output"],category:"functions",toTypeString:function(){return"(".concat(this.generics[0].toTypeString()," -> ").concat(this.generics[1].toTypeString(),")")},toMotoko:function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(l.d)("".concat(n," -> ").concat(r))}}),z=$("Optional",{info:"A value which has the possibility of being null",parent:O,generics:[O],category:"optionals",toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"?".concat(e)}}),q=$("Null",{info:'An "Optional" value representing nothing',parent:O,alwaysSubtype:z}),B=$("Collection",{info:"A compound data structure such as an Array or Map",abstract:!0,parent:O,category:"collections"}),U=$("Array",{info:"An ordered sequence of values with a specific type",parent:B,generics:[O],genericNames:["item"],toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"[".concat(e,"]")}}),V=$("MutableArray",{parent:U,generics:[O],genericNames:["item"],toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"[var ".concat(e,"]")}}),G=$("Map",{info:"A dictionary-style object for mapping keys to values",parent:B,generics:[O,O],genericNames:["key","value"],toMotoko:function(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];return"HashMap.HashMap<".concat(n,", ").concat(r,">")}}),W=$("Async",{info:"An asynchronous value or process",parent:O,generics:[O],category:"futures",toMotoko:function(t){var e=Object(a.a)(t,1)[0];return"async ".concat(e)}}),Z=$("Union",{info:"Any of the specified types",abstract:!0,parent:O,arbitraryGenericType:O,controlType:"type",isSpecialSubtype:function(t){return this.generics.some((function(e){return e.isSubtype(t)}))},toMotoko:function(t){return Object(l.d)(t.join(" or "))}}),J=($("Intersection",{info:"All of the specified types",abstract:!0,parent:O,arbitraryGenericType:O,controlType:"type",isSpecialSubtype:function(t){return this.generics.every((function(e){return e.isSubtype(t)}))},toMotoko:function(t){return Object(l.d)(t.join(" and "))}}),$("None",{info:"A type with no possible value",parent:O}),Q(S,X,8,"An 8-bit integer"),Q(S,X,16,"A 16-bit integer"),Q(S,X,32,"A 32-bit integer"),Q(S,X,64,"A 64-bit integer"),Q(L,K,8,"An 8-bit natural number"),Q(L,K,16,"A 16-bit natural number"),Q(L,K,32,"A 32-bit natural number"));Q(L,K,64,"A 64-bit natural number");function K(t){return Object(r.a)(Object(r.a)({},L.data.validation),{},{max:Math.pow(2,t)-1})}function X(t){var e=Math.pow(2,t-1);return Object(r.a)(Object(r.a)({},S.data.validation),{},{min:-e,max:e-1})}function Q(t,e,n,r){return $("".concat(t.name).concat(n),{parent:t,validation:e(n),info:r})}function $(t,e){var n;if(e instanceof b)(n=e).name=t;else{var r=e.parent,a=e.generics,i=void 0===a?[]:a,c=e.meta,s=void 0===c?{}:c;(n=Y(t,r,i,Object(o.a)(e,f),s)).data.baseType=n}return v.set(t,n),n}function Y(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=e?e.data:{},s=(c.abstract,c.arbitraryGenericType,Object(o.a)(c,m)),u=e?e.meta:{};return new b(t,e||null,n||(e?e.generics:[]),Object(r.a)(Object(r.a)({},s),a),Object(r.a)(Object(r.a)({},u),i))}function tt(t,e){if("string"===typeof t){var n=t;if(!(t=v.get(n)))throw new Error("Unknown type with name: ".concat(n))}if(t.name===R.name&&t!==R&&!e.length)return F;if(t===W&&e.length&&W.isSubtype(e[0]))return e[0];if((!e||!e.length||e===t.generics)&&!t.data.arbitraryGenericType)return et(t);var r=Y(t.name,t,e);if(!t.isSubtype(r))throw new Error("Generics not assignable to ".concat(t.toTypeString()," from ").concat(r.toTypeString()));return r}function et(t,e){if(!t)throw new Error("Invalid type: ".concat(t));if(arguments.length>1)return tt(t,e);if(t instanceof b)return t;if("object"===typeof t){if(t.generics)return tt(t.name,t.generics.map((function(t){return et(t)})));if(v.has(t.name))return v.get(t.name);throw new Error("Unknown type: ".concat(t.name))}if(console.warn("Creating type from value:",t),v.has(t))return v.get(t);throw new Error("Unknown type: ".concat(t&&"object"===typeof t?"object with keys: ".concat(Object.keys(t)):t))}function nt(){for(var t=arguments.length<=0?void 0:arguments[0],e=1;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];t?n&&(t=t.getSharedType(n)):t=n}return t}},,,,function(t,e,n){"use strict";n.d(e,"j",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"i",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"p",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return h})),n.d(e,"h",(function(){return j})),n.d(e,"n",(function(){return g})),n.d(e,"l",(function(){return O})),n.d(e,"a",(function(){return x})),n.d(e,"g",(function(){return k})),n.d(e,"k",(function(){return w})),n.d(e,"e",(function(){return C})),n.d(e,"c",(function(){return T}));var r=n(4),a=n(17),o=n(8),i=n(19),c=["name","parent"],s=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.name=e,this.parent=n,this.root=n?n.root:this,this.data=r},u=new Map;function l(t){var e=t.name,n=t.parent,o=Object(a.a)(t,c),i=new s(e,n,n?Object(r.a)(Object(r.a)({},n.data),o):o);return u.set(i.name,i),i}function p(t){if(t instanceof s)return t;if(!u.has(t))throw new Error("Could not find category with name: ".concat(t));return u.get(t)}var d=l({name:"Misc."}),f=l({name:"States",color:"#3fd",icon:i.k,priority:10}),m=l({name:"Functions",color:"#fd3",icon:i.j,priority:20}),b=l({name:"Parameters",color:"#a8f",icon:i.v,priority:3}),v=l({name:"Types",color:"#2af",icon:i.L}),y=l({name:"Collections",color:"#1c5",icon:i.M}),h=l({name:"Compilers",color:"#f5a",icon:i.f}),j=l({name:"Expressions",color:"#aaa",icon:i.l}),g=l({name:"References",color:"#aaa",icon:i.c}),O=l({name:"Operators",icon:i.n}),x=l({name:"Actors",color:"#fa8",icon:i.o}),k=l({name:"Effects",icon:i.K,priority:5}),w=l({name:"Literals",icon:i.C,priority:6}),C=l({name:"Decompositions",icon:i.x}),T=l({name:"Comments",icon:i.g,priority:-1})},,,,,,,function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&(t=t.map(r).filter((function(t){return t})).join(" ")),""===t||null===t||void 0===t?"":t}function a(t){if((t=r(t)).startsWith("(")&&t.endsWith(")")){var e=t.substring(1,t.length-1);e.includes("(")||e.includes(")")||(t=e)}return"(".concat(t,")")}function o(t){return(t=r(t)).includes(" ")&&(t=a(t)),t}function i(t){return t=r(t),"{\n".concat(t,"\n}")}function c(t){return t=r(t),"".concat(i(t),";")}function s(t){return t?"".concat(t.join("\n\n")):""}function u(t,e){return(t=r(t))?(t.endsWith(";")||(t="".concat(t,";")),e?"".concat(t,"\n").concat(e):t):e}n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return u}))},function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return c})),n.d(e,"j",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return m})),n.d(e,"d",(function(){return b}));var r=[],a=v("learning Motoko"),o=v("building an API"),i=v("storing data"),c=v("transaction logic"),s=v("writing reusable logic"),u=v("project organization"),l=v("assigning unique IDs"),p=v("documentation"),d=v("configuration"),f=v("debugging"),m=v("error handling"),b=v("custom logic");function v(t){return r.push(t),t}},,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return p}));var r=n(1),a=n.n(r),o=n(86),i="editor-change",c="editor-save",s="project-export",u="project-load",l="project-clear",p="error",d=new(n.n(o).a);d.setMaxListeners(1e3),d.on(p,console.error),window.EVENTS=d,e.g=a.a.createContext(d)},,,function(t,e,n){"use strict";function r(t,e){var n,r,a={};return t.forEach((function(t){a[t]=function(a){if(!n||n===t)return n=t,void 0===r&&(r=setTimeout((function(){clearTimeout(r),r=void 0,n=void 0}))),e(a)}})),a}function a(t){return{onClick:t}}function o(t){return a((function(e){if(void 0===e.button||0===e.button)return t(e)}))}function i(t){return r(["onMouseUp","onTouchEnd"],t)}function c(t){return function(t){return r(["onMouseDown","onTouchStart"],t)}((function(e){if(void 0===e.button||0===e.button)return t(e)}))}n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return c}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(4),a=n(16),o=n(3),i=n(7),c=n(14),s=o.k.of(o.H);function u(t,e,n){var u={key:"before",type:o.k,inferType:function(t,e,r){var i=r.getBlock(e);return o.n.apply(void 0,Object(a.a)(n?[o.k.of(n(t,e,r))]:[]).concat(Object(a.a)(i.inputs.filter((function(t){return o.k.isSubtype(t.type)})).map((function(t){return r.getInput(e,t.key)})))))||s},toMotoko:function(t,n,r){var a=e(t,n,r);if(void 0!==a){var o=t.after;return Object(c.e)(a,o)}}};return Object(r.a)(Object(r.a)({category:i.g,topLeft:"before",topRight:"after"},t),{},{inputs:[].concat(Object(a.a)(t.inputs||[]),[{key:"after",type:o.k,optional:!0}]),outputs:[].concat(Object(a.a)(t.outputs||[]),[u])})}function l(t,e){return Object(r.a)(Object(r.a)({category:i.g,topLeft:"statement"},t),{},{outputs:[].concat(Object(a.a)(t.outputs||[]),[Object(r.a)({key:"statement",type:o.k},e)])})}},function(t,e,n){"use strict";function r(t,e){var n,r=(null===(n=t.component)||void 0===n?void 0:n.name)||"node",a="number"===typeof t||"string"===typeof t?String(t):t.id;return"".concat(r,"__").concat(a).concat(e?"_"+e:"")}n.d(e,"a",(function(){return r}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1);function a(t,e,n,a){return Object(r.useEffect)((function(){if(t){var r="addEventListener"in t;return r?t.addEventListener(e,n,a):t.on(e,n,a),function(){r?t.removeEventListener(e,n):t.off(e,n)}}}),[t,e,n,a]),n}},function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return p}));var r=n(5),a=n(3),o=n(7),i=n(14);function c(t,e,n){return t=Object(a.o)(t),{topRight:"result",title:"(".concat(e," a)"),category:o.l,inputs:[{key:"input",title:"a",type:t}],outputs:[{key:"result",type:t,toMotoko:function(t){var n=t.input;return"".concat(e,"(").concat(n,")")}}]}}function s(t,e,n){var c=Array.isArray(t)?t:[t,t],s=Object(r.a)(c,2),u=s[0],l=s[1];return u=Object(a.o)(u),l=Object(a.o)(l),{title:"(a ".concat(e," b)"),info:"Perform the '".concat(e,"' operation between two ").concat(t.name," values"),category:o.l,topRight:"result",inputs:[{key:"left",title:"a",type:u},{key:"right",title:"b",type:u}],outputs:[{key:"result",type:l,toMotoko:function(t){var n=t.left,r=t.right;return Object(i.d)("".concat(n," ").concat(e," ").concat(r))}}]}}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.apply(void 0,[a.g].concat(e))}function l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.apply(void 0,[a.l].concat(e))}function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.apply(void 0,[[a.l,a.g]].concat(e))}},,function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return v}));var r=n(8),a=n(10),o=n(21),i=n(22),c=n(5),s=n(61),u=n(3),l=n(28),p=n(14);function d(t){return'$import$"'.concat(t,'"')}function f(t){return t.includes(" ")?t.substring(0,t.indexOf(" ")):t.includes("/")?t.substring(t.lastIndexOf("/")+1):t.includes(":")?t.substring(t.lastIndexOf(":")+1):t}function m(t,e){if(t)return e=e||f(t),t.includes(" ")&&(t=t.substring(t.indexOf(" ")+1)),"import ".concat(e,' "').concat(t,'";')}function b(t,e){if(!t)return[[],""];t=String(t);var n={};t=t.replace(/\$import\$"([^"]*)"/g,(function(t,e){var r=f(e);if(n.hasOwnProperty(r)&&n[r]!==e)throw new Error('Conflicting import paths: "'.concat(e,'" != "').concat(n[r],'"'));return n[r]=e,r}));var r=Object.entries(n).sort((function(t,e){var n=Object(c.a)(t,1)[0],r=Object(c.a)(e,1)[0];return n.localeCompare(r)})).map((function(t){var e=Object(c.a)(t,2),n=e[0];return m(e[1],n)})).filter((function(t){return!(null===e||void 0===e?void 0:e.includes(t))}));return e&&r.push(e),[r,t]}var v=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,t,"toMotoko")}return Object(a.a)(n,[{key:"defaultCompile",value:function(t,e){if(u.p.isSubtype(t.type))return Object(l.a)(e,t.key);if(u.F.isSubtype(t.type)){var n=t.type.generics[0];if(n&&!n.isAbstract())return this.getTypeString(n)}}},{key:"postCompile",value:function(t,e,n){return"string"===typeof t||"number"===typeof t||"boolean"===typeof t||null===t||void 0===t?t:Array.isArray(t)?t=Object(p.g)(t,e,n):t.name&&t.generics?this.getTypeString(Object(u.o)(t)):(console.warn("Unexpected Motoko expression:",t),String(t))}}]),n}(s.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"stateReadIcon",(function(){return l})),n.d(e,"stateWriteIcon",(function(){return p}));var r=n(3),a=n(42),o=n(7),i=n(19),c=n(15),s=n(14),u=n(45),l=i.b,p=i.a,d=Object(a.b)({info:"A persistent smart contract variable",useCases:[c.b,c.k],topRight:"setup",category:o.o,global:!0,memberPriority:u.c,computeTitle:function(t,e){var n=Object(a.a)(t,e),o=e.compilers.type.getInput(t,"initialValue")||r.H;return n&&"".concat(n," : ").concat(e.compilers.motoko.getTypeString(o))},shortcuts:[{block:"StateRead",nodeKey:"stateNode"},{block:"StateUpdate",nodeKey:"stateNode"}],inputs:[{key:"name",type:r.p},{key:"initialValue",type:r.I,optional:!0,request:!0},{key:"setup",type:r.k.of(r.H),optional:!0}],outputs:[{key:"value",type:r.I,toMotoko:function(t){return t.name},inferType:function(t){return t.initialValue}}],controls:[{key:"stable",info:"Preserve the state over canister upgrades: see the Motoko docs to learn more",type:r.g,advanced:!0},{key:"readonly",info:"Readonly states cannot be reassigned, but value mutations are still possible",type:r.g,advanced:!0}]},{toMotoko:function(t,e,n){var r=t.stable,a=t.readonly,o=t.name,i=t.initialValue,c=t.setup,u=[!!r&&"stable"].filter((function(t){return t})).join(" "),l=n.editor.compilers.type.getInput(e,"initialValue");i=i||"()";var p="".concat(u&&u+" ").concat(a?"let":"var"," ").concat(o).concat(l?" : ".concat(n.getTypeString(l)):""," = ").concat(i,";");return c&&(p=Object(s.e)(p,c)),p}});e.default=d},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(8),a=n(10),o=function(){function t(e){Object(r.a)(this,t),this._value=e,this._listeners=[]}return Object(a.a)(t,[{key:"get",value:function(){return this._value}},{key:"set",value:function(t){var e=this;if(this._value!==t){var n=this._value;this._value=t,this._listeners.forEach((function(t){return t(e._value,n)}))}}},{key:"callAndSubscribe",value:function(t){t(this._value),this.subscribe(t)}},{key:"subscribe",value:function(t){var e=this;return this._listeners.push(t),function(){return e.unsubscribe(t)}}},{key:"unsubscribe",value:function(t){this._listeners=this._listeners.filter((function(e){return e!==t}))}}]),t}();function i(t){return new o(t)}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return d}));var r=n(5),a=(n(1),n(41)),o=n(69),i=n(2);function c(t){var e=t.control,n=t.height,c=t.options,s=t.bindInput,u=Object(a.a)(e),l=Object(r.a)(u,2),p=l[0],d=l[1];return Object(i.jsx)("div",{ref:s,style:{height:n||150},children:Object(i.jsx)(o.a,{value:p,options:c,onChange:d})})}var s=n(3),u=/{([0-9]+)}/g;function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{key:"expression",config:{controlType:c,controlProps:t}}}function p(t){return{key:"inputs",info:"Reference inputs as {0}, {1}, {2}, ...",type:t||s.c,multi:!0}}function d(t,e){return(e||"").replace(u,(function(e,n){return(n=+n)>=0&&n<t.length?t[n]:e}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,a=n(57);function o(){return void 0===r&&(r=setTimeout((function(){r=void 0,a.a.rebuild()}))),a.a}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(5),a=n(1),o=n(31),i=n(23);function c(t){var e=t.getValue(),n=Object(a.useState)(e),c=Object(r.a)(n,2)[1],s=Object(a.useContext)(i.g);Object(o.a)(s,i.a,(function(){c(t.getValue())})),Object(o.a)(t.events,"update",(function(){s.emit(i.a,t.editor,t)}));var u=Object(a.useCallback)((function(e){return t.setValue(e)}),[t]);return[e,u]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l}));var r=n(16),a=n(4),o=n(3),i=n(96),c=n(28);function s(t,e){var n=e.compilers.motoko.getInput(t,"name");if(n&&n!==Object(c.a)(t,"name"))return n}function u(){return Object(i.b)({key:"visibility",info:"Whether this function is callable from outside of its actor, class, object, or module",advanced:!0},["public","private","system"])}function l(t,e){return Object(a.a)(Object(a.a)({topLeft:"member"},t),{},{outputs:[Object(a.a)({key:"member",type:o.s},e)].concat(Object(r.a)(t.outputs||[]))})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p}));var r=n(5),a=n(55),o=n(47),i=n(37),c=n(1),s=Object(a.a)()?{}:window.localStorage,u=new Map;function l(t,e){if(u.has(t))return u.get(t);var n;try{var r=s[t];n=Object(i.a)(r?JSON.parse(r):e)}catch(a){console.error(a),n=Object(i.a)(e)}return u.set(t,n),n.subscribe((function(e){void 0!==e?s[t]=JSON.stringify(e):delete s[t]})),n}function p(t,e){var n=u.get(t)||l(t,e),a=Object(o.a)(n),i=Object(r.a)(a,2),s=i[0],p=i[1],d=Object(c.useCallback)((function(t){try{var e=t instanceof Function?t(s):t;p(e)}catch(n){console.error(n)}}),[s,p]);return[s,d]}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return g}));var r=n(24),a=n(5),o=n(4),i=n(102),c=n(3),s=n(7),u=n(96);if("undefined"===typeof n(100).context){var l=n(154),p=n(102);n(100).context=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/\.js$/,o={},i=function t(e){l.readdirSync(e).forEach((function(n){var i=p.resolve(e,n);l.statSync(i).isDirectory()?r&&t(i):a.test(i)&&(o[i]=!0)}))},c=function(t){return n(100)(t)};return c.keys=function(){return Object.keys(o)},i(p.resolve(t,e)),c}}var d=[],f=new Set,m=n(155);function b(t,e,n){if(e){var a,o=Object(r.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(!i.key||t.props[i.key]!==i){if(t.props.hasOwnProperty(i.key))throw new Error("Duplicate prop in ".concat(t.name,": ").concat(i.key));i[n]=i[n]||!0,t.props[i.key]=i}}}catch(c){o.e(c)}finally{o.f()}}}m.keys().forEach((function(t){var e=Object(i.basename)(t,".js"),n=m(t).default;if(n=Object(o.a)({},n)){if(n.name=e,f.has(e))return void console.error("Duplicate block name: ".concat(e));n.info||console.warn("Missing info for block:",n.name),n.category=n.category?Object(s.j)(n.category):s.f,n.props=n.props||{};for(var r=0,l=Object.entries(n.props);r<l.length;r++){var p=Object(a.a)(l[r],2),v=p[0],y=p[1];if(y.key&&y.key!==v)throw new Error("Prop key mismatch: ".concat(v," != ").concat(y.key));y.key=v}b(n,n.outputs,"output"),b(n,n.inputs,"input"),b(n,n.controls,"control"),!("editor:advanced"in n.props)&&Object.values(n.props).find((function(t){return t.advanced}))&&function(t,e,n){if(e.key&&t.props[e.key]===e)return;if(t.props.hasOwnProperty(e.key))throw new Error("Duplicate prop in ".concat(t.name,": ").concat(e.key));e[n]=e[n]||!0,t.props[e.key]=e}(n,Object(u.a)(),"control"),n.inputs=[],n.outputs=[],n.controls=[];for(var h=0,j=Object.entries(n.props);h<j.length;h++){var g=Object(a.a)(j[h],2),O=g[0],x=g[1];x.key=O,x.output?n.outputs.includes(x)||n.outputs.push(x):x.input?n.inputs.includes(x)||n.inputs.push(x):x.control&&(n.controls.includes(x)||n.controls.push(x))}for(var k=0,w=Object.values(n.props);k<w.length;k++){var C=w[k];if(!C.type&&(C.input||C.output)&&C.control)throw new Error("Type not found for ".concat(n.name,".").concat(C.key));if(C.type)try{C.type=Object(c.o)(C.type)}catch(T){throw console.error("Error while getting type for ".concat(n.name,".").concat(C.key)),T}}f.add(n.name),d.push(n)}}));var v=new Map(d.map((function(t){return[t.name,t]})));window.BLOCK_MAP=v;var y,h=Object(r.a)(v.values());try{var j=function(){var t=y.value;t.shortcuts?t.shortcuts.forEach((function(e){if(!e.block)throw new Error("Shortcut in ".concat(t.name," requires a `block` attribute"));e.block=g(e.block)})):t.shortcuts=[]};for(h.s();!(y=h.n()).done;)j()}catch(O){h.e(O)}finally{h.f()}function g(t){if(!t)throw new Error("Block cannot be ".concat(t));if("string"===typeof t){if(!v.has(t))throw new Error("Block does not exist: ".concat(t));return v.get(t)}return t}}).call(this,"/")},function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return y}));var r=n(16),a=n(5),o=n(34),i=n(90),c=n(14),s=n(82),u=n(103),l=n(44),p=n(3),d=1,f=2,m=3,b=4;function v(t){return"main__install"}function y(t){var e=Object(s.a)(t.details.name)||"Main",n=t.nodes.filter((function(t){var e,n,r=t.inputs.get("member");if(!r||r.connections.length)return!1;var a=null===(e=(n=r.socket).findType)||void 0===e?void 0:e.call(n);return a&&p.s.isSubtype(a)})).map((function(t){return[t,Object(l.b)(t.name)]})).sort((function(t,e){var n=Object(a.a)(t,2),r=n[0],o=n[1],i=Object(a.a)(e,2),c=i[0],s=i[1];return(o.memberPriority||0)-(s.memberPriority||0)||r.position[0]-c.position[0]||r.position[1]-c.position[1]||0})).map((function(t){return Object(a.a)(t,1)[0]})),d=t.nodes.filter((function(t){return"CodeImport"===t.name})),f=t.nodes.filter((function(t){return"ReferenceImport"===t.name})),m=t.nodes.filter((function(t){return"MainInstaller"===t.name})),b=t.nodes.filter((function(t){return"MainParameter"===t.name})),v=(m.length&&"shared".concat(Object(c.d)("main__install"))||b.length)&&"".concat(Object(c.d)(b.map((function(e){return Object(u.compileGlobalParameter)(e,t)})).join(", "))),y=[].concat(Object(r.a)(d.map((function(e){var n;return(null===(n=t.compilers.motoko.getOutput(e,"result"))||void 0===n?void 0:n.trim())||""}))),Object(r.a)(f.map((function(t){return Object(o.d)(t.data.path)})))).filter((function(t){return t})).join("\n"),h="actor ".concat(v?"class ".concat(e).concat(v):e).concat(""),j=Object(o.e)("".concat(h," {").concat(n.map((function(e){var n=t.compilers.motoko.getOutput(e,"member");return n?"\n  ".concat(n):""})).join("\n"),"\n}"),y),g=Object(a.a)(j,2),O=g[0],x=g[1];return Object(i.a)("".concat(O.length?O.join("\n")+"\n\n":"").concat(x))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(5),a=n(1);function o(t){var e=Object(a.useState)(t.get()),n=Object(r.a)(e,2),o=n[0],i=n[1];Object(a.useEffect)((function(){return t.subscribe(i)}),[t]);var c=Object(a.useCallback)((function(e){return t.set(e)}),[t]);return[o,c]}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(16),a=n(4),o=n(7);function i(t,e,n){return Object(a.a)(Object(a.a)({info:e.data.info,category:o.k,topRight:"value"},t),{},{outputs:[].concat(Object(r.a)(t.outputs||[]),[{key:"value",type:e,control:!0,toMotoko:function(t){var e=t.value;if(void 0!==e)return String(n?n(e):e)}}])})}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(60),a=!0;try{a=window.self!==window.top||Object(r.a)("embed")}catch(i){}function o(){return a}},function(t,e,n){"use strict";n.r(e),n.d(e,"arrayImportRef",(function(){return c}));var r=n(3),a=n(34),o=n(7),i=n(15),c=Object(a.c)("mo:base/Array"),s={title:"Create Array",info:"Create a new array with the specified items",useCases:[i.k],category:o.b,icon:o.b.data.icon,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value"),r=e.compilers.motoko.getOutput(t,"mutable");return n&&"new Array [ ".concat(r?"var ":"").concat(e.compilers.motoko.getTypeString(n.generics[0])," ]")},inputs:[{key:"itemType",type:r.F.of(r.I)},{key:"items",type:r.I,multi:!0}],outputs:[{key:"value",type:r.d,inferType:function(t,e,n){var a=t.itemType;return(n.editor.compilers.motoko.getInput(e,"mutable")?r.t:r.d).of(a)},toMotoko:function(t){var e=t.mutable,n=t.items;return"[".concat(e?n.length?"var ":"var":"").concat(n.join(", "),"]")}}],controls:[{key:"mutable",info:"Mutable arrays can dynamically replace elements after initialization",type:r.g}]};e.default=s},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(101),a=Object(r.parse)(window.location.search.substring(1));function o(t,e){return t in a?a[t]:e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(10),a=n(8),o=n(21),i=n(22),c=n(75),s=n(44),u=n(33),l=n(3),p=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t,r){return Object(a.a)(this,n),e.call(this,"".concat(t.name,".").concat(r))}return n}(Object(c.a)(Error)),d=function(){function t(e,n){Object(a.a)(this,t),this.editor=e,this.compileKey=n,this._caching=!1,this._inputCache=new Map,this._outputCache=new Map}return Object(r.a)(t,[{key:"defaultCompile",value:function(t,e){}},{key:"postCompile",value:function(t,e,n){return t}},{key:"getNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof u.d.Node)return t;if(!t)throw new Error("Node cannot be ".concat(JSON.stringify(t)));var n=String("string"===typeof t||"number"===typeof t?t:t.id);if(!(t=this.editor.nodes.find((function(t){return String(t.id)===n})))&&!e)throw new Error("Node does not exist: ".concat(n));return t}},{key:"getBlock",value:function(t){return t=this.getNode(t),Object(s.b)(t.name)}},{key:"getInput",value:function(t,e){if(t=this.getNode(t,!0))return this._getInput(t,e)}},{key:"_getInput",value:function(t,e){var n=this.getBlock(t);if(!n.props.hasOwnProperty(e))throw new Error("Prop not found on ".concat(t.name,": ").concat(e));var r,a,o,i=n.props[e],c=this._resolveInput(t,i);void 0!==c||i.optional||(c=null===(r=i.type)||void 0===r||null===(a=(o=r.data).defaultInput)||void 0===a?void 0:a.call(o,i,t));return c}},{key:"_resolveInput",value:function(t,e){var n=this;if(e.input)if(e.type.data.reversed){var r=this._output(t,e.key);if(e.multi)return r.connections.map((function(t){return n._compileConnection(t,t.output,t.input,"inputs")}));if(r.connections.length){var a=r.connections[0];return this._compileConnection(a,a.output,a.input,"inputs")}}else{var o=this._input(t,e.key);if(e.multi)return o.connections.map((function(t){return n._compileConnection(t,t.input,t.output,"outputs")}));if(o.connections.length){var i=o.connections[0];return this._compileConnection(i,i.input,i.output,"outputs")}if(o.control)return this._compileControl(o.control,e)}if(e.control){var c=this._control(t,e.key);return this._compileControl(c,e)}}},{key:"getOutput",value:function(t,e){if(t=this.getNode(t,!0)){var n=this._cacheKey(t,e);if(this._caching&&this._outputCache.has(n))return this._outputCache.get(n);this._outputCache.set(n,void 0);var r=this._getOutput(t,e);return this._outputCache.set(n,r),r}}},{key:"_getOutput",value:function(t,e){var n=this._prop(t,e);try{var r,a=this.getInputArgs(t);if(!a)return;var o=null===(r=n[this.compileKey])||void 0===r?void 0:r.call(n,a,t,this);return void 0===o&&(o=this.defaultCompile(n,t)),this.postCompile(o,t,e)}catch(i){if(i instanceof p)return;console.error("[".concat(t.name,".").concat(e,"]"),i),this.editor.trigger("warn","[".concat(t.name,".").concat(e,"] ").concat(i))}}},{key:"getInputArgs",value:function(t){var e=this;t=this.getNode(t,!0);var n={};if(!t)return n;for(var r=this.getBlock(t),a=function(){var a=i[o];if(a.input||a.control){var c=!1;Object.defineProperty(n,a.key,{get:function(){if(!c){var n=e.getInput(t,a.key);if(void 0===n&&!a.optional)throw new p(r,a.key);return c=!0,n}}})}},o=0,i=Object.values(r.props);o<i.length;o++)a();return n}},{key:"clearCache",value:function(){this._inputCache.clear(),this._outputCache.clear()}},{key:"getTypeString",value:function(t){var e,n,r=this,a=(t=Object(l.o)(t)).generics.map((function(t){return r.getTypeString(t)}));return(null===(e=t)||void 0===e||null===(n=e.data[this.compileKey])||void 0===n?void 0:n.call(t,a,this))||(a.length?"".concat(t.name,"<").concat(a.join(", "),">"):t.name)}},{key:"inferType",value:function(t,e){return this.editor.compilers.type.getInput(t,e)}},{key:"_compileConnection",value:function(t,e,n){return this.getOutput(n.node,n.key)}},{key:"_compileControl",value:function(t,e){var n=t.getNode(),r=t.getValue();return void 0===r&&(r=this.defaultCompile(e,n)),this.postCompile(r,n,e.key)}},{key:"_prop",value:function(t,e){var n=this.getBlock(t);if(!n.props.hasOwnProperty(e))throw new Error("Prop does not exist in ".concat(t.name,": ").concat(e));return n.props[e]}},{key:"_input",value:function(t,e){if(!t.inputs.has(e))throw new Error("Input not found on ".concat(t.name,": ").concat(e));return t.inputs.get(e)}},{key:"_output",value:function(t,e){if(!t.outputs.has(e))throw new Error("Output not found on ".concat(t.name,": ").concat(e));return t.outputs.get(e)}},{key:"_control",value:function(t,e){if(!t.controls.has(e))throw new Error("Control not found on ".concat(t.name,": ").concat(e));return t.controls.get(e)}},{key:"_cacheKey",value:function(t,e){return"".concat(t.id,".").concat(e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=n(5),a=n(43),o=n(95),i=n(70),c=n(1),s=n(47),u=Object(a.b)("blocks.theme",Object(i.a)("theme"));function l(){var t=Object(o.a)(),e=Object(s.a)(u),n=Object(r.a)(e,2),a=n[0],i=n[1];return[t.find((function(t){return t.id===a}))||t[0],Object(c.useCallback)((function(t){return i(t)}),[i])]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(20);function a(t,e,n,a){return e.nodes.flatMap((function(o){if(o.name===n){var i=e.compilers.motoko.getInput(o,"name");if(i&&i.toLowerCase().startsWith(t.toLowerCase()))return[{title:i,data:Object(r.a)({},a,o.id)}]}return[]}))}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(4),a=n(5),o=n(17),i=n(125),c=n(79),s=n(62),u=n(2),l=["value","onChange","readOnly","options"];function p(t){var e=t.value,n=t.onChange,p=t.readOnly,d=t.options,f=Object(o.a)(t,l),m=Object(s.b)(),b=Object(a.a)(m,1)[0];return Object(u.jsx)(i.a,Object(r.a)({theme:b.monaco||"vs-dark",defaultLanguage:"motoko",beforeMount:c.b,value:e,onChange:function(t){null===n||void 0===n||n(t)},options:Object(r.a)({tabSize:2,minimap:{enabled:!1},wordWrap:"off",scrollBeyondLastLine:!1,fontSize:16,readOnly:p},d)},f))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(55),a=n(60);function o(t,e){return Object(r.a)()?Object(a.a)(t,e):e}},,function(t,e,n){"use strict";n.r(e),n.d(e,"optionImportRef",(function(){return s}));var r=n(3),a=n(7),o=n(15),i=n(34),c=n(14),s=Object(i.c)("mo:base/Option"),u={title:"Optional or Default",info:"Unwrap an optional value, falling back to a default if null",useCases:[o.g],category:a.e,topRight:"value",inputs:[{key:"input",type:r.z},{key:"defaultValue",title:"Default",type:r.I}],outputs:[{key:"value",type:r.I,inferType:function(t){var e=t.input;if(r.z.isSubtype(e))return e.generics[0]},toMotoko:function(t){var e=t.input,n=t.defaultValue;return"".concat(s,".get").concat(Object(c.d)("".concat(e,", ").concat(n)))}}]};e.default=u},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(116),a=["actor","and","async","assert","await","break","case","catch","class","continue","debug","else","false","for","func","if","in","import","module","not","null","object","or","label","let","loop","private","public","return","shared","try","throw","debug_show","query","switch","true","type","var","while","stable","flexible","system"],o=function(t){t.editor.defineTheme("night-owl",r),t.languages.register({id:"motoko"}),t.languages.setLanguageConfiguration("motoko",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"<",close:">"}]}),t.languages.setMonarchTokensProvider("motoko",{defaultToken:"",tokenPostfix:".mo",keywords:a,accessmodifiers:["public","private","shared"],typeKeywords:["Any","None","Null","Bool","Int","Int8","Int16","Int32","Int64","Nat","Nat8","Nat16","Nat32","Nat64","Word8","Word16","Word32","Word64","Float","Char","Text","Blob","Error","Principal"],operators:["=","<",">",":","<:","?","+","-","*","/","%","**","&","|","^","<<",">>","#","==","!=",">=","<=",":=","+=","-=","*=","/=","%=","**=","&=","|=","^=","<<=",">>=","#=","->"],symbols:/[=(){}[\].,:;@#_&\-<>`?!+*\\/]/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_$][\w$]*/,{cases:{"@typeKeywords":"keyword.type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(5),a=(n(1),n(41)),o=n(13),i=n.n(o),c=n(2);function s(t){var e=t.control,n=t.bindInput,o=t.validation,s=o.minLength,u=o.maxLength,l=Object(a.a)(e),p=Object(r.a)(l,2),d=p[0],f=p[1],m=!e.validate(d);return Object(c.jsx)("input",{type:"text",className:i()("w-100",m&&"invalid"),autoComplete:"blocks-app",autoCorrect:"off",ref:n,value:d||"",placeholder:e.name,minLength:s,maxLength:u,onChange:function(t){return f(t.target.value||void 0)}})}},,,,,,,,,,function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t";if(!t.trim())return"";var n=0,r=t.split("\n").map((function(t){return t.trim()})).map((function(t){return(t=t.trim()).startsWith("}")&&n>0&&n--,(t=e.repeat(n)+t).endsWith("{")&&n++,t}));return r.join("\n")}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(117),a=n.n(r);function o(t,e){if(t){var n;try{if(!(n=a()(t)))return}catch(s){console.warn(s)}var r=n,o=r.name,i=r.repo,c=r.filepath;return{name:e||o,repo:i,version:r.branch,dir:c}}}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var r=n(4),a=n(5),o=n(3),i=n(6),c=n.n(i),s=n(18),u=n(1),l=n(23),p=n(31);function d(t){var e,n,r,o=t.promise,i=t.loading,c=t.error,s=t.children,p=Object(u.useState)("loading"),d=Object(a.a)(p,2),f=d[0],m=d[1],b=Object(u.useState)(),v=Object(a.a)(b,2),y=v[0],h=v[1],j=Object(u.useContext)(l.g);return Object(u.useEffect)((function(){Promise.resolve(o).then((function(t){m("success"),h(t)})).catch((function(t){m("error"),h(t),c||j.emit(l.c,t)}))}),[o,c,j]),"loading"===f?null!==(n=null===i||void 0===i?void 0:i())&&void 0!==n?n:null:"error"===f?null!==(r=null===c||void 0===c?void 0:c(y))&&void 0!==r?r:null:null!==(e=null===s||void 0===s?void 0:s(y))&&void 0!==e?e:null}var f=n(17),m=n(275),b=n(19),v=n(71),y=n(57),h=n(40),j=n(26),g=n(2),O=["text","size","variant","buttonRef"];function x(t){var e,n=t.text,o=t.size,i=t.variant,c=t.buttonRef,s=(Object(f.a)(t,O),Object(u.useState)()),l=Object(a.a)(s,2),p=l[0],d=l[1];return Object(h.a)(),Object(g.jsx)(v.CopyToClipboard,{text:n,children:Object(g.jsxs)(m.a,Object(r.a)(Object(r.a)({ref:c,size:o||"sm",variant:i||"outline-light",className:"d-flex py-2","data-tip":p?void 0:"Copy to Clipboard"},Object(j.a)((function(){d(!0),y.a.show(e),setTimeout((function(){return d(!1)}),1e3)}))),{},{children:[Object(g.jsx)("span",{ref:function(t){return e=t},"data-tip":"Copied!"}),Object(g.jsx)(b.i,{})]}))})}var k=n(69);function w(t){var e=t.control,n=t.bindInput,r=t.query,o=function(){var t=Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e,e.getNode(),e.editor);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn(t.t0),t.abrupt("return","<".concat(t.t0,">"));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),i=Object(u.useState)(o),f=Object(a.a)(i,2),m=f[0],b=f[1],v=Object(u.useContext)(l.g);return Object(p.a)(v,l.a,(function(){b(o())})),Object(g.jsx)(d,{promise:m,children:function(t){return(null!==t&&void 0!==t?t:null)&&Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{ref:n,className:"w-100",style:{height:25*(1+((null===t||void 0===t?void 0:t.match(/\n/g))||[]).length)},children:Object(g.jsx)(k.a,{value:t,readOnly:!0,options:{lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,minimap:{enabled:!1}}})}),Object(g.jsx)(x,{text:t})]})}})}var C=n(7),T=n(34),N=n(90);function I(t,e,n){function i(e){return function(r,o,i){var c=i.compilers[t].getInput(o,e),s=n?n(c,o,i):c,u=Object(T.e)(s),l=Object(a.a)(u,2)[1];return Object(N.a)([l].join(" "))}}return Object(r.a)(Object(r.a)({category:C.d,icon:C.d.data.icon,topLeft:"input",topRight:"reversed",width:10},e),{},{inputs:[{key:"input",title:"Input",type:o.c,optional:!0},{key:"reversed",title:"Input",type:o.b,optional:!0}],controls:[{key:"reversedDisplay",title:"Display",config:{controlType:w,controlProps:{query:i("reversed")}}},{key:"display",config:{controlType:w,controlProps:{query:i("input")}}}]})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=[{id:"dark",name:"Dark",parts:["monospace-labels","vibrant-borders"],monaco:"night-owl",styledComponents:{}},{id:"grey",name:"Grey",parts:["monospace-labels"],monaco:"vs-dark",styledComponents:{}}];function a(){return r}},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var r=n(4),a=n(16),o=n(5),i=(n(1),n(41)),c=n(13),s=n.n(c),u=n(2);function l(t){var e=t.control,n=t.bindInput,r=t.options,a=t.findLabel,c=Object(i.a)(e),l=Object(o.a)(c,2),p=l[0],d=l[1];void 0!==p||r.includes(p)||(p=r[0],d(p));var f=!e.validate(p)||!r.includes(p);return Object(u.jsx)("select",{className:s()(f&&"invalid"),ref:n,value:p,onChange:function(t){return d(t.target.value||void 0)},children:r.map((function(t,e){var n;return Object(u.jsx)("option",{label:null!==(n=null===a||void 0===a?void 0:a(t,e))&&void 0!==n?n:t,value:t},e)}))})}var p=n(3);function d(t,e){return e=t.optional?[void 0].concat(Object(a.a)(e)):e,Object(r.a)(Object(r.a)({},t),{},{config:Object(r.a)(Object(r.a)({},t.config||{}),{},{controlType:l,controlProps:{options:e,findLabel:function(t){return t?t.charAt(0).toUpperCase()+t.substring(1):"--"}},controlDefault:e[0]})})}function f(){return{key:"editor:advanced",title:"Advanced",type:p.g,config:{onChange:function(t){t.editor.updateNode(t.getNode())}}}}},,,,function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=100},,,function(t,e,n){"use strict";n.r(e),n.d(e,"compileGlobalParameter",(function(){return o}));var r=n(3),a=n(7);function o(t,e){var n=e.compilers.motoko.getInput(t,"name"),a=e.compilers.type.getInput(t,"type")||r.I,o=e.compilers.motoko.getTypeString(a);return"".concat(n," : ").concat(o)}var i={title:"Config",info:"A top-level input parameter to the smart contract",useCases:[n(15).c],topRight:"value",category:a.m,global:!0,computeTitle:function(t,e){var n=e.compilers.motoko.getInput(t,"name"),a=e.compilers.type.getInput(t,"type")||r.I;return n&&"".concat(n," : ").concat(e.compilers.motoko.getTypeString(a))},shortcuts:[{block:"MainParameterRead",nodeKey:"configNode"}],inputs:[{key:"name",type:r.p},{key:"type",type:r.F.of(r.I)}],outputs:[{key:"value",type:r.I,toMotoko:function(t){return t.name},inferType:function(t){return t.type}}]};e.default=i},function(t,e,n){"use strict";n.r(e),n.d(e,"getFunctionReturnType",(function(){return p}));var r=n(16),a=n(3),o=n(42),i=n(7),c=n(15),s=n(14),u=n(45),l=a.H;function p(t,e){var n,r=(null===(n=e.compilers.type.getInput(t,"body"))||void 0===n?void 0:n.generics[0])||l,o=e.compilers.control.getInput(t,"query"),i=e.compilers.control.getInput(t,"visibility");return(o||"public"===i)&&(r=a.e.of(r)),r}var d=Object(o.b)({info:"Evaluate based on given input parameters",useCases:[c.b,c.j],category:i.i,topRight:"body",global:!0,memberPriority:u.b,computeTitle:function(t,e){var n=Object(o.a)(t,e),r=e.compilers.motoko.getInputArgs(t),a=r.params,i=r.body,c=p(t,e);if(n||a.length||i)return"".concat(n||"","(").concat(a.join(", "),")").concat(c?" : "+e.compilers.motoko.getTypeString(c):"")},shortcuts:[{block:"FunctionCall",nodeKey:"functionNode"},{block:"Return",connections:[{fromOutput:!0,from:"body",to:"statement"}]}],inputs:[{key:"name",type:a.p},{key:"params",title:"Parameters",type:a.A,multi:!0},{key:"body",type:a.k,optional:!0,request:!0}],outputs:[{key:"caller",info:"The remote principal which called this function",type:a.B,advanced:!0,toMotoko:function(t,e,n){var r=t.name;return"".concat(r,"__msg.caller")}},{key:"function",info:"The callable function value",type:a.m,advanced:!0,inferType:function(t,e,n){var o=t.params.map((function(t){return t.generics[0]})),i=p(e,n.editor);return a.m.of(a.E.of.apply(a.E,Object(r.a)(o)),i)},toMotoko:function(t){return t.name}}],controls:[Object(o.c)(),{key:"query",info:"A query function runs faster but cannot modify state values",type:a.g,advanced:!0}]},{toMotoko:function(t,e,n){var r=t.name,a=t.visibility,o=t.query,i=t.params,c=t.body,u=!!e.outputs.get("caller").connections.length,l=["system"!==a&&a,u&&"shared",o&&"query"].filter((function(t){return t})).join(" "),d=p(e,n.editor),f=n.getTypeString(d);return[l,u&&Object(s.d)("".concat(r,"__msg")),"func ".concat(r||"").concat(Object(s.d)(i.join(", "))).concat("()"!==f?" : ".concat(f):""),Object(s.f)(c||"")]}});e.default=d},,,,,,,,function(t,e,n){var r=[{id:"templates",name:"Templates",description:"Real-world starter projects for NFTs and tokens.",className:"text-primary",examples:[n(144),n(145)]},{id:"concepts",name:"Concepts",description:"Reference implementations for learning the editor.",className:"text-success",examples:[n(146),n(147),n(148)]},{id:"dfinity",name:"DFINITY",description:"Official Motoko examples implemented in Blocks.",className:"text-info",examples:[n(149),n(150),n(151),n(152),n(153)]}],a=r.flatMap((function(t){return t.examples}));t.exports={getExampleCategories:function(){return r},getExampleProjects:function(){return a}}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){},,,,,,,,function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"DIP721 NFT","description":"A Non-Fungible Token (NFT) collection.","readme":"","language":"motoko","output":"import Error \\"mo:base/Error\\";\\nimport Hash \\"mo:base/Hash\\";\\nimport HashMap \\"mo:base/HashMap\\";\\nimport Nat \\"mo:base/Nat\\";\\nimport Option \\"mo:base/Option\\";\\nimport Principal \\"mo:base/Principal\\";\\nimport Array \\"mo:base/Array\\";\\nimport Iter \\"mo:base/Iter\\";\\nimport P \\"mo:base/Prelude\\";\\n\\nactor Dip721Nft {\\n\\tpublic shared query (doIOwn__msg) func doIOwn(tokenId : Nat) : async Bool {\\n\\t\\tlet caller = doIOwn__msg.caller; // First input\\n\\t\\t_ownerOf(tokenId) == ?caller;\\n\\t};\\n\\t\\n\\tstable var name_ : Text = \\"ExampleNFT\\";\\n\\t\\n\\tstable var symbol_ : Text = \\"ENFT\\";\\n\\t\\n\\t// Adapted from: https://github.com/SuddenlyHazel/DIP721/blob/main/src/DIP721/DIP721.mo\\n\\t\\n\\tprivate type TokenAddress = Principal;\\n\\tprivate type TokenId = Nat;\\n\\t\\n\\tprivate stable var tokenPk : Nat = 0;\\n\\t\\n\\tprivate stable var tokenURIEntries : [(TokenId, Text)] = [];\\n\\tprivate stable var ownersEntries : [(TokenId, Principal)] = [];\\n\\tprivate stable var balancesEntries : [(Principal, Nat)] = [];\\n\\tprivate stable var tokenApprovalsEntries : [(TokenId, Principal)] = [];\\n\\tprivate stable var operatorApprovalsEntries : [(Principal, [Principal])] = [];\\n\\t\\n\\tprivate let tokenURIs : HashMap.HashMap<TokenId, Text> = HashMap.fromIter<TokenId, Text>(tokenURIEntries.vals(), 10, Nat.equal, Hash.hash);\\n\\tprivate let owners : HashMap.HashMap<TokenId, Principal> = HashMap.fromIter<TokenId, Principal>(ownersEntries.vals(), 10, Nat.equal, Hash.hash);\\n\\tprivate let balances : HashMap.HashMap<Principal, Nat> = HashMap.fromIter<Principal, Nat>(balancesEntries.vals(), 10, Principal.equal, Principal.hash);\\n\\tprivate let tokenApprovals : HashMap.HashMap<TokenId, Principal> = HashMap.fromIter<TokenId, Principal>(tokenApprovalsEntries.vals(), 10, Nat.equal, Hash.hash);\\n\\tprivate let operatorApprovals : HashMap.HashMap<Principal, [Principal]> = HashMap.fromIter<Principal, [Principal]>(operatorApprovalsEntries.vals(), 10, Principal.equal, Principal.hash);\\n\\t\\n\\tprivate func _unwrap<T>(x : ?T) : T {\\n\\t\\tswitch x {\\n\\t\\t\\tcase null { P.unreachable() };\\n\\t\\t\\tcase (?x_) { x_ };\\n\\t\\t}\\n\\t};\\n\\t\\n\\tpublic shared query func balanceOf(p : Principal) : async ?Nat {\\n\\t\\treturn balances.get(p);\\n\\t};\\n\\t\\n\\tpublic shared query func ownerOf(tokenId : TokenId) : async ?Principal {\\n\\t\\treturn _ownerOf(tokenId);\\n\\t};\\n\\t\\n\\tpublic shared query func tokenURI(tokenId : TokenId) : async ?Text {\\n\\t\\treturn _tokenURI(tokenId);\\n\\t};\\n\\t\\n\\tpublic shared query func name() : async Text {\\n\\t\\treturn name_;\\n\\t};\\n\\t\\n\\tpublic shared query func symbol() : async Text {\\n\\t\\treturn symbol_;\\n\\t};\\n\\t\\n\\tpublic shared func isApprovedForAll(owner : Principal, opperator : Principal) : async Bool {\\n\\t\\treturn _isApprovedForAll(owner, opperator);\\n\\t};\\n\\t\\n\\tpublic shared(msg) func approve(to : Principal, tokenId : TokenId) : async () {\\n\\t\\tswitch(_ownerOf(tokenId)) {\\n\\t\\t\\tcase (?owner) {\\n\\t\\t\\t\\tassert to != owner;\\n\\t\\t\\t\\tassert msg.caller == owner or _isApprovedForAll(owner, msg.caller);\\n\\t\\t\\t\\t_approve(to, tokenId);\\n\\t\\t\\t};\\n\\t\\t\\tcase (null) {\\n\\t\\t\\t\\tthrow Error.reject(\\"No owner for token\\")\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n\\t\\n\\tpublic shared func getApproved(tokenId : Nat) : async Principal {\\n\\t\\tswitch(_getApproved(tokenId)) {\\n\\t\\t\\tcase (?v) { return v };\\n\\t\\t\\tcase null { throw Error.reject(\\"None approved\\") }\\n\\t\\t}\\n\\t};\\n\\t\\n\\tpublic shared(msg) func setApprovalForAll(op : Principal, isApproved : Bool) : () {\\n\\t\\tassert msg.caller != op;\\n\\t\\t\\n\\t\\tswitch (isApproved) {\\n\\t\\t\\tcase true {\\n\\t\\t\\t\\tswitch (operatorApprovals.get(msg.caller)) {\\n\\t\\t\\t\\t\\tcase (?opList) {\\n\\t\\t\\t\\t\\t\\tvar array = Array.filter<Principal>(opList,func (p) { p != op });\\n\\t\\t\\t\\t\\t\\tarray := Array.append<Principal>(array, [op]);\\n\\t\\t\\t\\t\\t\\toperatorApprovals.put(msg.caller, array);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tcase null {\\n\\t\\t\\t\\t\\t\\toperatorApprovals.put(msg.caller, [op]);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t};\\n\\t\\t\\t};\\n\\t\\t\\tcase false {\\n\\t\\t\\t\\tswitch (operatorApprovals.get(msg.caller)) {\\n\\t\\t\\t\\t\\tcase (?opList) {\\n\\t\\t\\t\\t\\t\\tlet array = Array.filter<Principal>(opList, func(p) { p != op });\\n\\t\\t\\t\\t\\t\\toperatorApprovals.put(msg.caller, array);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tcase null {\\n\\t\\t\\t\\t\\t\\toperatorApprovals.put(msg.caller, []);\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t};\\n\\t\\t\\t};\\n\\t\\t};\\n\\t\\t\\n\\t};\\n\\t\\n\\tpublic shared(msg) func transferFrom(from : Principal, to : Principal, tokenId : Nat) : () {\\n\\t\\tassert _isApprovedOrOwner(msg.caller, tokenId);\\n\\t\\t\\n\\t\\t_transfer(from, to, tokenId);\\n\\t};\\n\\t\\n\\tpublic shared(msg) func mint(uri : Text) : async Nat {\\n\\t\\ttokenPk += 1;\\n\\t\\t_mint(msg.caller, tokenPk, uri);\\n\\t\\treturn tokenPk;\\n\\t};\\n\\t\\n\\t\\n\\t// Internal\\n\\t\\n\\tprivate func _ownerOf(tokenId : TokenId) : ?Principal {\\n\\t\\treturn owners.get(tokenId);\\n\\t};\\n\\t\\n\\tprivate func _tokenURI(tokenId : TokenId) : ?Text {\\n\\t\\treturn tokenURIs.get(tokenId);\\n\\t};\\n\\t\\n\\tprivate func _isApprovedForAll(owner : Principal, opperator : Principal) : Bool {\\n\\t\\tswitch (operatorApprovals.get(owner)) {\\n\\t\\t\\tcase(?whiteList) {\\n\\t\\t\\t\\tfor (allow in whiteList.vals()) {\\n\\t\\t\\t\\t\\tif (allow == opperator) {\\n\\t\\t\\t\\t\\t\\treturn true;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t};\\n\\t\\t\\t};\\n\\t\\t\\tcase null {return false;};\\n\\t\\t};\\n\\t\\treturn false;\\n\\t};\\n\\t\\n\\tprivate func _approve(to : Principal, tokenId : Nat) : () {\\n\\t\\ttokenApprovals.put(tokenId, to);\\n\\t};\\n\\t\\n\\tprivate func _removeApprove(tokenId : Nat) : () {\\n\\t\\tignore tokenApprovals.remove(tokenId);\\n\\t};\\n\\t\\n\\tprivate func _exists(tokenId : Nat) : Bool {\\n\\t\\treturn Option.isSome(owners.get(tokenId));\\n\\t};\\n\\t\\n\\tprivate func _getApproved(tokenId : Nat) : ?Principal {\\n\\t\\tassert _exists(tokenId) == true;\\n\\t\\tswitch(tokenApprovals.get(tokenId)) {\\n\\t\\t\\tcase (?v) { return ?v };\\n\\t\\t\\tcase null {\\n\\t\\t\\t\\treturn null;\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func _hasApprovedAndSame(tokenId : Nat, spender : Principal) : Bool {\\n\\t\\tswitch(_getApproved(tokenId)) {\\n\\t\\t\\tcase (?v) {\\n\\t\\t\\t\\treturn v == spender;\\n\\t\\t\\t};\\n\\t\\t\\tcase null { return false }\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func _isApprovedOrOwner(spender : Principal, tokenId : Nat) : Bool {\\n\\t\\tassert _exists(tokenId);\\n\\t\\tlet owner = _unwrap(_ownerOf(tokenId));\\n\\t\\treturn spender == owner or _hasApprovedAndSame(tokenId, spender) or _isApprovedForAll(owner, spender);\\n\\t};\\n\\t\\n\\tprivate func _transfer(from : Principal, to : Principal, tokenId : Nat) : () {\\n\\t\\tassert _exists(tokenId);\\n\\t\\tassert _unwrap(_ownerOf(tokenId)) == from;\\n\\t\\t\\n\\t\\t// Bug in HashMap https://github.com/dfinity/motoko-base/pull/253/files\\n\\t\\t// this will throw unless you patch your file\\n\\t\\t_removeApprove(tokenId);\\n\\t\\t\\n\\t\\t_decrementBalance(from);\\n\\t\\t_incrementBalance(to);\\n\\t\\towners.put(tokenId, to);\\n\\t};\\n\\t\\n\\tprivate func _incrementBalance(address : Principal) {\\n\\t\\tswitch (balances.get(address)) {\\n\\t\\t\\tcase (?v) {\\n\\t\\t\\t\\tbalances.put(address, v + 1);\\n\\t\\t\\t};\\n\\t\\t\\tcase null {\\n\\t\\t\\t\\tbalances.put(address, 1);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func _decrementBalance(address : Principal) {\\n\\t\\tswitch (balances.get(address)) {\\n\\t\\t\\tcase (?v) {\\n\\t\\t\\t\\tbalances.put(address, v - 1);\\n\\t\\t\\t};\\n\\t\\t\\tcase null {\\n\\t\\t\\t\\tbalances.put(address, 0);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func _mint(to : Principal, tokenId : Nat, uri : Text) : () {\\n\\t\\tassert not _exists(tokenId);\\n\\t\\t\\n\\t\\t_incrementBalance(to);\\n\\t\\towners.put(tokenId, to);\\n\\t\\ttokenURIs.put(tokenId,uri)\\n\\t};\\n\\t\\n\\tprivate func _burn(tokenId : Nat) {\\n\\t\\tlet owner = _unwrap(_ownerOf(tokenId));\\n\\t\\t\\n\\t\\t_removeApprove(tokenId);\\n\\t\\t_decrementBalance(owner);\\n\\t\\t\\n\\t\\tignore owners.remove(tokenId);\\n\\t};\\n\\t\\n\\tsystem func preupgrade() {\\n\\t\\ttokenURIEntries := Iter.toArray(tokenURIs.entries());\\n\\t\\townersEntries := Iter.toArray(owners.entries());\\n\\t\\tbalancesEntries := Iter.toArray(balances.entries());\\n\\t\\ttokenApprovalsEntries := Iter.toArray(tokenApprovals.entries());\\n\\t\\toperatorApprovalsEntries := Iter.toArray(operatorApprovals.entries());\\n\\t\\t\\n\\t};\\n\\t\\n\\tsystem func postupgrade() {\\n\\t\\ttokenURIEntries := [];\\n\\t\\townersEntries := [];\\n\\t\\tbalancesEntries := [];\\n\\t\\ttokenApprovalsEntries := [];\\n\\t\\toperatorApprovalsEntries := [];\\n\\t};\\n}","nodes":{"945":{"id":945,"data":{"expression":"// Adapted from: https://github.com/SuddenlyHazel/DIP721/blob/main/src/DIP721/DIP721.mo\\r\\n\\r\\nprivate type TokenAddress = Principal;\\r\\nprivate type TokenId = Nat;\\r\\n\\r\\nprivate stable var tokenPk : Nat = 0;\\r\\n\\r\\nprivate stable var tokenURIEntries : [(TokenId, Text)] = [];\\r\\nprivate stable var ownersEntries : [(TokenId, Principal)] = [];\\r\\nprivate stable var balancesEntries : [(Principal, Nat)] = [];\\r\\nprivate stable var tokenApprovalsEntries : [(TokenId, Principal)] = [];\\r\\nprivate stable var operatorApprovalsEntries : [(Principal, [Principal])] = [];\\r\\n\\r\\nprivate let tokenURIs : HashMap.HashMap<TokenId, Text> = HashMap.fromIter<TokenId, Text>(tokenURIEntries.vals(), 10, Nat.equal, Hash.hash);\\r\\nprivate let owners : HashMap.HashMap<TokenId, Principal> = HashMap.fromIter<TokenId, Principal>(ownersEntries.vals(), 10, Nat.equal, Hash.hash);\\r\\nprivate let balances : HashMap.HashMap<Principal, Nat> = HashMap.fromIter<Principal, Nat>(balancesEntries.vals(), 10, Principal.equal, Principal.hash);\\r\\nprivate let tokenApprovals : HashMap.HashMap<TokenId, Principal> = HashMap.fromIter<TokenId, Principal>(tokenApprovalsEntries.vals(), 10, Nat.equal, Hash.hash);\\r\\nprivate let operatorApprovals : HashMap.HashMap<Principal, [Principal]> = HashMap.fromIter<Principal, [Principal]>(operatorApprovalsEntries.vals(), 10, Principal.equal, Principal.hash);\\r\\n\\r\\nprivate func _unwrap<T>(x : ?T) : T {\\r\\n    switch x {\\r\\n        case null { P.unreachable() };\\r\\n        case (?x_) { x_ };\\r\\n    }\\r\\n};\\r\\n\\r\\npublic shared query func balanceOf(p : Principal) : async ?Nat {\\r\\n    return balances.get(p);\\r\\n};\\r\\n\\r\\npublic shared query func ownerOf(tokenId : TokenId) : async ?Principal {\\r\\n    return _ownerOf(tokenId);\\r\\n};\\r\\n\\r\\npublic shared query func tokenURI(tokenId : TokenId) : async ?Text {\\r\\n    return _tokenURI(tokenId);\\r\\n};\\r\\n\\r\\npublic shared query func name() : async Text {\\r\\n    return name_;\\r\\n};\\r\\n\\r\\npublic shared query func symbol() : async Text {\\r\\n    return symbol_;\\r\\n};\\r\\n\\r\\npublic shared func isApprovedForAll(owner : Principal, opperator : Principal) : async Bool {\\r\\n    return _isApprovedForAll(owner, opperator);\\r\\n};\\r\\n\\r\\npublic shared(msg) func approve(to : Principal, tokenId : TokenId) : async () {\\r\\n    switch(_ownerOf(tokenId)) {\\r\\n        case (?owner) {\\r\\n                assert to != owner;\\r\\n                assert msg.caller == owner or _isApprovedForAll(owner, msg.caller);\\r\\n                _approve(to, tokenId);\\r\\n        };\\r\\n        case (null) {\\r\\n            throw Error.reject(\\"No owner for token\\")\\r\\n        };\\r\\n    }\\r\\n};\\r\\n\\r\\npublic shared func getApproved(tokenId : Nat) : async Principal {\\r\\n    switch(_getApproved(tokenId)) {\\r\\n        case (?v) { return v };\\r\\n        case null { throw Error.reject(\\"None approved\\") }\\r\\n    }\\r\\n};\\r\\n\\r\\npublic shared(msg) func setApprovalForAll(op : Principal, isApproved : Bool) : () {\\r\\n    assert msg.caller != op;\\r\\n\\r\\n    switch (isApproved) {\\r\\n        case true {\\r\\n            switch (operatorApprovals.get(msg.caller)) {\\r\\n                case (?opList) {\\r\\n                    var array = Array.filter<Principal>(opList,func (p) { p != op });\\r\\n                    array := Array.append<Principal>(array, [op]);\\r\\n                    operatorApprovals.put(msg.caller, array);\\r\\n                };\\r\\n                case null {\\r\\n                    operatorApprovals.put(msg.caller, [op]);\\r\\n                };\\r\\n            };\\r\\n        };\\r\\n        case false {\\r\\n            switch (operatorApprovals.get(msg.caller)) {\\r\\n                case (?opList) {\\r\\n                    let array = Array.filter<Principal>(opList, func(p) { p != op });\\r\\n                    operatorApprovals.put(msg.caller, array);\\r\\n                };\\r\\n                case null {\\r\\n                    operatorApprovals.put(msg.caller, []);\\r\\n                };\\r\\n            };\\r\\n        };\\r\\n    };\\r\\n    \\r\\n};\\r\\n\\r\\npublic shared(msg) func transferFrom(from : Principal, to : Principal, tokenId : Nat) : () {\\r\\n    assert _isApprovedOrOwner(msg.caller, tokenId);\\r\\n\\r\\n    _transfer(from, to, tokenId);\\r\\n};\\r\\n\\r\\npublic shared(msg) func mint(uri : Text) : async Nat {\\r\\n    tokenPk += 1;\\r\\n    _mint(msg.caller, tokenPk, uri);\\r\\n    return tokenPk;\\r\\n};\\r\\n\\r\\n\\r\\n// Internal\\r\\n\\r\\nprivate func _ownerOf(tokenId : TokenId) : ?Principal {\\r\\n    return owners.get(tokenId);\\r\\n};\\r\\n\\r\\nprivate func _tokenURI(tokenId : TokenId) : ?Text {\\r\\n    return tokenURIs.get(tokenId);\\r\\n};\\r\\n\\r\\nprivate func _isApprovedForAll(owner : Principal, opperator : Principal) : Bool {\\r\\n    switch (operatorApprovals.get(owner)) {\\r\\n        case(?whiteList) {\\r\\n            for (allow in whiteList.vals()) {\\r\\n                if (allow == opperator) {\\r\\n                    return true;\\r\\n                };\\r\\n            };\\r\\n        };\\r\\n        case null {return false;};\\r\\n    };\\r\\n    return false;\\r\\n};\\r\\n\\r\\nprivate func _approve(to : Principal, tokenId : Nat) : () {\\r\\n    tokenApprovals.put(tokenId, to);\\r\\n};\\r\\n\\r\\nprivate func _removeApprove(tokenId : Nat) : () {\\r\\n    ignore tokenApprovals.remove(tokenId);\\r\\n};\\r\\n\\r\\nprivate func _exists(tokenId : Nat) : Bool {\\r\\n    return Option.isSome(owners.get(tokenId));\\r\\n};\\r\\n\\r\\nprivate func _getApproved(tokenId : Nat) : ?Principal {\\r\\n    assert _exists(tokenId) == true;\\r\\n    switch(tokenApprovals.get(tokenId)) {\\r\\n        case (?v) { return ?v };\\r\\n        case null {\\r\\n            return null;\\r\\n        };\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func _hasApprovedAndSame(tokenId : Nat, spender : Principal) : Bool {\\r\\n    switch(_getApproved(tokenId)) {\\r\\n        case (?v) {\\r\\n            return v == spender;\\r\\n        };\\r\\n        case null { return false }\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func _isApprovedOrOwner(spender : Principal, tokenId : Nat) : Bool {\\r\\n    assert _exists(tokenId);\\r\\n    let owner = _unwrap(_ownerOf(tokenId));\\r\\n    return spender == owner or _hasApprovedAndSame(tokenId, spender) or _isApprovedForAll(owner, spender);\\r\\n};\\r\\n\\r\\nprivate func _transfer(from : Principal, to : Principal, tokenId : Nat) : () {\\r\\n    assert _exists(tokenId);\\r\\n    assert _unwrap(_ownerOf(tokenId)) == from;\\r\\n\\r\\n    // Bug in HashMap https://github.com/dfinity/motoko-base/pull/253/files\\r\\n    // this will throw unless you patch your file\\r\\n    _removeApprove(tokenId);\\r\\n\\r\\n    _decrementBalance(from);\\r\\n    _incrementBalance(to);\\r\\n    owners.put(tokenId, to);\\r\\n};\\r\\n\\r\\nprivate func _incrementBalance(address : Principal) {\\r\\n    switch (balances.get(address)) {\\r\\n        case (?v) {\\r\\n            balances.put(address, v + 1);\\r\\n        };\\r\\n        case null {\\r\\n            balances.put(address, 1);\\r\\n        }\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func _decrementBalance(address : Principal) {\\r\\n    switch (balances.get(address)) {\\r\\n        case (?v) {\\r\\n            balances.put(address, v - 1);\\r\\n        };\\r\\n        case null {\\r\\n            balances.put(address, 0);\\r\\n        }\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func _mint(to : Principal, tokenId : Nat, uri : Text) : () {\\r\\n    assert not _exists(tokenId);\\r\\n\\r\\n    _incrementBalance(to);\\r\\n    owners.put(tokenId, to);\\r\\n    tokenURIs.put(tokenId,uri)\\r\\n};\\r\\n\\r\\nprivate func _burn(tokenId : Nat) {\\r\\n    let owner = _unwrap(_ownerOf(tokenId));\\r\\n\\r\\n    _removeApprove(tokenId);\\r\\n    _decrementBalance(owner);\\r\\n\\r\\n    ignore owners.remove(tokenId);\\r\\n};\\r\\n\\r\\nsystem func preupgrade() {\\r\\n    tokenURIEntries := Iter.toArray(tokenURIs.entries());\\r\\n    ownersEntries := Iter.toArray(owners.entries());\\r\\n    balancesEntries := Iter.toArray(balances.entries());\\r\\n    tokenApprovalsEntries := Iter.toArray(tokenApprovals.entries());\\r\\n    operatorApprovalsEntries := Iter.toArray(operatorApprovals.entries());\\r\\n    \\r\\n};\\r\\n\\r\\nsystem func postupgrade() {\\r\\n    tokenURIEntries := [];\\r\\n    ownersEntries := [];\\r\\n    balancesEntries := [];\\r\\n    tokenApprovalsEntries := [];\\r\\n    operatorApprovalsEntries := [];\\r\\n};"},"outputs":{},"position":[-448,-288],"name":"CodeMember"},"946":{"id":946,"data":{"name":"doIOwn","editor:advanced":true,"query":true},"outputs":{"params":{"connections":[{"node":948,"input":"param","data":{}}]},"body":{"connections":[{"node":947,"input":"before","data":{}}]},"caller":{"connections":[{"node":947,"input":"inputs","data":{}}]},"function":{"connections":[]}},"position":[192,-544],"name":"Function"},"947":{"id":947,"data":{"type":{"name":"Bool","generics":[]},"expression":"let caller = {0}; // First input\\r\\n_ownerOf(tokenId) == ?caller"},"outputs":{"after":{"connections":[]}},"position":[640,-544],"name":"CodeStatement"},"948":{"id":948,"data":{"name":"tokenId","type":{"name":"Nat","generics":[]}},"outputs":{"value":{"connections":[]}},"position":[416,-352],"name":"Parameter"},"1869":{"id":1869,"data":{"expression":"import Error \\"mo:base/Error\\";\\r\\nimport Hash \\"mo:base/Hash\\";\\r\\nimport HashMap \\"mo:base/HashMap\\";\\r\\nimport Nat \\"mo:base/Nat\\";\\r\\nimport Option \\"mo:base/Option\\";\\r\\nimport Principal \\"mo:base/Principal\\";\\r\\nimport Array \\"mo:base/Array\\";\\r\\nimport Iter \\"mo:base/Iter\\";\\r\\nimport P \\"mo:base/Prelude\\";"},"outputs":{"result":{"connections":[]}},"position":[-448,-640],"name":"CodeImport"},"1870":{"id":1870,"data":{"widthPixels":418,"text":"DIP721 imports"},"outputs":{},"position":[-448,-688],"name":"Comment"},"1871":{"id":1871,"data":{"widthPixels":419,"text":"DIP721 types, states, and functions"},"outputs":{},"position":[-448,-336],"name":"Comment"},"1874":{"id":1874,"data":{"widthPixels":865,"text":"A custom function extending DIP721"},"outputs":{},"position":[192,-592],"name":"Comment"},"1875":{"id":1875,"data":{"widthPixels":160,"text":"NFT name"},"outputs":{},"position":[-960,-528],"name":"Comment"},"1876":{"id":1876,"data":{"widthPixels":748,"heightPixels":732},"outputs":{},"position":[-736,-720],"name":"CommentRegion"},"1877":{"id":1877,"data":{"widthPixels":736,"text":"DIP721: the standard for a Non-Fungible Token (NFT)."},"outputs":{},"position":[-736,-768],"name":"Comment"},"2106":{"id":2106,"data":{"name":"name_","editor:advanced":false,"stable":true,"readonly":false},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-704,-640],"name":"State"},"2107":{"id":2107,"data":{"name":"symbol_","editor:advanced":false,"stable":true,"readonly":false},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-704,-288],"name":"State"},"2108":{"id":2108,"data":{"value":"ENFT"},"outputs":{"value":{"connections":[{"node":2107,"input":"initialValue","data":{}}]}},"position":[-960,-128],"name":"LiteralText"},"2109":{"id":2109,"data":{"value":"ExampleNFT"},"outputs":{"value":{"connections":[{"node":2106,"input":"initialValue","data":{}}]}},"position":[-960,-480],"name":"LiteralText"},"2127":{"id":2127,"data":{"widthPixels":161,"text":"NFT symbol"},"outputs":{},"position":[-960,-176],"name":"Comment"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"DIP20 Token","description":"A standard ERC-20-style token.","readme":"","language":"motoko","output":"import HashMap \\"mo:base/HashMap\\";\\nimport Principal \\"mo:base/Principal\\";\\nimport Time \\"mo:base/Time\\";\\nimport Iter \\"mo:base/Iter\\";\\nimport Array \\"mo:base/Array\\";\\nimport Option \\"mo:base/Option\\";\\nimport Order \\"mo:base/Order\\";\\nimport Nat \\"mo:base/Nat\\";\\nimport Result \\"mo:base/Result\\";\\nimport ExperimentalCycles \\"mo:base/ExperimentalCycles\\";\\nimport P \\"mo:base/Prelude\\";\\n\\nactor Dip20Token {\\n\\tpublic shared query (doIHaveTokens__msg) func doIHaveTokens(minimum : Nat) : async Bool {\\n\\t\\tlet caller = doIHaveTokens__msg.caller; // First input\\n\\t\\t_balanceOf(caller) >= minimum;\\n\\t};\\n\\t\\n\\tstable var logo_ : Text = \\"https://via.placeholder.com/500\\";\\n\\t\\n\\tstable var decimals_ : Nat8 = 2;\\n\\t\\n\\tstable var name_ : Text = \\"ExampleCoin\\";\\n\\t\\n\\tstable var totalSupply_ : Nat = 10000000000;\\n\\t\\n\\tstable var symbol_ : Text = \\"EXC\\";\\n\\t\\n\\tstable var fee_ : Nat = 1000;\\n\\t\\n\\tstable var owner_ : Principal = Principal.fromText(\\"2vxsx-fae\\");\\n\\t\\n\\t// Adapted from: https://github.com/Psychedelic/DIP20/blob/main/motoko/src/token.mo\\n\\t\\n\\tprivate type Operation = {\\n\\t\\t#mint;\\n\\t\\t#burn;\\n\\t\\t#transfer;\\n\\t\\t#transferFrom;\\n\\t\\t#approve;\\n\\t};\\n\\tprivate type TransactionStatus = {\\n\\t\\t#succeeded;\\n\\t\\t#inprogress;\\n\\t\\t#failed;\\n\\t};\\n\\t/// Update call operation record fields\\n\\tprivate type TxRecord = {\\n\\t\\tcaller: ?Principal;\\n\\t\\top: Operation;\\n\\t\\tindex: Nat;\\n\\t\\tfrom: Principal;\\n\\t\\tto: Principal;\\n\\t\\tamount: Nat;\\n\\t\\tfee: Nat;\\n\\t\\ttimestamp: Time.Time;\\n\\t\\tstatus: TransactionStatus;\\n\\t};\\n\\t\\n\\ttype Metadata = {\\n\\t\\tlogo : Text;\\n\\t\\tname : Text;\\n\\t\\tsymbol : Text;\\n\\t\\tdecimals : Nat8;\\n\\t\\ttotalSupply : Nat;\\n\\t\\towner : Principal;\\n\\t\\tfee : Nat;\\n\\t};\\n\\t// returns tx index or error msg\\n\\tpublic type TxReceipt = {\\n\\t\\t#Ok: Nat;\\n\\t\\t#Err: {\\n\\t\\t\\t#InsufficientAllowance;\\n\\t\\t\\t#InsufficientBalance;\\n\\t\\t\\t#ErrorOperationStyle;\\n\\t\\t\\t#Unauthorized;\\n\\t\\t\\t#LedgerTrap;\\n\\t\\t\\t#ErrorTo;\\n\\t\\t\\t#Other;\\n\\t\\t\\t#BlockUsed;\\n\\t\\t\\t#AmountTooSmall;\\n\\t\\t};\\n\\t};\\n\\t\\n\\tprivate stable var blackhole : Principal = Principal.fromText(\\"aaaaa-aa\\");\\n\\tprivate stable var feeTo : Principal = owner_;\\n\\tprivate stable var fee : Nat = fee_;\\n\\tprivate stable var balanceEntries : [(Principal, Nat)] = [];\\n\\tprivate stable var allowanceEntries : [(Principal, [(Principal, Nat)])] = [];\\n\\tprivate var balances = HashMap.HashMap<Principal, Nat>(1, Principal.equal, Principal.hash);\\n\\tprivate var allowances = HashMap.HashMap<Principal, HashMap.HashMap<Principal, Nat>>(1, Principal.equal, Principal.hash);\\n\\tbalances.put(owner_, totalSupply_);\\n\\tprivate stable let genesis : TxRecord = {\\n\\t\\tcaller = ?owner_;\\n\\t\\top = #mint;\\n\\t\\tindex = 0;\\n\\t\\tfrom = blackhole;\\n\\t\\tto = owner_;\\n\\t\\tamount = totalSupply_;\\n\\t\\tfee = 0;\\n\\t\\ttimestamp = Time.now();\\n\\t\\tstatus = #succeeded;\\n\\t};\\n\\tprivate stable var ops : [TxRecord] = [genesis];\\n\\t\\n\\tprivate func _unwrap<T>(x : ?T) : T {\\n\\t\\tswitch x {\\n\\t\\t\\tcase null { P.unreachable() };\\n\\t\\t\\tcase (?x_) { x_ };\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func addRecord(\\n\\tcaller: ?Principal, op: Operation, from: Principal, to: Principal, amount: Nat,\\n\\tfee: Nat, timestamp: Time.Time, status: TransactionStatus\\n\\t): Nat {\\n\\t\\tlet index = ops.size();\\n\\t\\tlet o : TxRecord = {\\n\\t\\t\\tcaller = caller;\\n\\t\\t\\top = op;\\n\\t\\t\\tindex = index;\\n\\t\\t\\tfrom = from;\\n\\t\\t\\tto = to;\\n\\t\\t\\tamount = amount;\\n\\t\\t\\tfee = fee;\\n\\t\\t\\ttimestamp = timestamp;\\n\\t\\t\\tstatus = status;\\n\\t\\t};\\n\\t\\tops := Array.append(ops, [o]);\\n\\t\\treturn index;\\n\\t};\\n\\t\\n\\tprivate func _chargeFee(from: Principal, fee: Nat) {\\n\\t\\tif(fee > 0) {\\n\\t\\t\\t_transfer(from, feeTo, fee);\\n\\t\\t};\\n\\t};\\n\\t\\n\\tprivate func _transfer(from: Principal, to: Principal, value: Nat) {\\n\\t\\tlet from_balance = _balanceOf(from);\\n\\t\\tlet from_balance_new : Nat = from_balance - value;\\n\\t\\tif (from_balance_new != 0) { balances.put(from, from_balance_new); }\\n\\t\\telse { balances.delete(from); };\\n\\t\\t\\n\\t\\tlet to_balance = _balanceOf(to);\\n\\t\\tlet to_balance_new : Nat = to_balance + value;\\n\\t\\tif (to_balance_new != 0) { balances.put(to, to_balance_new); };\\n\\t};\\n\\t\\n\\tprivate func _balanceOf(who: Principal) : Nat {\\n\\t\\tswitch (balances.get(who)) {\\n\\t\\t\\tcase (?balance) { return balance; };\\n\\t\\t\\tcase (_) { return 0; };\\n\\t\\t}\\n\\t};\\n\\t\\n\\tprivate func _allowance(owner: Principal, spender: Principal) : Nat {\\n\\t\\tswitch(allowances.get(owner)) {\\n\\t\\t\\tcase (?allowance_owner) {\\n\\t\\t\\t\\tswitch(allowance_owner.get(spender)) {\\n\\t\\t\\t\\t\\tcase (?allowance) { return allowance; };\\n\\t\\t\\t\\t\\tcase (_) { return 0; };\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t\\tcase (_) { return 0; };\\n\\t\\t}\\n\\t};\\n\\t\\n\\t/*\\n\\t*   Core interfaces:\\n\\t*       update calls:\\n\\t*           transfer/transferFrom/approve\\n\\t*       query calls:\\n\\t*           logo/name/symbol/decimal/totalSupply/balanceOf/allowance/getMetadata\\n\\t*           historySize/getTransaction/getTransactions\\n\\t*/\\n\\t\\n\\t/// Transfers value amount of tokens to Principal to.\\n\\tpublic shared(msg) func transfer(to: Principal, value: Nat) : async TxReceipt {\\n\\t\\tif (_balanceOf(msg.caller) < value + fee) { return #Err(#InsufficientBalance); };\\n\\t\\t_chargeFee(msg.caller, fee);\\n\\t\\t_transfer(msg.caller, to, value);\\n\\t\\tlet txid = addRecord(null, #transfer, msg.caller, to, value, fee, Time.now(), #succeeded);\\n\\t\\treturn #Ok(txid);\\n\\t};\\n\\t\\n\\t/// Transfers value amount of tokens from Principal from to Principal to.\\n\\tpublic shared(msg) func transferFrom(from: Principal, to: Principal, value: Nat) : async TxReceipt {\\n\\t\\tif (_balanceOf(from) < value + fee) { return #Err(#InsufficientBalance); };\\n\\t\\tlet allowed : Nat = _allowance(from, msg.caller);\\n\\t\\tif (allowed < value + fee) { return #Err(#InsufficientAllowance); };\\n\\t\\t_chargeFee(from, fee);\\n\\t\\t_transfer(from, to, value);\\n\\t\\tlet allowed_new : Nat = allowed - value - fee;\\n\\t\\tif (allowed_new != 0) {\\n\\t\\t\\tlet allowance_from = _unwrap(allowances.get(from));\\n\\t\\t\\tallowance_from.put(msg.caller, allowed_new);\\n\\t\\t\\tallowances.put(from, allowance_from);\\n\\t\\t} else {\\n\\t\\t\\tif (allowed != 0) {\\n\\t\\t\\t\\tlet allowance_from = _unwrap(allowances.get(from));\\n\\t\\t\\t\\tallowance_from.delete(msg.caller);\\n\\t\\t\\t\\tif (allowance_from.size() == 0) { allowances.delete(from); }\\n\\t\\t\\t\\telse { allowances.put(from, allowance_from); };\\n\\t\\t\\t};\\n\\t\\t};\\n\\t\\tlet txid = addRecord(?msg.caller, #transferFrom, from, to, value, fee, Time.now(), #succeeded);\\n\\t\\treturn #Ok(txid);\\n\\t};\\n\\t\\n\\t/// Allows spender to withdraw from your account multiple times, up to the value amount.\\n\\t/// If this function is called again it overwrites the current allowance with value.\\n\\tpublic shared(msg) func approve(spender: Principal, value: Nat) : async TxReceipt {\\n\\t\\tif(_balanceOf(msg.caller) < fee) { return #Err(#InsufficientBalance); };\\n\\t\\t_chargeFee(msg.caller, fee);\\n\\t\\tlet v = value + fee;\\n\\t\\tif (value == 0 and Option.isSome(allowances.get(msg.caller))) {\\n\\t\\t\\tlet allowance_caller = _unwrap(allowances.get(msg.caller));\\n\\t\\t\\tallowance_caller.delete(spender);\\n\\t\\t\\tif (allowance_caller.size() == 0) { allowances.delete(msg.caller); }\\n\\t\\t\\telse { allowances.put(msg.caller, allowance_caller); };\\n\\t\\t} else if (value != 0 and Option.isNull(allowances.get(msg.caller))) {\\n\\t\\t\\tvar temp = HashMap.HashMap<Principal, Nat>(1, Principal.equal, Principal.hash);\\n\\t\\t\\ttemp.put(spender, v);\\n\\t\\t\\tallowances.put(msg.caller, temp);\\n\\t\\t} else if (value != 0 and Option.isSome(allowances.get(msg.caller))) {\\n\\t\\t\\tlet allowance_caller = _unwrap(allowances.get(msg.caller));\\n\\t\\t\\tallowance_caller.put(spender, v);\\n\\t\\t\\tallowances.put(msg.caller, allowance_caller);\\n\\t\\t};\\n\\t\\tlet txid = addRecord(null, #approve, msg.caller, spender, v, fee, Time.now(), #succeeded);\\n\\t\\treturn #Ok(txid);\\n\\t};\\n\\t\\n\\tpublic shared(msg) func mint(to: Principal, amount: Nat): async TxReceipt {\\n\\t\\tif(msg.caller != owner_) {\\n\\t\\t\\treturn #Err(#Unauthorized);\\n\\t\\t};\\n\\t\\tlet to_balance = _balanceOf(to);\\n\\t\\ttotalSupply_ += amount;\\n\\t\\tbalances.put(to, to_balance + amount);\\n\\t\\tlet txid = addRecord(?msg.caller, #mint, blackhole, to, amount, 0, Time.now(), #succeeded);\\n\\t\\treturn #Ok(txid);\\n\\t};\\n\\t\\n\\tpublic shared(msg) func burn(amount: Nat): async TxReceipt {\\n\\t\\tlet from_balance = _balanceOf(msg.caller);\\n\\t\\tif(from_balance < amount) {\\n\\t\\t\\treturn #Err(#InsufficientBalance);\\n\\t\\t};\\n\\t\\ttotalSupply_ -= amount;\\n\\t\\tbalances.put(msg.caller, from_balance - amount);\\n\\t\\tlet txid = addRecord(?msg.caller, #burn, msg.caller, blackhole, amount, 0, Time.now(), #succeeded);\\n\\t\\treturn #Ok(txid);\\n\\t};\\n\\t\\n\\tpublic query func logo() : async Text {\\n\\t\\treturn logo_;\\n\\t};\\n\\t\\n\\tpublic query func name() : async Text {\\n\\t\\treturn name_;\\n\\t};\\n\\t\\n\\tpublic query func symbol() : async Text {\\n\\t\\treturn symbol_;\\n\\t};\\n\\t\\n\\tpublic query func decimals() : async Nat8 {\\n\\t\\treturn decimals_;\\n\\t};\\n\\t\\n\\tpublic query func totalSupply() : async Nat {\\n\\t\\treturn totalSupply_;\\n\\t};\\n\\t\\n\\tpublic query func getTokenFee() : async Nat {\\n\\t\\treturn fee;\\n\\t};\\n\\t\\n\\tpublic query func balanceOf(who: Principal) : async Nat {\\n\\t\\treturn _balanceOf(who);\\n\\t};\\n\\t\\n\\tpublic query func allowance(owner: Principal, spender: Principal) : async Nat {\\n\\t\\treturn _allowance(owner, spender);\\n\\t};\\n\\t\\n\\tpublic query func getMetadata() : async Metadata {\\n\\t\\treturn {\\n\\t\\t\\tlogo = logo_;\\n\\t\\t\\tname = name_;\\n\\t\\t\\tsymbol = symbol_;\\n\\t\\t\\tdecimals = decimals_;\\n\\t\\t\\ttotalSupply = totalSupply_;\\n\\t\\t\\towner = owner_;\\n\\t\\t\\tfee = fee;\\n\\t\\t};\\n\\t};\\n\\t\\n\\t/// Get transaction history size\\n\\tpublic query func historySize() : async Nat {\\n\\t\\treturn ops.size();\\n\\t};\\n\\t\\n\\t/// Get transaction by index.\\n\\tpublic query func getTransaction(index: Nat) : async TxRecord {\\n\\t\\treturn ops[index];\\n\\t};\\n\\t\\n\\t/// Get history\\n\\tpublic query func getTransactions(start: Nat, limit: Nat) : async [TxRecord] {\\n\\t\\tvar ret: [TxRecord] = [];\\n\\t\\tvar i = start;\\n\\t\\twhile(i < start + limit and i < ops.size()) {\\n\\t\\t\\tret := Array.append(ret, [ops[i]]);\\n\\t\\t\\ti += 1;\\n\\t\\t};\\n\\t\\treturn ret;\\n\\t};\\n\\t\\n\\t/*\\n\\t*   Optional interfaces:\\n\\t*       setName/setLogo/setFee/setFeeTo/setOwner\\n\\t*       getUserTransactionsAmount/getUserTransactions\\n\\t*       getTokenInfo/getHolders/getUserApprovals\\n\\t*/\\n\\tpublic shared(msg) func setName(name: Text) {\\n\\t\\tassert(msg.caller == owner_);\\n\\t\\tname_ := name;\\n\\t};\\n\\t\\n\\tpublic shared(msg) func setLogo(logo: Text) {\\n\\t\\tassert(msg.caller == owner_);\\n\\t\\tlogo_ := logo;\\n\\t};\\n\\t\\n\\tpublic shared(msg) func setFeeTo(to: Principal) {\\n\\t\\tassert(msg.caller == owner_);\\n\\t\\tfeeTo := to;\\n\\t};\\n\\t\\n\\tpublic shared(msg) func setFee(_fee: Nat) {\\n\\t\\tassert(msg.caller == owner_);\\n\\t\\tfee := _fee;\\n\\t};\\n\\t\\n\\tpublic shared(msg) func setOwner(_owner: Principal) {\\n\\t\\tassert(msg.caller == owner_);\\n\\t\\towner_ := _owner;\\n\\t};\\n\\t\\n\\tpublic query func getUserTransactionAmount(a: Principal) : async Nat {\\n\\t\\tvar res: Nat = 0;\\n\\t\\tfor (i in ops.vals()) {\\n\\t\\t\\tif (i.caller == ?a or i.from == a or i.to == a) {\\n\\t\\t\\t\\tres += 1;\\n\\t\\t\\t};\\n\\t\\t};\\n\\t\\treturn res;\\n\\t};\\n\\t\\n\\tpublic query func getUserTransactions(a: Principal, start: Nat, limit: Nat) : async [TxRecord] {\\n\\t\\tvar res: [TxRecord] = [];\\n\\t\\tvar index: Nat = 0;\\n\\t\\tfor (i in ops.vals()) {\\n\\t\\t\\tif (i.caller == ?a or i.from == a or i.to == a) {\\n\\t\\t\\t\\tif(index >= start and index < start + limit) {\\n\\t\\t\\t\\t\\tres := Array.append<TxRecord>(res, [i]);\\n\\t\\t\\t\\t};\\n\\t\\t\\t\\tindex += 1;\\n\\t\\t\\t};\\n\\t\\t};\\n\\t\\treturn res;\\n\\t};\\n\\t\\n\\tpublic type TokenInfo = {\\n\\t\\tmetadata: Metadata;\\n\\t\\tfeeTo: Principal;\\n\\t\\t// status info\\n\\t\\thistorySize: Nat;\\n\\t\\tdeployTime: Time.Time;\\n\\t\\tholderNumber: Nat;\\n\\t\\tcycles: Nat;\\n\\t};\\n\\tpublic query func getTokenInfo(): async TokenInfo {\\n\\t\\t{\\n\\t\\t\\tmetadata = {\\n\\t\\t\\t\\tlogo = logo_;\\n\\t\\t\\t\\tname = name_;\\n\\t\\t\\t\\tsymbol = symbol_;\\n\\t\\t\\t\\tdecimals = decimals_;\\n\\t\\t\\t\\ttotalSupply = totalSupply_;\\n\\t\\t\\t\\towner = owner_;\\n\\t\\t\\t\\tfee = fee;\\n\\t\\t\\t};\\n\\t\\t\\tfeeTo = feeTo;\\n\\t\\t\\thistorySize = ops.size();\\n\\t\\t\\tdeployTime = genesis.timestamp;\\n\\t\\t\\tholderNumber = balances.size();\\n\\t\\t\\tcycles = ExperimentalCycles.balance();\\n\\t\\t}\\n\\t};\\n\\t\\n\\tpublic query func getHolders(start: Nat, limit: Nat) : async [(Principal, Nat)] {\\n\\t\\tlet temp =  Iter.toArray(balances.entries());\\n\\t\\tfunc order (a: (Principal, Nat), b: (Principal, Nat)) : Order.Order {\\n\\t\\t\\treturn Nat.compare(b.1, a.1);\\n\\t\\t};\\n\\t\\tlet sorted = Array.sort(temp, order);\\n\\t\\tlet limit_: Nat = if(start + limit > temp.size()) {\\n\\t\\t\\ttemp.size() - start\\n\\t\\t} else {\\n\\t\\t\\tlimit\\n\\t\\t};\\n\\t\\tlet res = Array.init<(Principal, Nat)>(limit_, (owner_, 0));\\n\\t\\tfor (i in Iter.range(0, limit_ - 1)) {\\n\\t\\t\\tres[i] := sorted[i+start];\\n\\t\\t};\\n\\t\\treturn Array.freeze(res);\\n\\t};\\n\\t\\n\\tpublic query func getAllowanceSize() : async Nat {\\n\\t\\tvar size : Nat = 0;\\n\\t\\tfor ((k, v) in allowances.entries()) {\\n\\t\\t\\tsize += v.size();\\n\\t\\t};\\n\\t\\treturn size;\\n\\t};\\n\\t\\n\\tpublic query func getUserApprovals(who : Principal) : async [(Principal, Nat)] {\\n\\t\\tswitch (allowances.get(who)) {\\n\\t\\t\\tcase (?allowance_who) {\\n\\t\\t\\t\\treturn Iter.toArray(allowance_who.entries());\\n\\t\\t\\t};\\n\\t\\t\\tcase (_) {\\n\\t\\t\\t\\treturn [];\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n\\t\\n\\t/*\\n\\t* upgrade functions\\n\\t*/\\n\\tsystem func preupgrade() {\\n\\t\\tbalanceEntries := Iter.toArray(balances.entries());\\n\\t\\tvar size : Nat = allowances.size();\\n\\t\\tvar temp : [var (Principal, [(Principal, Nat)])] = Array.init<(Principal, [(Principal, Nat)])>(size, (owner_, []));\\n\\t\\tsize := 0;\\n\\t\\tfor ((k, v) in allowances.entries()) {\\n\\t\\t\\ttemp[size] := (k, Iter.toArray(v.entries()));\\n\\t\\t\\tsize += 1;\\n\\t\\t};\\n\\t\\tallowanceEntries := Array.freeze(temp);\\n\\t};\\n\\t\\n\\tsystem func postupgrade() {\\n\\t\\tbalances := HashMap.fromIter<Principal, Nat>(balanceEntries.vals(), 1, Principal.equal, Principal.hash);\\n\\t\\tbalanceEntries := [];\\n\\t\\tfor ((k, v) in allowanceEntries.vals()) {\\n\\t\\t\\tlet allowed_temp = HashMap.fromIter<Principal, Nat>(v.vals(), 1, Principal.equal, Principal.hash);\\n\\t\\t\\tallowances.put(k, allowed_temp);\\n\\t\\t};\\n\\t\\tallowanceEntries := [];\\n\\t};\\n}","nodes":{"945":{"id":945,"data":{"expression":"// Adapted from: https://github.com/Psychedelic/DIP20/blob/main/motoko/src/token.mo\\r\\n\\r\\nprivate type Operation = {\\r\\n    #mint;\\r\\n    #burn;\\r\\n    #transfer;\\r\\n    #transferFrom;\\r\\n    #approve;\\r\\n};\\r\\nprivate type TransactionStatus = {\\r\\n    #succeeded;\\r\\n    #inprogress;\\r\\n    #failed;\\r\\n};\\r\\n/// Update call operation record fields\\r\\nprivate type TxRecord = {\\r\\n    caller: ?Principal;\\r\\n    op: Operation;\\r\\n    index: Nat;\\r\\n    from: Principal;\\r\\n    to: Principal;\\r\\n    amount: Nat;\\r\\n    fee: Nat;\\r\\n    timestamp: Time.Time;\\r\\n    status: TransactionStatus;\\r\\n};\\r\\n\\r\\ntype Metadata = {\\r\\n    logo : Text;\\r\\n    name : Text;\\r\\n    symbol : Text;\\r\\n    decimals : Nat8;\\r\\n    totalSupply : Nat;\\r\\n    owner : Principal;\\r\\n    fee : Nat;\\r\\n};\\r\\n// returns tx index or error msg\\r\\npublic type TxReceipt = {\\r\\n    #Ok: Nat;\\r\\n    #Err: {\\r\\n        #InsufficientAllowance;\\r\\n        #InsufficientBalance;\\r\\n        #ErrorOperationStyle;\\r\\n        #Unauthorized;\\r\\n        #LedgerTrap;\\r\\n        #ErrorTo;\\r\\n        #Other;\\r\\n        #BlockUsed;\\r\\n        #AmountTooSmall;\\r\\n    };\\r\\n};\\r\\n\\r\\nprivate stable var blackhole : Principal = Principal.fromText(\\"aaaaa-aa\\");\\r\\nprivate stable var feeTo : Principal = owner_;\\r\\nprivate stable var fee : Nat = fee_;\\r\\nprivate stable var balanceEntries : [(Principal, Nat)] = [];\\r\\nprivate stable var allowanceEntries : [(Principal, [(Principal, Nat)])] = [];\\r\\nprivate var balances = HashMap.HashMap<Principal, Nat>(1, Principal.equal, Principal.hash);\\r\\nprivate var allowances = HashMap.HashMap<Principal, HashMap.HashMap<Principal, Nat>>(1, Principal.equal, Principal.hash);\\r\\nbalances.put(owner_, totalSupply_);\\r\\nprivate stable let genesis : TxRecord = {\\r\\n    caller = ?owner_;\\r\\n    op = #mint;\\r\\n    index = 0;\\r\\n    from = blackhole;\\r\\n    to = owner_;\\r\\n    amount = totalSupply_;\\r\\n    fee = 0;\\r\\n    timestamp = Time.now();\\r\\n    status = #succeeded;\\r\\n};\\r\\nprivate stable var ops : [TxRecord] = [genesis];\\r\\n\\r\\nprivate func _unwrap<T>(x : ?T) : T {\\r\\n    switch x {\\r\\n        case null { P.unreachable() };\\r\\n        case (?x_) { x_ };\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func addRecord(\\r\\n    caller: ?Principal, op: Operation, from: Principal, to: Principal, amount: Nat,\\r\\n    fee: Nat, timestamp: Time.Time, status: TransactionStatus\\r\\n): Nat {\\r\\n    let index = ops.size();\\r\\n    let o : TxRecord = {\\r\\n        caller = caller;\\r\\n        op = op;\\r\\n        index = index;\\r\\n        from = from;\\r\\n        to = to;\\r\\n        amount = amount;\\r\\n        fee = fee;\\r\\n        timestamp = timestamp;\\r\\n        status = status;\\r\\n    };\\r\\n    ops := Array.append(ops, [o]);\\r\\n    return index;\\r\\n};\\r\\n\\r\\nprivate func _chargeFee(from: Principal, fee: Nat) {\\r\\n    if(fee > 0) {\\r\\n        _transfer(from, feeTo, fee);\\r\\n    };\\r\\n};\\r\\n\\r\\nprivate func _transfer(from: Principal, to: Principal, value: Nat) {\\r\\n    let from_balance = _balanceOf(from);\\r\\n    let from_balance_new : Nat = from_balance - value;\\r\\n    if (from_balance_new != 0) { balances.put(from, from_balance_new); }\\r\\n    else { balances.delete(from); };\\r\\n\\r\\n    let to_balance = _balanceOf(to);\\r\\n    let to_balance_new : Nat = to_balance + value;\\r\\n    if (to_balance_new != 0) { balances.put(to, to_balance_new); };\\r\\n};\\r\\n\\r\\nprivate func _balanceOf(who: Principal) : Nat {\\r\\n    switch (balances.get(who)) {\\r\\n        case (?balance) { return balance; };\\r\\n        case (_) { return 0; };\\r\\n    }\\r\\n};\\r\\n\\r\\nprivate func _allowance(owner: Principal, spender: Principal) : Nat {\\r\\n    switch(allowances.get(owner)) {\\r\\n        case (?allowance_owner) {\\r\\n            switch(allowance_owner.get(spender)) {\\r\\n                case (?allowance) { return allowance; };\\r\\n                case (_) { return 0; };\\r\\n            }\\r\\n        };\\r\\n        case (_) { return 0; };\\r\\n    }\\r\\n};\\r\\n\\r\\n/*\\r\\n*   Core interfaces:\\r\\n*       update calls:\\r\\n*           transfer/transferFrom/approve\\r\\n*       query calls:\\r\\n*           logo/name/symbol/decimal/totalSupply/balanceOf/allowance/getMetadata\\r\\n*           historySize/getTransaction/getTransactions\\r\\n*/\\r\\n\\r\\n/// Transfers value amount of tokens to Principal to.\\r\\npublic shared(msg) func transfer(to: Principal, value: Nat) : async TxReceipt {\\r\\n    if (_balanceOf(msg.caller) < value + fee) { return #Err(#InsufficientBalance); };\\r\\n    _chargeFee(msg.caller, fee);\\r\\n    _transfer(msg.caller, to, value);\\r\\n    let txid = addRecord(null, #transfer, msg.caller, to, value, fee, Time.now(), #succeeded);\\r\\n    return #Ok(txid);\\r\\n};\\r\\n\\r\\n/// Transfers value amount of tokens from Principal from to Principal to.\\r\\npublic shared(msg) func transferFrom(from: Principal, to: Principal, value: Nat) : async TxReceipt {\\r\\n    if (_balanceOf(from) < value + fee) { return #Err(#InsufficientBalance); };\\r\\n    let allowed : Nat = _allowance(from, msg.caller);\\r\\n    if (allowed < value + fee) { return #Err(#InsufficientAllowance); };\\r\\n    _chargeFee(from, fee);\\r\\n    _transfer(from, to, value);\\r\\n    let allowed_new : Nat = allowed - value - fee;\\r\\n    if (allowed_new != 0) {\\r\\n        let allowance_from = _unwrap(allowances.get(from));\\r\\n        allowance_from.put(msg.caller, allowed_new);\\r\\n        allowances.put(from, allowance_from);\\r\\n    } else {\\r\\n        if (allowed != 0) {\\r\\n            let allowance_from = _unwrap(allowances.get(from));\\r\\n            allowance_from.delete(msg.caller);\\r\\n            if (allowance_from.size() == 0) { allowances.delete(from); }\\r\\n            else { allowances.put(from, allowance_from); };\\r\\n        };\\r\\n    };\\r\\n    let txid = addRecord(?msg.caller, #transferFrom, from, to, value, fee, Time.now(), #succeeded);\\r\\n    return #Ok(txid);\\r\\n};\\r\\n\\r\\n/// Allows spender to withdraw from your account multiple times, up to the value amount.\\r\\n/// If this function is called again it overwrites the current allowance with value.\\r\\npublic shared(msg) func approve(spender: Principal, value: Nat) : async TxReceipt {\\r\\n    if(_balanceOf(msg.caller) < fee) { return #Err(#InsufficientBalance); };\\r\\n    _chargeFee(msg.caller, fee);\\r\\n    let v = value + fee;\\r\\n    if (value == 0 and Option.isSome(allowances.get(msg.caller))) {\\r\\n        let allowance_caller = _unwrap(allowances.get(msg.caller));\\r\\n        allowance_caller.delete(spender);\\r\\n        if (allowance_caller.size() == 0) { allowances.delete(msg.caller); }\\r\\n        else { allowances.put(msg.caller, allowance_caller); };\\r\\n    } else if (value != 0 and Option.isNull(allowances.get(msg.caller))) {\\r\\n        var temp = HashMap.HashMap<Principal, Nat>(1, Principal.equal, Principal.hash);\\r\\n        temp.put(spender, v);\\r\\n        allowances.put(msg.caller, temp);\\r\\n    } else if (value != 0 and Option.isSome(allowances.get(msg.caller))) {\\r\\n        let allowance_caller = _unwrap(allowances.get(msg.caller));\\r\\n        allowance_caller.put(spender, v);\\r\\n        allowances.put(msg.caller, allowance_caller);\\r\\n    };\\r\\n    let txid = addRecord(null, #approve, msg.caller, spender, v, fee, Time.now(), #succeeded);\\r\\n    return #Ok(txid);\\r\\n};\\r\\n\\r\\npublic shared(msg) func mint(to: Principal, amount: Nat): async TxReceipt {\\r\\n    if(msg.caller != owner_) {\\r\\n        return #Err(#Unauthorized);\\r\\n    };\\r\\n    let to_balance = _balanceOf(to);\\r\\n    totalSupply_ += amount;\\r\\n    balances.put(to, to_balance + amount);\\r\\n    let txid = addRecord(?msg.caller, #mint, blackhole, to, amount, 0, Time.now(), #succeeded);\\r\\n    return #Ok(txid);\\r\\n};\\r\\n\\r\\npublic shared(msg) func burn(amount: Nat): async TxReceipt {\\r\\n    let from_balance = _balanceOf(msg.caller);\\r\\n    if(from_balance < amount) {\\r\\n        return #Err(#InsufficientBalance);\\r\\n    };\\r\\n    totalSupply_ -= amount;\\r\\n    balances.put(msg.caller, from_balance - amount);\\r\\n    let txid = addRecord(?msg.caller, #burn, msg.caller, blackhole, amount, 0, Time.now(), #succeeded);\\r\\n    return #Ok(txid);\\r\\n};\\r\\n\\r\\npublic query func logo() : async Text {\\r\\n    return logo_;\\r\\n};\\r\\n\\r\\npublic query func name() : async Text {\\r\\n    return name_;\\r\\n};\\r\\n\\r\\npublic query func symbol() : async Text {\\r\\n    return symbol_;\\r\\n};\\r\\n\\r\\npublic query func decimals() : async Nat8 {\\r\\n    return decimals_;\\r\\n};\\r\\n\\r\\npublic query func totalSupply() : async Nat {\\r\\n    return totalSupply_;\\r\\n};\\r\\n\\r\\npublic query func getTokenFee() : async Nat {\\r\\n    return fee;\\r\\n};\\r\\n\\r\\npublic query func balanceOf(who: Principal) : async Nat {\\r\\n    return _balanceOf(who);\\r\\n};\\r\\n\\r\\npublic query func allowance(owner: Principal, spender: Principal) : async Nat {\\r\\n    return _allowance(owner, spender);\\r\\n};\\r\\n\\r\\npublic query func getMetadata() : async Metadata {\\r\\n    return {\\r\\n        logo = logo_;\\r\\n        name = name_;\\r\\n        symbol = symbol_;\\r\\n        decimals = decimals_;\\r\\n        totalSupply = totalSupply_;\\r\\n        owner = owner_;\\r\\n        fee = fee;\\r\\n    };\\r\\n};\\r\\n\\r\\n/// Get transaction history size\\r\\npublic query func historySize() : async Nat {\\r\\n    return ops.size();\\r\\n};\\r\\n\\r\\n/// Get transaction by index.\\r\\npublic query func getTransaction(index: Nat) : async TxRecord {\\r\\n    return ops[index];\\r\\n};\\r\\n\\r\\n/// Get history\\r\\npublic query func getTransactions(start: Nat, limit: Nat) : async [TxRecord] {\\r\\n    var ret: [TxRecord] = [];\\r\\n    var i = start;\\r\\n    while(i < start + limit and i < ops.size()) {\\r\\n        ret := Array.append(ret, [ops[i]]);\\r\\n        i += 1;\\r\\n    };\\r\\n    return ret;\\r\\n};\\r\\n\\r\\n/*\\r\\n*   Optional interfaces:\\r\\n*       setName/setLogo/setFee/setFeeTo/setOwner\\r\\n*       getUserTransactionsAmount/getUserTransactions\\r\\n*       getTokenInfo/getHolders/getUserApprovals\\r\\n*/\\r\\npublic shared(msg) func setName(name: Text) {\\r\\n    assert(msg.caller == owner_);\\r\\n    name_ := name;\\r\\n};\\r\\n\\r\\npublic shared(msg) func setLogo(logo: Text) {\\r\\n    assert(msg.caller == owner_);\\r\\n    logo_ := logo;\\r\\n};\\r\\n\\r\\npublic shared(msg) func setFeeTo(to: Principal) {\\r\\n    assert(msg.caller == owner_);\\r\\n    feeTo := to;\\r\\n};\\r\\n\\r\\npublic shared(msg) func setFee(_fee: Nat) {\\r\\n    assert(msg.caller == owner_);\\r\\n    fee := _fee;\\r\\n};\\r\\n\\r\\npublic shared(msg) func setOwner(_owner: Principal) {\\r\\n    assert(msg.caller == owner_);\\r\\n    owner_ := _owner;\\r\\n};\\r\\n\\r\\npublic query func getUserTransactionAmount(a: Principal) : async Nat {\\r\\n    var res: Nat = 0;\\r\\n    for (i in ops.vals()) {\\r\\n        if (i.caller == ?a or i.from == a or i.to == a) {\\r\\n            res += 1;\\r\\n        };\\r\\n    };\\r\\n    return res;\\r\\n};\\r\\n\\r\\npublic query func getUserTransactions(a: Principal, start: Nat, limit: Nat) : async [TxRecord] {\\r\\n    var res: [TxRecord] = [];\\r\\n    var index: Nat = 0;\\r\\n    for (i in ops.vals()) {\\r\\n        if (i.caller == ?a or i.from == a or i.to == a) {\\r\\n            if(index >= start and index < start + limit) {\\r\\n                res := Array.append<TxRecord>(res, [i]);\\r\\n            };\\r\\n            index += 1;\\r\\n        };\\r\\n    };\\r\\n    return res;\\r\\n};\\r\\n\\r\\npublic type TokenInfo = {\\r\\n    metadata: Metadata;\\r\\n    feeTo: Principal;\\r\\n    // status info\\r\\n    historySize: Nat;\\r\\n    deployTime: Time.Time;\\r\\n    holderNumber: Nat;\\r\\n    cycles: Nat;\\r\\n};\\r\\npublic query func getTokenInfo(): async TokenInfo {\\r\\n    {\\r\\n        metadata = {\\r\\n            logo = logo_;\\r\\n            name = name_;\\r\\n            symbol = symbol_;\\r\\n            decimals = decimals_;\\r\\n            totalSupply = totalSupply_;\\r\\n            owner = owner_;\\r\\n            fee = fee;\\r\\n        };\\r\\n        feeTo = feeTo;\\r\\n        historySize = ops.size();\\r\\n        deployTime = genesis.timestamp;\\r\\n        holderNumber = balances.size();\\r\\n        cycles = ExperimentalCycles.balance();\\r\\n    }\\r\\n};\\r\\n\\r\\npublic query func getHolders(start: Nat, limit: Nat) : async [(Principal, Nat)] {\\r\\n    let temp =  Iter.toArray(balances.entries());\\r\\n    func order (a: (Principal, Nat), b: (Principal, Nat)) : Order.Order {\\r\\n        return Nat.compare(b.1, a.1);\\r\\n    };\\r\\n    let sorted = Array.sort(temp, order);\\r\\n    let limit_: Nat = if(start + limit > temp.size()) {\\r\\n        temp.size() - start\\r\\n    } else {\\r\\n        limit\\r\\n    };\\r\\n    let res = Array.init<(Principal, Nat)>(limit_, (owner_, 0));\\r\\n    for (i in Iter.range(0, limit_ - 1)) {\\r\\n        res[i] := sorted[i+start];\\r\\n    };\\r\\n    return Array.freeze(res);\\r\\n};\\r\\n\\r\\npublic query func getAllowanceSize() : async Nat {\\r\\n    var size : Nat = 0;\\r\\n    for ((k, v) in allowances.entries()) {\\r\\n        size += v.size();\\r\\n    };\\r\\n    return size;\\r\\n};\\r\\n\\r\\npublic query func getUserApprovals(who : Principal) : async [(Principal, Nat)] {\\r\\n    switch (allowances.get(who)) {\\r\\n        case (?allowance_who) {\\r\\n            return Iter.toArray(allowance_who.entries());\\r\\n        };\\r\\n        case (_) {\\r\\n            return [];\\r\\n        };\\r\\n    }\\r\\n};\\r\\n\\r\\n/*\\r\\n* upgrade functions\\r\\n*/\\r\\nsystem func preupgrade() {\\r\\n    balanceEntries := Iter.toArray(balances.entries());\\r\\n    var size : Nat = allowances.size();\\r\\n    var temp : [var (Principal, [(Principal, Nat)])] = Array.init<(Principal, [(Principal, Nat)])>(size, (owner_, []));\\r\\n    size := 0;\\r\\n    for ((k, v) in allowances.entries()) {\\r\\n        temp[size] := (k, Iter.toArray(v.entries()));\\r\\n        size += 1;\\r\\n    };\\r\\n    allowanceEntries := Array.freeze(temp);\\r\\n};\\r\\n\\r\\nsystem func postupgrade() {\\r\\n    balances := HashMap.fromIter<Principal, Nat>(balanceEntries.vals(), 1, Principal.equal, Principal.hash);\\r\\n    balanceEntries := [];\\r\\n    for ((k, v) in allowanceEntries.vals()) {\\r\\n        let allowed_temp = HashMap.fromIter<Principal, Nat>(v.vals(), 1, Principal.equal, Principal.hash);\\r\\n        allowances.put(k, allowed_temp);\\r\\n    };\\r\\n    allowanceEntries := [];\\r\\n};"},"outputs":{},"position":[-416,-400],"name":"CodeMember"},"946":{"id":946,"data":{"name":"doIHaveTokens","editor:advanced":true,"query":true},"outputs":{"params":{"connections":[{"node":1886,"input":"param","data":{}}]},"body":{"connections":[{"node":947,"input":"before","data":{}}]},"caller":{"connections":[{"node":947,"input":"inputs","data":{}}]},"function":{"connections":[]}},"position":[192,-784],"name":"Function"},"947":{"id":947,"data":{"type":{"name":"Bool","generics":[]},"expression":"let caller = {0}; // First input\\r\\n_balanceOf(caller) >= minimum"},"outputs":{"after":{"connections":[]}},"position":[640,-784],"name":"CodeStatement"},"1869":{"id":1869,"data":{"expression":"import HashMap \\"mo:base/HashMap\\";\\r\\nimport Principal \\"mo:base/Principal\\";\\r\\nimport Time \\"mo:base/Time\\";\\r\\nimport Iter \\"mo:base/Iter\\";\\r\\nimport Array \\"mo:base/Array\\";\\r\\nimport Option \\"mo:base/Option\\";\\r\\nimport Order \\"mo:base/Order\\";\\r\\nimport Nat \\"mo:base/Nat\\";\\r\\nimport Result \\"mo:base/Result\\";\\r\\nimport ExperimentalCycles \\"mo:base/ExperimentalCycles\\";\\r\\nimport P \\"mo:base/Prelude\\";"},"outputs":{"result":{"connections":[]}},"position":[-416,-784],"name":"CodeImport"},"1870":{"id":1870,"data":{"widthPixels":418,"text":"DIP20 imports"},"outputs":{},"position":[-416,-832],"name":"Comment"},"1871":{"id":1871,"data":{"widthPixels":419,"text":"DIP20 types, states, and functions"},"outputs":{},"position":[-416,-448],"name":"Comment"},"1874":{"id":1874,"data":{"widthPixels":865,"text":"A custom function extending DIP20"},"outputs":{},"position":[192,-832],"name":"Comment"},"1875":{"id":1875,"data":{"widthPixels":834,"text":"Token configuration"},"outputs":{},"position":[-1344,-832],"name":"Comment"},"1876":{"id":1876,"data":{"widthPixels":1420,"heightPixels":765},"outputs":{},"position":[-1376,-880],"name":"CommentRegion"},"1877":{"id":1877,"data":{"widthPixels":1409,"text":"DIP20: the Internet Computer standard for a fungible token / coin."},"outputs":{},"position":[-1376,-928],"name":"Comment"},"1886":{"id":1886,"data":{"name":"minimum","type":{"name":"Nat","generics":[]}},"outputs":{"value":{"connections":[]}},"position":[416,-608],"name":"Parameter"},"1926":{"id":1926,"data":{"name":"logo_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-1344,-768],"name":"State"},"1927":{"id":1927,"data":{"name":"name_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-1120,-768],"name":"State"},"1929":{"id":1929,"data":{"name":"symbol_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-896,-768],"name":"State"},"1930":{"id":1930,"data":{"name":"decimals_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-1344,-448],"name":"State"},"1931":{"id":1931,"data":{"value":"https://via.placeholder.com/500"},"outputs":{"value":{"connections":[{"node":1926,"input":"initialValue","data":{}}]}},"position":[-1344,-576],"name":"LiteralText"},"1932":{"id":1932,"data":{"value":"ExampleCoin"},"outputs":{"value":{"connections":[{"node":1927,"input":"initialValue","data":{}}]}},"position":[-1120,-576],"name":"LiteralText"},"1933":{"id":1933,"data":{"value":"EXC"},"outputs":{"value":{"connections":[{"node":1929,"input":"initialValue","data":{}}]}},"position":[-896,-576],"name":"LiteralText"},"1934":{"id":1934,"data":{"name":"totalSupply_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-1120,-448],"name":"State"},"1935":{"id":1935,"data":{"value":10000000000},"outputs":{"value":{"connections":[{"node":1934,"input":"initialValue","data":{}}]}},"position":[-1120,-256],"name":"LiteralNat"},"1936":{"id":1936,"data":{"name":"owner_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-672,-768],"name":"State"},"1937":{"id":1937,"data":{"value":"2vxsx-fae"},"outputs":{"value":{"connections":[{"node":1936,"input":"initialValue","data":{}}]}},"position":[-672,-576],"name":"LiteralPrincipal"},"1938":{"id":1938,"data":{"name":"fee_","editor:advanced":true,"stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-896,-448],"name":"State"},"1939":{"id":1939,"data":{"value":1000},"outputs":{"value":{"connections":[{"node":1938,"input":"initialValue","data":{}}]}},"position":[-896,-256],"name":"LiteralNat"},"2017":{"id":2017,"data":{"type":{"name":"Nat8","generics":[]},"input":"2"},"outputs":{"value":{"connections":[{"node":1930,"input":"initialValue","data":{}}]}},"position":[-1344,-256],"name":"LiteralNumber"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Simple Currency","description":"Mint and transfer fungible tokens.","readme":"","language":"motoko","output":"import HashMap \\"mo:base/HashMap\\";\\nimport Option \\"mo:base/Option\\";\\nimport Principal \\"mo:base/Principal\\";\\n\\nactor SimpleCurrency {\\n\\tpublic query func getBalance(user : Principal) : async Nat {\\n\\t\\treturn Option.get(balanceMap.get(user), 0);\\n\\t};\\n\\t\\n\\tpublic shared (send__msg) func send(amount : Nat, receiver : Principal) : async Bool {\\n\\t\\tlet node__1786_success = do {\\n\\t\\t\\tlet node__1786_balance = Option.get(balanceMap.get(send__msg.caller), 0);\\n\\t\\t\\tlet node__1786_amount = amount;\\n\\t\\t\\tif (node__1786_balance >= node__1786_amount) {\\n\\t\\t\\t\\tbalanceMap.put(send__msg.caller, node__1786_balance - node__1786_amount);\\n\\t\\t\\t\\tbalanceMap.put(receiver, Option.get(balanceMap.get(receiver), 0) + node__1786_amount);\\n\\t\\t\\t\\ttrue\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfalse\\n\\t\\t\\t}\\n\\t\\t};\\n\\t\\treturn node__1786_success;\\n\\t};\\n\\t\\n\\tlet balanceMap : HashMap.HashMap<Principal, Nat> = HashMap.HashMap<Principal, Nat>(0, Principal.equal, Principal.hash);\\n\\tbalanceMap.put(Principal.fromText(\\"2vxsx-fae\\"), 1000000000);\\n}","nodes":{"740":{"id":740,"data":{"visibility":"public","name":"getBalance","editor:advanced":false,"query":true},"outputs":{"params":{"connections":[{"node":1032,"input":"param","data":{}}]},"body":{"connections":[{"node":1025,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[-32,-96],"name":"Function"},"1025":{"id":1025,"data":{},"outputs":{},"position":[896,-96],"name":"Return"},"1030":{"id":1030,"data":{"name":"balanceMap","editor:advanced":false,"readonly":true,"stable":false},"outputs":{"setup":{"connections":[{"node":1558,"input":"before","data":{}}]},"value":{"connections":[{"node":1558,"input":"map","data":{}}]}},"position":[576,-608],"name":"State"},"1031":{"id":1031,"data":{"keyType":{"name":"Principal","generics":[]},"valueType":{"name":"Nat","generics":[]}},"outputs":{"value":{"connections":[{"node":1030,"input":"initialValue","data":{}}]}},"position":[352,-576],"name":"NewHashMap"},"1032":{"id":1032,"data":{"name":"user","type":{"name":"Principal","generics":[]}},"outputs":{"value":{"connections":[{"node":1784,"input":"key","data":{}}]}},"position":[224,64],"name":"Parameter"},"1034":{"id":1034,"data":{"name":"send","editor:advanced":true},"outputs":{"params":{"connections":[{"node":1035,"input":"param","data":{}},{"node":1345,"input":"param","data":{}}]},"body":{"connections":[{"node":1786,"input":"before","data":{}}]},"caller":{"connections":[{"node":1786,"input":"from","data":{}}]},"function":{"connections":[]}},"position":[-32,352],"name":"Function"},"1035":{"id":1035,"data":{"name":"amount","type":{"name":"Nat","generics":[]}},"outputs":{"value":{"connections":[{"node":1786,"input":"amount","data":{}}]}},"position":[224,480],"name":"Parameter"},"1182":{"id":1182,"data":{"stateNode":1030},"outputs":{"value":{"connections":[{"node":1784,"input":"map","data":{}}]}},"position":[224,-32],"name":"StateRead"},"1345":{"id":1345,"data":{"name":"receiver","type":{"name":"Principal","generics":[]}},"outputs":{"value":{"connections":[{"node":1786,"input":"to","data":{}}]}},"position":[224,608],"name":"Parameter"},"1378":{"id":1378,"data":{"widthPixels":982,"heightPixels":435},"outputs":{},"position":[-64,320],"name":"CommentRegion"},"1379":{"id":1379,"data":{"widthPixels":1176,"heightPixels":333},"outputs":{},"position":[-64,-128],"name":"CommentRegion"},"1380":{"id":1380,"data":{"widthPixels":300,"heightPixels":350},"outputs":{},"position":[-64,-624],"name":"CommentRegion"},"1381":{"id":1381,"data":{"widthPixels":737,"heightPixels":417},"outputs":{},"position":[304,-624],"name":"CommentRegion"},"1558":{"id":1558,"data":{},"outputs":{"after":{"connections":[]}},"position":[832,-384],"name":"MapPut"},"1704":{"id":1704,"data":{"widthPixels":795,"text":"Create a Hash Map to store token balances, and mint based on the smart contract configuration."},"outputs":{},"position":[304,-672],"name":"Comment"},"1779":{"id":1779,"data":{"widthPixels":288,"text":"Configure the initial token supply."},"outputs":{},"position":[-64,-672],"name":"Comment"},"1780":{"id":1780,"data":{"widthPixels":300,"text":"Return the balance of a given user."},"outputs":{},"position":[-64,-176],"name":"Comment"},"1781":{"id":1781,"data":{"widthPixels":291,"text":"Send tokens to the specified user."},"outputs":{},"position":[-64,272],"name":"Comment"},"1784":{"id":1784,"data":{},"outputs":{"value":{"connections":[{"node":1025,"input":"value","data":{}}]}},"position":[672,-64],"name":"MapGetOrDefault"},"1785":{"id":1785,"data":{"value":0},"outputs":{"value":{"connections":[{"node":1784,"input":"defaultValue","data":{}}]}},"position":[448,96],"name":"LiteralNat"},"1786":{"id":1786,"data":{},"outputs":{"after":{"connections":[{"node":1788,"input":"statement","data":{}}]},"success":{"connections":[{"node":1788,"input":"value","data":{}}]}},"position":[480,352],"name":"MapTransfer"},"1787":{"id":1787,"data":{"stateNode":1030},"outputs":{"value":{"connections":[{"node":1786,"input":"map","data":{}}]}},"position":[224,384],"name":"StateRead"},"1788":{"id":1788,"data":{},"outputs":{},"position":[704,352],"name":"Return"},"1790":{"id":1790,"data":{"value":1000000000},"outputs":{"value":{"connections":[{"node":1558,"input":"value","data":{}}]}},"position":[-32,-368],"name":"LiteralNat"},"1792":{"id":1792,"data":{"widthPixels":174,"text":"Initial token supply"},"outputs":{},"position":[-32,-416],"name":"Comment"},"1822":{"id":1822,"data":{"widthPixels":181,"text":"Initial wallet address"},"outputs":{},"position":[-32,-592],"name":"Comment"},"1827":{"id":1827,"data":{"value":"2vxsx-fae"},"outputs":{"value":{"connections":[{"node":1558,"input":"key","data":{}}]}},"position":[-32,-544],"name":"LiteralPrincipal"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Text Sharing API","description":"A simple Pastebin-style text sharing service.","readme":"","language":"motoko","output":"import HashMap \\"mo:base/HashMap\\";\\nimport Nat32 \\"mo:base/Nat32\\";\\nimport Text \\"mo:base/Text\\";\\n\\nactor TextSharingApi {\\n\\tpublic func share(text : Text) : async Nat32 {\\n\\t\\ttextLookup.put(Text.hash(text), text);\\n\\t\\treturn Text.hash(text);\\n\\t};\\n\\t\\n\\tpublic func get(id : Nat32) : async ?Text {\\n\\t\\treturn textLookup.get(id);\\n\\t};\\n\\t\\n\\tlet textLookup : HashMap.HashMap<Nat32, Text> = HashMap.HashMap<Nat32, Text>(0, Nat32.equal, func (x) {x});\\n}","nodes":{"1828":{"id":1828,"data":{"editor:advanced":false,"name":"share"},"outputs":{"params":{"connections":[{"node":1829,"input":"param","data":{}}]},"body":{"connections":[{"node":1834,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[-352,-224],"name":"Function"},"1829":{"id":1829,"data":{"name":"text","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":1834,"input":"value","data":{}},{"node":1849,"input":"value","data":{}}]}},"position":[-128,-112],"name":"Parameter"},"1830":{"id":1830,"data":{"name":"get"},"outputs":{"params":{"connections":[{"node":1831,"input":"param","data":{}}]},"body":{"connections":[{"node":1851,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[-352,192],"name":"Function"},"1831":{"id":1831,"data":{"name":"id","type":{"name":"Nat32","generics":[]}},"outputs":{"value":{"connections":[{"node":1852,"input":"key","data":{}}]}},"position":[-128,320],"name":"Parameter"},"1832":{"id":1832,"data":{"name":"textLookup","editor:advanced":false,"readonly":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[-672,-224],"name":"State"},"1833":{"id":1833,"data":{"keyType":{"name":"Nat32","generics":[]},"valueType":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":1832,"input":"initialValue","data":{}}]}},"position":[-896,-96],"name":"NewHashMap"},"1834":{"id":1834,"data":{},"outputs":{"after":{"connections":[{"node":1861,"input":"statement","data":{}}]}},"position":[352,-224],"name":"MapPut"},"1849":{"id":1849,"data":{},"outputs":{"hash":{"connections":[{"node":1834,"input":"key","data":{}},{"node":1861,"input":"value","data":{}}]}},"position":[96,-80],"name":"HashText"},"1850":{"id":1850,"data":{"stateNode":1832},"outputs":{"value":{"connections":[{"node":1834,"input":"map","data":{}}]}},"position":[96,-192],"name":"StateRead"},"1851":{"id":1851,"data":{},"outputs":{},"position":[352,192],"name":"Return"},"1852":{"id":1852,"data":{},"outputs":{"value":{"connections":[{"node":1851,"input":"value","data":{}}]}},"position":[128,240],"name":"MapGet"},"1853":{"id":1853,"data":{"stateNode":1832},"outputs":{"value":{"connections":[{"node":1852,"input":"map","data":{}}]}},"position":[-128,224],"name":"StateRead"},"1854":{"id":1854,"data":{"widthPixels":450,"text":"Define a Hash Map to store text values."},"outputs":{},"position":[-928,-304],"name":"Comment"},"1857":{"id":1857,"data":{"widthPixels":1164,"heightPixels":302},"outputs":{},"position":[-384,-256],"name":"CommentRegion"},"1858":{"id":1858,"data":{"widthPixels":940,"heightPixels":299},"outputs":{},"position":[-384,160],"name":"CommentRegion"},"1859":{"id":1859,"data":{"widthPixels":461,"heightPixels":300},"outputs":{},"position":[-928,-256],"name":"CommentRegion"},"1860":{"id":1860,"data":{"widthPixels":1153,"text":"Add a Text entry to the database. Returns the 32-bit hash ID."},"outputs":{},"position":[-384,-304],"name":"Comment"},"1861":{"id":1861,"data":{},"outputs":{},"position":[576,-80],"name":"Return"},"1862":{"id":1862,"data":{"widthPixels":928,"text":"Find a Text entry corresponding to the given ID. Returns an Optional (nullable) Text value."},"outputs":{},"position":[-384,112],"name":"Comment"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"GitHub Quicksort","description":"Import an external library from GitHub.","readme":"","language":"motoko","output":"import Int \\"mo:base/Int\\";\\nimport Quicksort \\"mo:examples/quicksort/src/Quicksort\\";\\n\\nactor GitHubQuicksort {\\n\\tpublic query func sortIntegers(values : [Int]) : async [Int] {\\n\\t\\tQuicksort.sortBy(values, Int.compare);\\n\\t};\\n}","nodes":{"1":{"id":1,"data":{"url":"https://github.com/dfinity/examples/blob/master/motoko/quicksort/src/Quicksort.mo","name":"examples","repository":"dfinity/examples/master/motoko"},"outputs":{"reference":{"connections":[]}},"position":[320,-544],"name":"GithubPackage"},"3":{"id":3,"data":{"name":"sortIntegers","editor:advanced":true,"query":true},"outputs":{"params":{"connections":[{"node":4,"input":"param","data":{}}]},"body":{"connections":[{"node":5,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[320,-160],"name":"Function"},"4":{"id":4,"data":{"name":"values","type":{"name":"Array","generics":[{"name":"Int","generics":[]}]}},"outputs":{"value":{"connections":[]}},"position":[544,32],"name":"Parameter"},"5":{"id":5,"data":{"type":{"name":"Array","generics":[{"name":"Int","generics":[]}]},"expression":"Quicksort.sortBy(values, Int.compare)"},"outputs":{"after":{"connections":[]}},"position":[800,-160],"name":"CodeStatement"},"6":{"id":6,"data":{"path":"mo:base/Int"},"outputs":{"value":{"connections":[]}},"position":[800,-544],"name":"ReferenceImport"},"7":{"id":7,"data":{"path":"mo:examples/quicksort/src/Quicksort"},"outputs":{"value":{"connections":[]}},"position":[800,-448],"name":"ReferenceImport"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Echo","description":"Return a function\'s input value.","readme":"","language":"motoko","output":"actor Echo {\\n\\tpublic query func say(phrase : Text) : async Text {\\n\\t\\treturn phrase;\\n\\t};\\n}","nodes":{"282":{"id":282,"data":{"visibility":"public","name":"say","query":true,"editor:advanced":false},"outputs":{"params":{"connections":[{"node":284,"input":"param","data":{}}]},"body":{"connections":[{"node":285,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[576,288],"name":"Function"},"284":{"id":284,"data":{"name":"phrase","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":285,"input":"value","data":{}}]}},"position":[816,384],"name":"Parameter"},"285":{"id":285,"data":{},"outputs":{},"position":[1072,288],"name":"Return"},"321":{"id":321,"data":{"functionNode":282},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":889,"input":"input","data":{}}]}},"position":[800,704],"name":"FunctionCall"},"322":{"id":322,"data":{"value":"Hello World!"},"outputs":{"value":{"connections":[{"node":321,"input":"args","data":{}}]}},"position":[576,768],"name":"LiteralText"},"876":{"id":876,"data":{"widthPixels":701,"heightPixels":268},"outputs":{},"position":[560,256],"name":"CommentRegion"},"877":{"id":877,"data":{"widthPixels":494,"text":"Define a \\"say()\\" function which returns the input text value."},"outputs":{},"position":[560,208],"name":"Comment"},"878":{"id":878,"data":{"widthPixels":733,"heightPixels":205},"outputs":{},"position":[560,672],"name":"CommentRegion"},"879":{"id":879,"data":{"widthPixels":752,"text":"View the Motoko code for calling the \\"say()\\" function with \\"Hello World!\\" as the input phrase."},"outputs":{},"position":[560,624],"name":"Comment"},"889":{"id":889,"data":{},"outputs":{"reversed":{"connections":[]}},"position":[1040,752],"name":"CompileMotoko"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Counter","description":"Get, set, and increment a state variable.","readme":"","language":"motoko","output":"actor Counter {\\n\\tpublic query func get() : async Nat {\\n\\t\\treturn counter;\\n\\t};\\n\\t\\n\\tpublic func set(n : Nat) : async () {\\n\\t\\tcounter := n;\\n\\t};\\n\\t\\n\\tpublic func inc() : async () {\\n\\t\\tcounter := (counter + 1);\\n\\t};\\n\\t\\n\\tstable var counter : Nat = 0;\\n}","nodes":{"354":{"id":354,"data":{"name":"counter","stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[480,416],"name":"State"},"355":{"id":355,"data":{"visibility":"public","name":"get","query":true},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":358,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[800,416],"name":"Function"},"357":{"id":357,"data":{"stateNode":354},"outputs":{"value":{"connections":[{"node":358,"input":"value","data":{}}]}},"position":[1024,448],"name":"StateRead"},"358":{"id":358,"data":{},"outputs":{},"position":[1248,416],"name":"Return"},"374":{"id":374,"data":{"visibility":"public","name":"set","editor:advanced":false},"outputs":{"params":{"connections":[{"node":378,"input":"param","data":{}}]},"body":{"connections":[{"node":377,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[800,736],"name":"Function"},"375":{"id":375,"data":{"visibility":"public","name":"inc"},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":417,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[800,1056],"name":"Function"},"377":{"id":377,"data":{"stateNode":"354"},"outputs":{"after":{"connections":[]}},"position":[1248,736],"name":"StateUpdate"},"378":{"id":378,"data":{"type":{"name":"Nat","generics":[]},"name":"n"},"outputs":{"value":{"connections":[{"node":377,"input":"value","data":{}}]}},"position":[1024,832],"name":"Parameter"},"415":{"id":415,"data":{},"outputs":{"value":{"connections":[{"node":354,"input":"initialValue","data":{}}]}},"position":[224,544],"name":"LiteralNat"},"417":{"id":417,"data":{"stateNode":"354"},"outputs":{"after":{"connections":[]}},"position":[1440,1056],"name":"StateUpdate"},"418":{"id":418,"data":{"stateNode":354},"outputs":{"value":{"connections":[{"node":419,"input":"left","data":{}}]}},"position":[1024,1120],"name":"StateRead"},"419":{"id":419,"data":{"right":"1"},"outputs":{"result":{"connections":[{"node":417,"input":"value","data":{}}]}},"position":[1232,1152],"name":"Add"},"420":{"id":420,"data":{"widthPixels":476,"heightPixels":288},"outputs":{},"position":[208,400],"name":"CommentRegion"},"421":{"id":421,"data":{"widthPixels":461,"text":"Initialize the \\"counter\\" state to zero."},"outputs":{},"position":[208,368],"name":"Comment"},"422":{"id":422,"data":{"widthPixels":668,"heightPixels":252},"outputs":{},"position":[784,400],"name":"CommentRegion"},"423":{"id":423,"data":{"widthPixels":307,"text":"Get the value of the \\"counter\\" state."},"outputs":{},"position":[784,368],"name":"Comment"},"424":{"id":424,"data":{"widthPixels":668,"heightPixels":266},"outputs":{},"position":[784,704],"name":"CommentRegion"},"425":{"id":425,"data":{"widthPixels":308,"text":"Set the value of the \\"counter\\" state."},"outputs":{},"position":[784,688],"name":"Comment"},"426":{"id":426,"data":{"widthPixels":861,"heightPixels":253},"outputs":{},"position":[784,1040],"name":"CommentRegion"},"427":{"id":427,"data":{"widthPixels":304,"text":"Add 1 to the \\"counter\\" state."},"outputs":{},"position":[784,1008],"name":"Comment"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Calculator","description":"Add, subtract, multiply, and divide integers.","readme":"","language":"motoko","output":"import Int \\"mo:base/Int\\";\\n\\nactor Calculator {\\n\\tpublic func clear() : async Int {\\n\\t\\tcurrent := 0;\\n\\t\\treturn current;\\n\\t};\\n\\t\\n\\tpublic func add(y : Int) : async Int {\\n\\t\\tcurrent := (current + y);\\n\\t\\treturn current;\\n\\t};\\n\\t\\n\\tpublic func subtract(y : Int) : async Int {\\n\\t\\tcurrent := (current - y);\\n\\t\\treturn current;\\n\\t};\\n\\t\\n\\tpublic func multiply(y : Int) : async Int {\\n\\t\\tcurrent := (current * y);\\n\\t\\treturn current;\\n\\t};\\n\\t\\n\\tpublic func divide(y : Int) : async ?Int {\\n\\t\\tif (y != 0) {\\n\\t\\t\\tcurrent := Int.div(current, y);\\n\\t\\t\\treturn ?(Int.div(current, y));\\n\\t\\t} else {\\n\\t\\t\\treturn null;\\n\\t\\t};\\n\\t};\\n\\t\\n\\tstable var current : Int = 0;\\n}","nodes":{"330":{"id":330,"data":{"name":"current","stable":true},"outputs":{"setup":{"connections":[]},"value":{"connections":[{"node":455,"input":"value","data":{}}]}},"position":[1184,-96],"name":"State"},"331":{"id":331,"data":{"visibility":"public","name":"clear"},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":333,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[928,256],"name":"Function"},"332":{"id":332,"data":{},"outputs":{"value":{"connections":[{"node":330,"input":"initialValue","data":{}}]}},"position":[928,-96],"name":"LiteralInt"},"333":{"id":333,"data":{"stateNode":330},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1376,256],"name":"StateUpdate"},"334":{"id":334,"data":{},"outputs":{"value":{"connections":[{"node":333,"input":"value","data":{}}]}},"position":[1168,320],"name":"LiteralInt"},"335":{"id":335,"data":{"visibility":"public","name":"add"},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":340,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[928,544],"name":"Function"},"336":{"id":336,"data":{"visibility":"public","name":"subtract"},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":345,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[928,832],"name":"Function"},"337":{"id":337,"data":{"visibility":"public","name":"multiply"},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":346,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[928,1120],"name":"Function"},"339":{"id":339,"data":{"visibility":"public","name":"divide"},"outputs":{"params":{"connections":[{"node":344,"input":"param","data":{}}]},"body":{"connections":[{"node":1188,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[928,1408],"name":"Function"},"340":{"id":340,"data":{"stateNode":"330"},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,544],"name":"StateUpdate"},"343":{"id":343,"data":{},"outputs":{"result":{"connections":[{"node":340,"input":"value","data":{}}]}},"position":[1616,608],"name":"Add"},"344":{"id":344,"data":{"name":"y","type":{"name":"Int","generics":[]}},"outputs":{"value":{"connections":[{"node":343,"input":"right","data":{}},{"node":348,"input":"right","data":{}},{"node":349,"input":"right","data":{}},{"node":984,"input":"left","data":{}},{"node":1102,"input":"right","data":{}}]}},"position":[1184,960],"name":"Parameter"},"345":{"id":345,"data":{"stateNode":330},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,832],"name":"StateUpdate"},"346":{"id":346,"data":{"stateNode":"330"},"outputs":{"after":{"connections":[{"node":455,"input":"statement","data":{}}]}},"position":[1824,1120],"name":"StateUpdate"},"348":{"id":348,"data":{},"outputs":{"result":{"connections":[{"node":345,"input":"value","data":{}}]}},"position":[1616,896],"name":"Subtract"},"349":{"id":349,"data":{},"outputs":{"result":{"connections":[{"node":346,"input":"value","data":{}}]}},"position":[1616,1184],"name":"Multiply"},"351":{"id":351,"data":{"stateNode":330},"outputs":{"value":{"connections":[{"node":343,"input":"left","data":{}},{"node":348,"input":"left","data":{}},{"node":349,"input":"left","data":{}},{"node":1102,"input":"left","data":{}}]}},"position":[1184,864],"name":"StateRead"},"455":{"id":455,"data":{},"outputs":{},"position":[2336,-32],"name":"Return"},"871":{"id":871,"data":{},"outputs":{"value":{"connections":[{"node":984,"input":"right","data":{}}]}},"position":[1376,1504],"name":"LiteralInt"},"902":{"id":902,"data":{},"outputs":{"result":{"connections":[{"node":1159,"input":"value","data":{}}]},"null":{"connections":[{"node":1100,"input":"value","data":{}}]}},"position":[1856,1632],"name":"Optional"},"984":{"id":984,"data":{},"outputs":{"result":{"connections":[{"node":1188,"input":"condition","data":{}}]}},"position":[1616,1440],"name":"CompareNotEqual"},"1100":{"id":1100,"data":{},"outputs":{},"position":[2208,1744],"name":"Return"},"1101":{"id":1101,"data":{"stateNode":"330"},"outputs":{"after":{"connections":[{"node":1159,"input":"statement","data":{}}]}},"position":[2208,1552],"name":"StateUpdate"},"1102":{"id":1102,"data":{},"outputs":{"result":{"connections":[{"node":1101,"input":"value","data":{}},{"node":902,"input":"input","data":{}}]}},"position":[1616,1600],"name":"DivideInt"},"1159":{"id":1159,"data":{},"outputs":{},"position":[2432,1472],"name":"Return"},"1188":{"id":1188,"data":{},"outputs":{"trueCase":{"connections":[{"node":1101,"input":"before","data":{}}]},"falseCase":{"connections":[{"node":1100,"input":"statement","data":{}}]},"after":{"connections":[]}},"position":[1984,1408],"name":"Conditional"},"1189":{"id":1189,"data":{"widthPixels":497,"heightPixels":283},"outputs":{},"position":[896,-112],"name":"CommentRegion"},"1190":{"id":1190,"data":{"widthPixels":457,"text":"State representing the current value in the calculator."},"outputs":{},"position":[896,-144],"name":"Comment"},"1191":{"id":1191,"data":{"widthPixels":680,"heightPixels":213},"outputs":{},"position":[896,240],"name":"CommentRegion"},"1192":{"id":1192,"data":{"widthPixels":354,"text":"Clear the current state (reset back to 0)."},"outputs":{},"position":[896,208],"name":"Comment"},"1193":{"id":1193,"data":{"widthPixels":1122,"heightPixels":214},"outputs":{},"position":[896,528],"name":"CommentRegion"},"1194":{"id":1194,"data":{"widthPixels":386,"text":"Add the input parameter to the current state."},"outputs":{},"position":[896,496],"name":"Comment"},"1195":{"id":1195,"data":{"widthPixels":1120,"heightPixels":209},"outputs":{},"position":[896,816],"name":"CommentRegion"},"1196":{"id":1196,"data":{"widthPixels":397,"text":"Subtract the parameter from the current state."},"outputs":{},"position":[896,784],"name":"Comment"},"1199":{"id":1199,"data":{"widthPixels":1119,"heightPixels":207},"outputs":{},"position":[896,1104],"name":"CommentRegion"},"1200":{"id":1200,"data":{"widthPixels":423,"text":"Multiply the input parameter by the current state."},"outputs":{},"position":[896,1072],"name":"Comment"},"1201":{"id":1201,"data":{"widthPixels":1738,"heightPixels":446},"outputs":{},"position":[896,1392],"name":"CommentRegion"},"1202":{"id":1202,"data":{"widthPixels":703,"text":"Divide the current state by the input parameter. If given 0, the function returns \\"null\\"."},"outputs":{},"position":[896,1360],"name":"Comment"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"Phone Book","description":"Manage persistent key-value storage.","readme":"","language":"motoko","output":"import HashMap \\"mo:base/HashMap\\";\\nimport Text \\"mo:base/Text\\";\\n\\nactor PhoneBook {\\n\\tpublic query func find(name : Text) : async ?(Text, Text) {\\n\\t\\treturn phonebook.get(name);\\n\\t};\\n\\t\\n\\tpublic func insert(name : Text, phone : Text, address : Text) : async () {\\n\\t\\tphonebook.put(name, (phone, address));\\n\\t};\\n\\t\\n\\tvar phonebook : HashMap.HashMap<Text, (Text, Text)> = HashMap.HashMap<Text, (Text, Text)>(0, Text.equal, Text.hash);\\n}","nodes":{"326":{"id":326,"data":{"name":"phonebook"},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[960,-32],"name":"State"},"327":{"id":327,"data":{"keyType":{"name":"Text","generics":[]},"valueType":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":326,"input":"initialValue","data":{}}]}},"position":[704,-32],"name":"NewHashMap"},"428":{"id":428,"data":{"visibility":"public","name":"insert"},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}},{"node":433,"input":"param","data":{}},{"node":489,"input":"param","data":{}}]},"body":{"connections":[{"node":430,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[960,640],"name":"Function"},"429":{"id":429,"data":{"visibility":"public","name":"find","query":true,"editor:advanced":false},"outputs":{"params":{"connections":[{"node":432,"input":"param","data":{}}]},"body":{"connections":[{"node":450,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[960,288],"name":"Function"},"430":{"id":430,"data":{},"outputs":{"after":{"connections":[]}},"position":[1632,640],"name":"MapPut"},"431":{"id":431,"data":{"stateNode":326},"outputs":{"value":{"connections":[{"node":451,"input":"map","data":{}},{"node":430,"input":"map","data":{}}]}},"position":[1216,320],"name":"StateRead"},"432":{"id":432,"data":{"name":"name","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":451,"input":"key","data":{}},{"node":430,"input":"key","data":{}}]}},"position":[1184,432],"name":"Parameter"},"433":{"id":433,"data":{"name":"phone","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":944,"input":"left","data":{}}]}},"position":[1184,736],"name":"Parameter"},"450":{"id":450,"data":{},"outputs":{},"position":[1840,288],"name":"Return"},"451":{"id":451,"data":{},"outputs":{"value":{"connections":[{"node":450,"input":"value","data":{}}]}},"position":[1632,352],"name":"MapGet"},"467":{"id":467,"data":{"left":{"name":"Text","generics":[]},"right":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":327,"input":"valueType","data":{}}]}},"position":[448,-32],"name":"LiteralPairType"},"489":{"id":489,"data":{"name":"address","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":944,"input":"right","data":{}}]}},"position":[1184,880],"name":"Parameter"},"895":{"id":895,"data":{"widthPixels":752,"heightPixels":267},"outputs":{},"position":[416,-64],"name":"CommentRegion"},"896":{"id":896,"data":{"widthPixels":387,"text":"The phonebook is represented by a Hash Map data structure for efficient key-value lookups."},"outputs":{},"position":[1200,80],"name":"Comment"},"897":{"id":897,"data":{"widthPixels":1111,"heightPixels":283},"outputs":{},"position":[928,272],"name":"CommentRegion"},"898":{"id":898,"data":{"widthPixels":546,"text":"Find the phone number and address associated with a given name."},"outputs":{},"position":[928,240],"name":"Comment"},"899":{"id":899,"data":{"widthPixels":921,"heightPixels":409},"outputs":{},"position":[928,608],"name":"CommentRegion"},"900":{"id":900,"data":{"widthPixels":456,"text":"Add a phone number and address into the phonebook."},"outputs":{},"position":[928,592],"name":"Comment"},"941":{"id":941,"data":{"widthPixels":161,"text":"(phone, address)"},"outputs":{},"position":[448,96],"name":"Comment"},"942":{"id":942,"data":{"widthPixels":741,"text":"Create an empty Hash Map with text keys and (name, address) pairs of values."},"outputs":{},"position":[416,-96],"name":"Comment"},"943":{"id":943,"data":{"widthPixels":159,"text":"(phone, address)"},"outputs":{},"position":[1408,880],"name":"Comment"},"944":{"id":944,"data":{},"outputs":{"value":{"connections":[{"node":430,"input":"value","data":{}}]}},"position":[1408,752],"name":"LiteralPair"}}}')},function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"To-Do List","description":"Create, display, and complete a list of tasks.","readme":"","language":"motoko","output":"import Array \\"mo:base/Array\\";\\nimport Nat \\"mo:base/Nat\\";\\n\\nactor ToDoList {\\n\\tpublic type ToDo = {\\n\\t\\tid: Nat;\\n\\t\\tdescription: Text;\\n\\t\\tcompleted: Bool;\\n\\t};\\n\\t\\n\\tprivate func newToDoList() : [ToDo] {\\n\\t\\treturn [];\\n\\t};\\n\\t\\n\\tpublic func clear() : async () {\\n\\t\\ttoDoList := newToDoList();\\n\\t};\\n\\t\\n\\tpublic func show() : async Text {\\n\\t\\treturn do {\\n\\t\\t\\tvar output : Text = \\"\\\\n___TO-DOs___\\";\\n\\t\\t\\tfor (todo : ToDo in toDoList.vals()) {\\n\\t\\t\\t\\toutput #= \\"\\\\n(\\" # Nat.toText(todo.id) # \\") \\" # todo.description;\\n\\t\\t\\t\\tif (todo.completed) { output #= \\" \u2714\\"; };\\n\\t\\t\\t};\\n\\t\\t\\toutput\\n\\t\\t};\\n\\t};\\n\\t\\n\\tpublic func add(description : Text) : async () {\\n\\t\\ttoDoList := Array.append([do {\\n\\t\\t\\t{\\n\\t\\t\\t\\tid = do {\\n\\t\\t\\t\\t\\tlet nextId_ = nextId;\\n\\t\\t\\t\\t\\tnextId += 1;\\n\\t\\t\\t\\t\\tnextId_\\n\\t\\t\\t\\t};\\n\\t\\t\\t\\tdescription = description;\\n\\t\\t\\t\\tcompleted = false;\\n\\t\\t\\t} : ToDo\\n\\t\\t}], toDoList);\\n\\t};\\n\\t\\n\\tpublic func complete(id : Nat) : async () {\\n\\t\\ttoDoList := do {\\n\\t\\t\\tArray.map<ToDo, ToDo>(toDoList, func (todo : ToDo) : ToDo {\\n\\t\\t\\t\\tif (todo.id == id) {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tid = todo.id;\\n\\t\\t\\t\\t\\t\\tdescription = todo.description;\\n\\t\\t\\t\\t\\t\\tcompleted = true;\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t};\\n\\t\\t\\t\\ttodo\\n\\t\\t\\t})\\n\\t\\t};\\n\\t};\\n\\t\\n\\tvar toDoList : [ToDo] = newToDoList();\\n\\t\\n\\tprivate stable var nextId : Nat = 0;\\n}","nodes":{"562":{"id":562,"data":{"visibility":"public","name":"show","asyncKind":"query"},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":579,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[992,448],"name":"Function"},"563":{"id":563,"data":{"visibility":"public","name":"clear","asyncKind":"async"},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":646,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[992,128],"name":"Function"},"564":{"id":564,"data":{"name":"toDoList","editor:advanced":false,"readonly":false},"outputs":{"setup":{"connections":[]},"value":{"connections":[]}},"position":[992,-160],"name":"State"},"565":{"id":565,"data":{"visibility":"public","name":"add","asyncKind":"async"},"outputs":{"params":{"connections":[{"node":759,"input":"param","data":{}}]},"body":{"connections":[{"node":828,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[992,768],"name":"Function"},"566":{"id":566,"data":{},"outputs":{"value":{"connections":[{"node":662,"input":"value","data":{}}]}},"position":[1248,-448],"name":"NewArray"},"567":{"id":567,"data":{"visibility":"public","name":"ToDo"},"outputs":{"type":{"connections":[{"node":566,"input":"itemType","data":{}}]}},"position":[992,-704],"name":"TypeMember"},"568":{"id":568,"data":{"expression":"{\\r\\n    id: Nat;\\r\\n    description: Text;\\r\\n    completed: Bool;\\r\\n}","type":{"name":"Custom","generics":[]}},"outputs":{"result":{"connections":[{"node":567,"input":"typeInput","data":{}}]}},"position":[480,-576],"name":"CodeType"},"578":{"id":578,"data":{"visibility":"public","name":"complete","asyncKind":"async"},"outputs":{"params":{"connections":[{"node":763,"input":"param","data":{}}]},"body":{"connections":[{"node":766,"input":"before","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[992,1120],"name":"Function"},"579":{"id":579,"data":{},"outputs":{},"position":[2080,448],"name":"Return"},"646":{"id":646,"data":{"stateNode":"564"},"outputs":{"after":{"connections":[]}},"position":[1472,128],"name":"StateUpdate"},"647":{"id":647,"data":{"visibility":"private","name":"newToDoList","editor:advanced":false},"outputs":{"params":{"connections":[]},"body":{"connections":[{"node":662,"input":"statement","data":{}}]},"caller":{"connections":[]},"function":{"connections":[]}},"position":[992,-480],"name":"Function"},"662":{"id":662,"data":{},"outputs":{},"position":[1472,-480],"name":"Return"},"677":{"id":677,"data":{"stateNode":564},"outputs":{"value":{"connections":[{"node":831,"input":"inputs","data":{}}]}},"position":[1248,480],"name":"StateRead"},"694":{"id":694,"data":{"functionNode":"647"},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":564,"input":"initialValue","data":{}}]}},"position":[736,-160],"name":"FunctionCall"},"759":{"id":759,"data":{"name":"description","type":{"name":"Text","generics":[]}},"outputs":{"value":{"connections":[{"node":773,"input":"inputs","data":{}}]}},"position":[1248,928],"name":"Parameter"},"763":{"id":763,"data":{"name":"id","type":{"name":"Nat","generics":[]}},"outputs":{"value":{"connections":[{"node":765,"input":"inputs","data":{}}]}},"position":[1248,1184],"name":"Parameter"},"765":{"id":765,"data":{"expression":"Array.map<ToDo, ToDo>({1}, func (todo : ToDo) : ToDo {\\r\\n  if (todo.id == {0}) {\\r\\n    return {\\r\\n      {0} = todo.id;\\r\\n      description = todo.description;\\r\\n      completed = true;\\r\\n    };\\r\\n  };\\r\\n  todo\\r\\n})","type":{"name":"MutableArray","generics":[{"name":"Custom","generics":[]}]}},"outputs":{"result":{"connections":[{"node":766,"input":"value","data":{}}]}},"position":[1536,1152],"name":"CodeValue"},"766":{"id":766,"data":{"stateNode":564},"outputs":{"after":{"connections":[]}},"position":[2080,1120],"name":"StateUpdate"},"769":{"id":769,"data":{"functionNode":647},"outputs":{"after":{"connections":[]},"value":{"connections":[{"node":646,"input":"value","data":{}}]}},"position":[1248,160],"name":"FunctionCall"},"773":{"id":773,"data":{"type":{"name":"Custom","generics":[]},"expression":"{\\r\\n  id = {0};\\r\\n  description = {1};\\r\\n  completed = false;\\r\\n} : ToDo"},"outputs":{"result":{"connections":[{"node":828,"input":"value","data":{}}]}},"position":[1536,800],"name":"CodeValue"},"828":{"id":828,"data":{},"outputs":{"after":{"connections":[]}},"position":[2080,768],"name":"ArrayPrepend"},"829":{"id":829,"data":{"stateNode":"564"},"outputs":{"value":{"connections":[{"node":828,"input":"array","data":{}}]}},"position":[1840,688],"name":"StateRead"},"830":{"id":830,"data":{"stateNode":564},"outputs":{"value":{"connections":[{"node":765,"input":"inputs","data":{}}]}},"position":[1248,1328],"name":"StateRead"},"831":{"id":831,"data":{"type":{"name":"Text","generics":[]},"expression":"var output : Text = \\"\\\\n___TO-DOs___\\";\\r\\nfor (todo : ToDo in {0}.vals()) {\\r\\n  output #= \\"\\\\n(\\" # {1}.toText(todo.id) # \\") \\" # todo.description;\\r\\n  if (todo.completed) { output #= \\" \u2714\\"; };\\r\\n};\\r\\noutput"},"outputs":{"result":{"connections":[{"node":579,"input":"value","data":{}}]}},"position":[1536,384],"name":"CodeValue"},"1000":{"id":1000,"data":{"path":"mo:base/Nat"},"outputs":{"value":{"connections":[{"node":831,"input":"inputs","data":{}}]}},"position":[1248,576],"name":"ReferenceImport"},"1003":{"id":1003,"data":{"widthPixels":1234,"heightPixels":845},"outputs":{},"position":[448,-768],"name":"CommentRegion"},"1004":{"id":1004,"data":{"widthPixels":158,"text":"To-do item type"},"outputs":{},"position":[992,-752],"name":"Comment"},"1005":{"id":1005,"data":{"widthPixels":721,"heightPixels":202},"outputs":{},"position":[960,112],"name":"CommentRegion"},"1006":{"id":1006,"data":{"widthPixels":320,"text":"clear()\\n\\nRemove everything from the to-do list."},"outputs":{},"position":[576,160],"name":"Comment"},"1007":{"id":1007,"data":{"widthPixels":1328,"heightPixels":300},"outputs":{},"position":[960,352],"name":"CommentRegion"},"1008":{"id":1008,"data":{"widthPixels":382,"text":"show()\\n\\nReturn the to-do list as human-readable text."},"outputs":{},"position":[512,480],"name":"Comment"},"1010":{"id":1010,"data":{"widthPixels":1328,"heightPixels":393},"outputs":{},"position":[960,672],"name":"CommentRegion"},"1011":{"id":1011,"data":{"widthPixels":449,"text":"add(description)\\n\\nCreate and add an item to the to-do list. The item is assigned a unique ID based on the \\"nextId\\" state."},"outputs":{},"position":[448,832],"name":"Comment"},"1013":{"id":1013,"data":{"widthPixels":1328,"heightPixels":358},"outputs":{},"position":[960,1088],"name":"CommentRegion"},"1014":{"id":1014,"data":{"widthPixels":322,"text":"complete(id)\\n\\nMark an item on the list as complete."},"outputs":{},"position":[576,1184],"name":"Comment"},"1015":{"id":1015,"data":{"widthPixels":158,"text":"Empty array"},"outputs":{},"position":[1248,-288],"name":"Comment"},"1016":{"id":1016,"data":{"widthPixels":161,"text":"Array state"},"outputs":{},"position":[992,-208],"name":"Comment"},"1017":{"id":1017,"data":{"widthPixels":160,"text":"Initial to-do list"},"outputs":{},"position":[736,-208],"name":"Comment"},"1018":{"id":1018,"data":{"widthPixels":401,"text":"A custom record type describing a to-do item"},"outputs":{},"position":[480,-624],"name":"Comment"},"1019":{"id":1019,"data":{"widthPixels":243,"text":"Create a \\"ToDo\\" record value"},"outputs":{},"position":[1536,752],"name":"Comment"},"1020":{"id":1020,"data":{"widthPixels":438,"text":"Add \\"completed = true\\" to any item with the given ID"},"outputs":{},"position":[1536,1104],"name":"Comment"},"1021":{"id":1021,"data":{"widthPixels":408,"text":"Pretty-print the list using Motoko syntax"},"outputs":{},"position":[1536,336],"name":"Comment"},"1022":{"id":1022,"data":{"widthPixels":185,"text":"Import from Motoko base library"},"outputs":{},"position":[1248,672],"name":"Comment"},"1023":{"id":1023,"data":{"name":"nextId"},"outputs":{"value":{"connections":[]},"nextValue":{"connections":[{"node":773,"input":"inputs","data":{}}]}},"position":[1248,800],"name":"CounterState"}}}')},,function(t,e,n){var r={"./Actor.js":156,"./ActorClass.js":157,"./Add.js":158,"./And.js":159,"./ArrayAppend.js":160,"./ArrayAppended.js":161,"./ArrayFilter.js":162,"./ArrayGet.js":163,"./ArrayMap.js":164,"./ArrayPrepend.js":165,"./ArrayPut.js":166,"./Assert.js":167,"./Await.js":168,"./Class.js":169,"./CodeImport.js":170,"./CodeMember.js":171,"./CodeReference.js":172,"./CodeStatement.js":173,"./CodeType.js":174,"./CodeValue.js":175,"./CollectionGet.js":176,"./CollectionPut.js":177,"./CollectionSize.js":178,"./Comment.js":262,"./CommentRegion.js":263,"./CompareEqual.js":179,"./CompareGreater.js":180,"./CompareGreaterEqual.js":181,"./CompareLess.js":182,"./CompareLessEqual.js":183,"./CompareNotEqual.js":184,"./CompileMotoko.js":185,"./CompileType.js":188,"./Conditional.js":189,"./ConditionalValue.js":190,"./CounterState.js":191,"./DebugPrint.js":192,"./Divide.js":193,"./DivideInt.js":194,"./Function.js":104,"./FunctionCall.js":195,"./GithubPackage.js":264,"./HashText.js":200,"./LiteralBool.js":201,"./LiteralCustomType.js":202,"./LiteralFloat.js":203,"./LiteralIdentifier.js":204,"./LiteralInt.js":205,"./LiteralNat.js":206,"./LiteralNumber.js":207,"./LiteralPair.js":208,"./LiteralPairType.js":209,"./LiteralPrincipal.js":210,"./LiteralText.js":211,"./LiteralTuple.js":212,"./LiteralTupleType.js":213,"./LiteralType.js":214,"./LoopForIntRange.js":215,"./LoopWhile.js":216,"./MainActor.js":217,"./MainInstaller.js":218,"./MainParameter.js":103,"./MainParameterRead.js":219,"./MapGet.js":220,"./MapGetOrDefault.js":221,"./MapPut.js":222,"./MapRemove.js":223,"./MapTransfer.js":224,"./Max.js":225,"./Min.js":226,"./Multiply.js":227,"./NewArray.js":56,"./NewHashMap.js":228,"./Not.js":229,"./Null.js":230,"./Object.js":231,"./Optional.js":232,"./OptionalOrDefault.js":72,"./OptionalUnwrap.js":233,"./Or.js":234,"./Parameter.js":235,"./ReferenceFunction.js":236,"./ReferenceImport.js":237,"./ReferencePathName.js":238,"./ReferenceType.js":239,"./ReferenceValue.js":240,"./Return.js":241,"./SetupValue.js":242,"./SplitPair.js":243,"./State.js":35,"./StateRead.js":244,"./StateUpdate.js":245,"./Subtract.js":246,"./TextConcat.js":247,"./TextSize.js":248,"./TypeMember.js":249,"./TypeMemberReference.js":250,"./ValueCall.js":251,"./Variable.js":252};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=155},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(14),i={info:"An actor which can be deployed as a smart contract",category:a.a,topLeft:"actor",topRight:"members",hidden:!0,computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t).name;return n&&"actor ".concat(n)},inputs:[{key:"name",type:r.p,optional:!0},{key:"members",type:r.s,multi:!0}],outputs:[{key:"actor",type:r.i,toMotoko:function(t){var e=t.name,n=t.members;return["actor",e,Object(o.f)(Object(o.b)(n))]}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(28),i=n(14),c={info:"An object-oriented class of actors",category:a.a,topLeft:"parent",topRight:"members",hidden:!0,computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t),r=n.name,a=n.params;if(r)return"actor class ".concat(r).concat(Object(i.d)(a.join(", ")))},inputs:[{key:"name",type:r.p,optional:!0},{key:"members",type:r.s,multi:!0},{key:"params",type:r.A,multi:!0}],outputs:[{key:"parent",type:r.s,toMotoko:function(t,e,n){var r=t.name,a=t.params,c=t.members,s=e.outputs.get("caller").connections.length;return"".concat(s?"shared(".concat(Object(o.a)(e),") "):"","actor class").concat(r?" "+r:"").concat(Object(i.d)(a.join(", "))," = ").concat("this"," ").concat(Object(i.f)(Object(i.b)(c)))}},{key:"caller",type:r.B,toMotoko:function(t,e,n){return"".concat(Object(o.a)(e),".caller")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=Object(r.a)(Object(r.a)({},Object(a.a)("+",(function(t,e){return t+e}))),{},{info:"Add two numbers"});e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=Object(r.a)(Object(r.a)({},Object(a.c)("and",(function(t,e){return t&&e}))),{},{info:"Return true if-and-only-if both arguments are true"});e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(56),c=n(19),s=Object(a.b)({title:"Append (Array)",info:"Add an item to the end of an array",category:o.b,icon:c.E,inputs:[{key:"array",title:"Array",type:r.d},{key:"value",type:r.I}]},(function(t){var e=t.array,n=t.value;return"".concat(e," := ").concat(i.arrayImportRef,".append(").concat(e,", [").concat(n,"]);")}));e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i=n(56),c={title:"Appended (Array)",info:"Return an array with an item added to the end",category:a.b,icon:o.stateWriteIcon,topRight:"result",hidden:!0,inputs:[{key:"array",type:r.d},{key:"item",type:r.I}],outputs:[{key:"result",type:r.I,inferType:function(t){var e=t.array;if(r.d.isSubtype(e))return e.generics[0]},toMotoko:function(t){var e=t.array,n=t.item;return"".concat(i.arrayImportRef,".append(").concat(e,", ").concat(n,");")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(19),i=n(28),c=n(56),s=n(14),u={title:"Filter Items (Array)",info:'Create a sub-array containing items matching the "Filter" logic',category:a.b,icon:o.s,topRight:"result",inputs:[{key:"array",type:r.d},{key:"body",title:"Filter",type:r.k.of(r.g)}],outputs:[{key:"result",type:r.d,inferType:function(t){return t.array},toMotoko:function(t,e,n){var a=t.array,o=t.body,u=(null===a||void 0===a?void 0:a.generics[0])||r.H,l=n.getTypeString(u);return"".concat(c.arrayImportRef,".filter<").concat(l,">(").concat(a,", func (").concat(Object(i.a)(e)," : ").concat(l,") : Bool ").concat(Object(s.a)(o),")")}},{key:"item",type:r.I,inferType:function(t){var e=t.array;if(r.d.isSubtype(e))return e.generics[0]},toMotoko:function(t,e,n){return Object(i.a)(e)}}]};e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i={title:"Get (Array)",info:"Get the item at a specific index",category:a.b,icon:o.stateReadIcon,topRight:"value",inputs:[{key:"array",type:r.d},{key:"index",type:r.v}],outputs:[{key:"value",type:r.I,inferType:function(t){var e=t.array;if(r.d.isSubtype(e))return e.generics[0]},toMotoko:function(t){var e=t.array,n=t.index;return"".concat(e,"[").concat(n,"]")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(19),i=n(28),c=n(56),s=n(14),u={title:"Replace Items (Array)",info:"Replace each item based on the given logic",category:a.b,icon:o.s,topRight:"body",inputs:[{key:"array",type:r.d},{key:"body",title:"Replace",type:r.k}],outputs:[{key:"result",type:r.d,inferType:function(t){var e=t.body;if(r.k.isSubtype(e))return r.d.of(e.generics[0])},toMotoko:function(t,e,n){var a=t.array,o=t.body,u=(null===a||void 0===a?void 0:a.generics[0])||r.H,l=n.editor.compilers.type.getInput(e,"body")||r.H,p=n.getTypeString(u),d=n.getTypeString(l);return"".concat(c.arrayImportRef,".map<").concat(p,", ").concat(d,">(").concat(a,", func (").concat(Object(i.a)(e)," : ").concat(p,") : ").concat(d," ").concat(Object(s.a)(o),")")}},{key:"item",type:r.I,inferType:function(t){var e=t.array;if(r.d.isSubtype(e))return e.generics[0]},toMotoko:function(t,e,n){return Object(i.a)(e)}}]};e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(56),c=n(19),s=Object(a.b)({title:"Prepend (Array)",info:"Add an item to the beginning of an array",category:o.b,icon:c.D,inputs:[{key:"array",title:"Array",type:r.d},{key:"value",type:r.I}]},(function(t){var e=t.array,n=t.value;return"".concat(e," := ").concat(i.arrayImportRef,".append([").concat(n,"], ").concat(e,");")}));e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(35),c=Object(a.b)({title:"Put (Array)",info:"Set the item at a specific index",category:o.b,icon:i.stateWriteIcon,inputs:[{key:"array",title:"Array (mutable)",type:r.t},{key:"index",type:r.v},{key:"value",type:r.I}]},(function(t){var e=t.array,n=t.index,r=t.value;return"".concat(e,".put(").concat(n,", ").concat(r,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(19),i=Object(a.b)({title:"Assert",info:"If the condition is false, terminate the program",icon:o.m,inputs:[{key:"condition",type:r.g}]},(function(t){var e=t.condition;return"assert ".concat(e,";")}));e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(14),i={title:"(await a)",info:"Wait for an asynchronous value",category:a.l,topRight:"result",inputs:[{key:"input",type:r.e}],outputs:[{key:"result",type:r.I,inferType:function(t){return t.input.generics[0]},toMotoko:function(t){var e=t.input;return Object(o.d)("await ".concat(e))}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(14),i=n(42),c=n(19),s={info:"An object-oriented class",category:a.a,icon:c.d,topLeft:"member",topRight:"members",global:!0,hidden:!0,computeTitle:function(t,e){var n=Object(i.a)(t,e),r=e.compilers.motoko.getInputArgs(t).params;if(n||r.length)return"class ".concat(n||"").concat(Object(o.d)(r.join(", ")))},inputs:[{key:"name",type:r.p},{key:"members",type:r.s,multi:!0},{key:"params",title:"Parameters",type:r.A,multi:!0}],outputs:[{key:"member",type:r.i,toMotoko:function(t,e,n){t.visibility,t.name,t.params,t.members}},{key:"self",type:r.B,advanced:!0,toMotoko:function(t,e,n){return"this"}}],controls:[Object(i.c)()]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(3),o=n(7),i={title:"{ Import }",info:"Custom file imports written in Motoko",topRight:"result",useCases:[n(15).d],category:o.h,icon:o.h.data.icon,width:14,inputs:[Object(r.a)()],outputs:[{key:"result",type:a.C,hidden:!0,toMotoko:function(t){var e=t.inputs,n=t.expression;return Object(r.c)(e,n)}}],controls:[Object(r.b)()]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(3),o=n(7),i=n(15),c=n(42),s=n(45),u=Object(c.b)({title:"{ Member }",info:"Custom actor logic written in Motoko",useCases:[i.d],category:o.h,icon:o.h.data.icon,global:!0,width:14,memberPriority:s.a,inputs:[Object(r.a)()],controls:[Object(r.b)()]},{type:a.s,toMotoko:function(t){var e,n=t.inputs,a=t.expression,o=null===(e=Object(r.c)(n,a))||void 0===e?void 0:e.trimRight();return o&&!o.endsWith(";")&&(o+=";"),o}});e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(3),o=n(7),i=n(15),c=n(80),s={title:"{ Reference }",info:"A reference to a custom type or value",useCases:[i.d],category:o.h,icon:o.h.data.icon,topRight:"result",inputs:[Object(r.a)()],outputs:[{key:"result",type:a.C,toMotoko:function(t){var e=t.inputs,n=t.expression;return Object(r.c)(e,n)}}],controls:[{key:"expression",config:{controlType:c.a,validation:{minLength:1}}}]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(7),o=n(15),i=n(27),c=n(3),s=Object(i.b)({title:"{ Statement }",info:"A custom statement written in Motoko",useCases:[o.d],category:a.h,icon:a.h.data.icon,width:14,inputs:[Object(r.a)(),{key:"type",type:c.F.of(c.I)}],controls:[Object(r.b)()]},(function(t){var e=t.inputs,n=t.expression;return Object(r.c)(e,n)||""}),(function(t){return t.type}));e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(3),o=n(7),i={title:"{ Type }",info:"A custom type expression written in Motoko",useCases:[n(15).d],category:o.h,icon:o.h.data.icon,topRight:"result",width:14,inputs:[Object(r.a)(),{key:"type",type:a.F.of(a.I)}],outputs:[{key:"result",type:a.F.of(a.I),inferType:function(t){return t.type||a.j},toMotoko:function(t){var e=t.inputs,n=t.expression;return Object(r.c)(e,n)}}],controls:[Object(r.b)()]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(3),o=n(7),i=n(15),c=n(14),s={title:"{ Expression }",info:"A custom value expression written in Motoko",useCases:[i.d],category:o.h,icon:o.h.data.icon,topRight:"result",width:14,inputs:[Object(r.a)(),{key:"type",type:a.F.of(a.I)}],outputs:[{key:"result",type:a.I,inferType:function(t){return t.type},toMotoko:function(t){var e=t.inputs,n=t.expression;return"do ".concat(Object(c.a)(Object(r.c)(e,n)))}}],controls:[Object(r.b)()]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i={title:"Get (Collection)",info:"Retrieve an item corresponding to the given key",category:a.b,icon:o.stateReadIcon,topRight:"value",hidden:!0,inputs:[{key:"collection",type:r.h},{key:"key",type:r.I}],outputs:[{key:"value",type:r.z.of(r.I),inferType:function(t){var e=t.collection;if(r.r.isSubtype(e))return r.z.of(e.generics[1])},toMotoko:function(t){var e=t.collection,n=t.key;return"".concat(e,".get(").concat(n,")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(35),c=Object(a.b)({info:"Update an item corresponding to the given key",title:"Put (Collection)",category:o.b,icon:i.stateWriteIcon,hidden:!0,inputs:[{key:"collection",type:r.h},{key:"key",type:r.I},{key:"value",type:r.I}]},(function(t){var e=t.collection,n=t.key,r=t.value;return"".concat(e,".put(").concat(n,", ").concat(r,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(19),i={title:"Size (Collection)",info:"Determine the size (or length) of a collection",category:a.b,icon:o.I,inputs:[{key:"collection",type:r.r}],outputs:[{key:"value",type:r.v,toMotoko:function(t){var e=t.map;return"".concat(e,".size()")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=n(3),i=Object(r.a)(Object(r.a)({},Object(a.b)([o.I,o.g],"==",(function(t,e){return t===e}))),{},{info:"Check if two values are equal"});e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(32),a=Object(r.d)(">",(function(t,e){return t>e}));e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(32),a=Object(r.d)(">=",(function(t,e){return t>=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(32),a=Object(r.d)("<",(function(t,e){return t<e}));e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(32),a=Object(r.d)("<=",(function(t,e){return t<=e}));e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=n(3),i=Object(r.a)(Object(r.a)({},Object(a.b)([o.I,o.g],"!=",(function(t,e){return t!==e}))),{},{info:"Check if two values are non-equal"});e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(94),a=n(15),o=Object(r.a)("motoko",{title:"Motoko",info:"Compile an expression to Motoko source code.",useCases:[a.e,a.h,a.f]});e.default=o},,,function(t,e,n){"use strict";n.r(e);var r=n(94),a=n(15),o=Object(r.a)("type",{title:"Type",info:"Display the type signature of an expression.",useCases:[a.e,a.h,a.f]},(function(t,e,n){return t&&n.compilers.motoko.getTypeString(t)}));e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(14),i=Object(r.b)({title:"if() then {} else {}",info:"Evaluate based on a given condition",inputs:[{key:"condition",type:a.g},{key:"trueCase",title:"True",type:a.k,optional:!0},{key:"falseCase",title:"False",type:a.k,optional:!0}]},(function(t){var e=t.condition,n=t.trueCase,r=t.falseCase;if("true"===String(e))return n;if("false"===String(e))return r;var a=r?["else",Object(o.a)(r)]:"";return["if",Object(o.d)(e),Object(o.a)(n||""),a]}));e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(14),i={title:"Map Bool",info:"Replace `true` and `false` with two different values",category:a.e,topLeft:"condition",topRight:"result",inputs:[{key:"condition",type:r.g},{key:"trueCase",type:r.I},{key:"falseCase",type:r.I}],outputs:[{key:"result",type:r.I,inferType:function(t){var e=t.trueCase,n=t.falseCase;return e.getSharedType(n)},toMotoko:function(t){var e=t.condition,n=t.trueCase,r=t.falseCase;return!0===e?n:!1===e?r:Object(o.d)("if ".concat(Object(o.d)(e)," ").concat(Object(o.a)(n)," else ").concat(Object(o.a)(r)))}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(42),o=n(7),i=n(19),c=n(15),s=n(14),u=n(45),l=Object(a.b)({title:"Counter",info:"Dispense numbers in increasing order",useCases:[c.a,c.b,c.k],topRight:"value",category:o.o,icon:i.u,global:!0,memberPriority:u.c,inputs:[{key:"name",type:r.p,optional:!0}],outputs:[{key:"value",title:"Current value",type:r.v,toMotoko:function(t){return t.name}},{key:"nextValue",type:r.v,toMotoko:function(t){var e=t.name,n=["let ".concat(e,"_ = ").concat(e,";"),"".concat(e," += 1;"),"".concat(e,"_")];return["do",Object(s.a)(n.reduce((function(t,e){return Object(s.e)(t,e)})))]}}]},{toMotoko:function(t){var e=t.name;return"private stable var ".concat(e," : Nat = 0;")}});e.default=l},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(34),i=n(19),c=Object(o.c)("mo:base/Debug"),s=Object(a.b)({title:"Print (Debug)",info:"Display a value in the debug console (when deployed)",icon:i.H,inputs:[{key:"value",type:r.I}]},(function(t){var e=t.value;return"".concat(c,".print(debug_show(").concat(e,"));")}));e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=Object(r.a)(Object(r.a)({},Object(a.a)("/",(function(t,e){return t/e}))),{},{info:"Divide one number by the other"});e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"intImportRef",(function(){return i}));var r=n(7),a=n(3),o=n(34),i=Object(o.c)("mo:base/Int"),c={title:"(a // b)",info:"Integer division (remainder is discarded)",category:r.l,topRight:"result",inputs:[{key:"left",title:"a",type:a.q},{key:"right",title:"b",type:a.q}],outputs:[{key:"result",type:a.q,toMotoko:function(t){var e=t.left,n=t.right;return"".concat(i,".div(").concat(e,", ").concat(n,")")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(19),i=n(7),c=n(104),s=n(15),u=n(64),l=n(14),p=Object(r.b)({info:"Invoke a function in this project",title:"Call Function",useCases:[s.j],category:i.i,icon:o.A,computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"functionNode");if(n){var r=e.compilers.motoko.getInput(n,"name"),a=e.compilers.connection.getInput(n,"params").map((function(t){return e.compilers.motoko.getInput(t,"name")}));return r&&"".concat(r).concat(Object(l.d)(a.join(", ")))}},customSearch:function(t,e){var n=e.editor;return Object(u.a)(t,n,"Function","functionNode")},inputs:[{key:"args",title:"Inputs",type:a.I,multi:!0}],outputs:[{key:"value",title:"Result",info:"Call the function and output the result",type:a.I,inferType:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"functionNode");if(r)return Object(c.getFunctionReturnType)(r,n.editor)},toMotoko:function(t,e,n){var r=t.args,a=n.editor.compilers.node.getInput(e,"functionNode");if(a){var o=n.getInput(a,"name");if(o)return"".concat(o,"(").concat(r.join(", "),")")}}}],controls:[{key:"functionNode",type:a.w.withMeta({block:"Function"})}]},(function(t,e,n){var r=t.functionNode,a=t.args,o=n.getInput(r,"name");if(o)return"ignore ".concat(o).concat(Object(l.d)(a.join(", ")),";")}));e.default=p},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"textImportRef",(function(){return i}));var r=n(3),a=n(19),o=n(34),i=Object(o.c)("mo:base/Text"),c={title:"Hash (Text)",icon:a.q,info:"Compute a 32-bit hash for the provided text value",inputs:[{key:"value",type:r.D}],outputs:[{key:"hash",type:r.u,toMotoko:function(t){var e=t.value;return"".concat(i,".hash(").concat(e,")")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o=Object(r.a)({title:"Boolean",customSearch:function(t){for(var e=0,n=[!0,!1];e<n.length;e++){var r=n[e],a=String(r);if(a.startsWith(t.toLowerCase()))return{title:a,data:{value:r}}}}},a.g);e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(16),a=n(7),o=n(3),i=n(19),c={title:"Custom Type",info:"A special user-defined type",category:a.p,topRight:"value",icon:i.y,hidden:!0,inputs:[{key:"reference",type:o.C},{key:"generics",type:o.F.of(o.I),multi:!0}],outputs:[{key:"value",type:o.F.of(o.j),inferType:function(t,e,n){var a=n.editor.compilers.motoko.getInput(e,"reference"),i=n.editor.compilers.type.getInput(e,"generics");if(a)return o.j.of.apply(o.j,Object(r.a)(i)).withMeta({name:a})}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o=Object(r.a)({title:"Float",customSearch:function(t){var e=+t;if(!isNaN(e))return{title:e,priority:1,data:{value:e}}}},a.l);e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(19),o={title:"Name",info:r.p.data.info,icon:a.r,topRight:"value",outputs:[{key:"value",type:r.p,control:!0,toMotoko:function(t){return t.value}}]};e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o=Object(r.a)({title:"Integer",customSearch:function(t){var e=+t;if(e%1===0)return{title:e,priority:2,data:{value:e}}}},a.q);e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o=Object(r.a)({title:"Natural Number",customSearch:function(t){if(!t.startsWith("-")){var e=+t;return e>=0&&e%1===0?{title:e,priority:3,data:{value:e}}:void 0}}},a.v);e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o={title:"Custom Number",info:"A configurable number value",category:n(7).k,topRight:"value",inputs:[{key:"input",title:"Number",type:a.D},{key:"type",type:a.F.of(a.l)}],outputs:[{key:"value",type:a.l,toMotoko:function(t){var e=t.input;if(e)return e},inferType:function(t){return t.type}}]};Object(r.a)({customSearch:function(t){var e=+t;if(!isNaN(e))return{title:e,priority:1,data:{value:e}}}},a.l),e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(3),o={title:"Pair",info:"An ordered pair of two values",category:r.k,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Pair ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"left",title:"a",type:a.I},{key:"right",title:"b",type:a.I}],outputs:[{key:"value",type:a.E.of(a.I,a.I),inferType:function(t){var e=t.left,n=t.right;return a.E.of(e,n)},toMotoko:function(t){var e=t.left,n=t.right;return"(".concat(e,", ").concat(n,")")}}]};e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(3),o={title:"Pair of Types",info:"An ordered pair of two types",category:r.p,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"left",title:"a",type:a.F.of(a.I)},{key:"right",title:"b",type:a.F.of(a.I)}],outputs:[{key:"value",type:a.F.of(a.E.of(a.I,a.I)),inferType:function(t){var e=t.left,n=t.right;return a.E.of(e,n)}}]};e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"principalImportRef",(function(){return i}));var r=n(51),a=n(3),o=n(34),i=Object(o.c)("mo:base/Principal"),c=Object(r.a)({title:"Principal (Address)"},a.B,(function(t){return"".concat(i,".fromText(").concat(JSON.stringify(t),")")}));e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(51),a=n(3),o=Object(r.a)({title:"Text",customSearch:function(t){if(t.startsWith('"')||t.startsWith("'"))return((t=t.slice(1)).endsWith('"')||t.endsWith("'"))&&(t=t.slice(-1)),{title:'"'.concat(t,'"'),data:{value:t}}}},a.D,JSON.stringify);e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(16),a=n(7),o=n(3),i={title:"Tuple",info:"Create a tuple value from the provided input values",category:a.k,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"Tuple ".concat(e.compilers.motoko.getTypeString(n))},inputs:[{key:"inputs",type:o.I,multi:!0}],outputs:[{key:"value",type:o.E,inferType:function(t){var e=t.inputs;return o.E.of.apply(o.E,Object(r.a)(e))},toMotoko:function(t){var e=t.inputs;return"(".concat(e.join(", "),")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(16),a=n(7),o=n(3),i={title:"Tuple of Types",info:"Create a tuple value from the provided input types",category:a.p,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&e.compilers.motoko.getTypeString(n)},inputs:[{key:"types",type:o.F.of(o.I),multi:!0}],outputs:[{key:"value",type:o.F.of(o.E),inferType:function(t){var e=t.types;return o.E.of.apply(o.E,Object(r.a)(e))}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(3),o={title:"Type",info:a.F.data.info,category:r.p,topRight:"value",outputs:[{key:"value",type:a.F.of(a.I),control:!0,inferType:function(t){return t.value}}]};e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"iterImportRef",(function(){return s}));var r=n(27),a=n(3),o=n(34),i=n(28),c=n(14),s=Object(o.c)("mo:base/Iter"),u=Object(r.b)({title:"for(min..max) {}",info:"Repeat for a range of integers (inclusive)",inputs:[{key:"min",type:a.q},{key:"max",type:a.q},{key:"loop",type:a.k.of(a.H)}],outputs:[{key:"item",type:a.q,toMotoko:function(t,e){return Object(i.a)(e)}}],controls:[{key:"inclusive",type:a.g}]},(function(t,e){var n=t.min,r=t.max,a=(t.loop,t.inclusive);return"for (".concat(Object(i.a)(e)," in ").concat(s,".range(").concat(n,", ").concat(a?r:"(".concat(r,") - 1"),")) ").concat(Object(c.f)(),";")}));e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(14),i=Object(r.b)({title:"while() {}",info:"Repeat while the condition is true",inputs:[{key:"condition",type:a.g},{key:"loop",type:a.k.of(a.H),optional:!0}]},(function(t){var e=t.condition,n=t.loop;return["while",Object(o.d)(e),Object(o.f)(null!==n&&void 0!==n?n:"")]}));e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(45),i={info:"The top-level actor for the application. All member blocks reference this actor by default.",category:a.a,topLeft:"actor",hidden:!0,inputs:[],outputs:[{key:"actor",type:r.i,toMotoko:function(t,e,n){return Object(o.e)(n.editor)}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(15),i=n(45),c={title:"Installer Details",info:"The owner of the top-level smart contract",useCases:[o.c],category:a.m,outputs:[{key:"caller",type:r.B,toMotoko:function(t,e,n){return"".concat(Object(i.f)(n.editor),".caller")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i=n(15),c=n(64),s={title:"Read Config",info:"Get a top-level configuration value",useCases:[i.c],category:a.m,icon:o.stateReadIcon,topRight:"value",customSearch:function(t,e){var n=e.editor;return Object(c.a)(t,n,"MainParameter","configNode")},outputs:[{key:"value",type:r.I,inferType:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"configNode");if(r)return n.getInput(r,"type")},toMotoko:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"configNode");if(r)return n.getInput(r,"name")}}],controls:[{key:"configNode",type:r.w.withMeta({block:"MainParameter"})}]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i={title:"Get (Map)",info:"Find the value corresponding to a given key, returning null if nothing is found",category:a.b,icon:o.stateReadIcon,topRight:"value",inputs:[{key:"map",type:r.r},{key:"key",type:r.I}],outputs:[{key:"value",type:r.z.of(r.I),inferType:function(t){var e=t.map;if(r.r.isSubtype(e))return r.z.of(e.generics[1])},toMotoko:function(t){var e=t.map,n=t.key;return"".concat(e,".get(").concat(n,")")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i=n(72),c={title:"Get or Default (Map)",info:"Find the value corresponding to a given key, returning the specified default value if nothing is found",category:a.b,icon:o.stateReadIcon,topRight:"value",inputs:[{key:"map",type:r.r},{key:"key",type:r.I},{key:"defaultValue",title:"Default",type:r.I}],outputs:[{key:"value",type:r.z.of(r.I),inferType:function(t){var e=t.map;if(r.r.isSubtype(e))return e.generics[1]},toMotoko:function(t){var e=t.map,n=t.key,r=t.defaultValue;return"".concat(i.optionImportRef,".get(").concat(e,".get(").concat(n,"), ").concat(r,")")}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(35),c=Object(a.b)({title:"Put (Map)",info:"Store a value at the given key",category:o.b,icon:i.stateWriteIcon,inputs:[{key:"map",type:r.r},{key:"key",type:r.I},{key:"value",type:r.I}]},(function(t){var e=t.map,n=t.key,r=t.value;return"".concat(e,".put(").concat(n,", ").concat(r,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(19),c=Object(a.b)({title:"Remove (Map)",info:"Delete the value associated with a specific key",category:o.b,icon:i.h,inputs:[{key:"map",type:r.r},{key:"key",type:r.I}]},(function(t){var e=t.map,n=t.key;return"".concat(e,".remove(").concat(n,");")}));e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(35),c=n(28),s=n(14),u=n(72),l=n(15),p=Object(a.b)({title:"Transfer (Map)",info:"Attempt to subtract an amount from one key and add to another",useCases:[l.l],category:o.b,icon:i.stateWriteIcon,inputs:[{key:"map",type:r.r},{key:"from",type:r.I},{key:"to",type:r.I},{key:"amount",type:r.v}],outputs:[{key:"success",type:r.g,toMotoko:function(t,e){return Object(c.a)(e,"success")}}]},(function(t,e){var n=t.map,r=t.from,a=t.to,o=t.amount,i=Object(c.a)(e,"success"),l=Object(c.a)(e,"amount"),p=Object(c.a)(e,"balance");return"let ".concat(i," = do ").concat(Object(s.f)(["let ".concat(p," = ").concat(u.optionImportRef,".get(").concat(n,".get(").concat(r,"), 0);\n"),"let ".concat(l," = ").concat(o,";\n"),"if ".concat(Object(s.d)("".concat(p," >= ").concat(l))," ").concat(Object(s.a)(["".concat(n,".put(").concat(r,", ").concat(p," - ").concat(l,");\n"),"".concat(n,".put(").concat(a,", ").concat(u.optionImportRef,".get(").concat(n,".get(").concat(a,"), 0) + ").concat(l,");\n"),!0])),"else ".concat(Object(s.a)(!1))]))}));e.default=p},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(14),o=n(3),i={title:"Maximum",info:"Find the maximum of two numbers",category:r.l,topRight:"result",inputs:[{key:"left",title:"a",type:o.l},{key:"right",title:"b",type:o.l}],outputs:[{key:"result",type:o.l,toMotoko:function(t){var e=t.left,n=t.right;return Object(a.d)(["if",Object(a.d)("".concat(e," > ").concat(n)),Object(a.a)(e),"else",Object(a.a)(n)])}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(14),o=n(3),i={title:"Minimum",info:"Find the minimum of two numbers",category:r.l,topRight:"result",inputs:[{key:"left",title:"a",type:o.l},{key:"right",title:"b",type:o.l}],outputs:[{key:"result",type:o.l,toMotoko:function(t){var e=t.left,n=t.right;return Object(a.d)(["if",Object(a.d)("".concat(e," < ").concat(n)),Object(a.a)(e),"else",Object(a.a)(n)])}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=Object(r.a)(Object(r.a)({},Object(a.a)("*",(function(t,e){return t*e}))),{},{info:"Multiply two numbers"});e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"hashMapImportRef",(function(){return c}));var r=n(3),a=n(34),o=n(7),i=n(15),c=Object(a.c)("mo:base/HashMap"),s={title:"Create Map",info:"Construct an empty HashMap",useCases:[i.k],category:o.b,icon:o.b.data.icon,topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getOutput(t,"value");return n&&"new HashMap<".concat(e.compilers.motoko.getTypeString(n.generics[0]),", ").concat(e.compilers.motoko.getTypeString(n.generics[1]),">")},inputs:[{key:"keyType",type:r.G.of(r.D,r.B,r.f,r.u)},{key:"valueType",type:r.F.of(r.I)}],outputs:[{key:"value",type:r.r,inferType:function(t){var e=t.keyType,n=t.valueType;return r.r.of(e,n)},toMotoko:function(t,e,n){var o,i=n.editor.compilers.type.getInputArgs(e),s=i.keyType,u=i.valueType,l=(o=s,Object(a.c)("mo:base/".concat(o.name))),p=n.getTypeString(s),d=n.getTypeString(u),f=s===r.u?"func (x) {x}":"".concat(l,".hash");return"".concat(c,".HashMap<").concat(p,", ").concat(d,">(0, ").concat(l,".equal, ").concat(f,")")}}]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=n(3),i=Object(r.a)(Object(r.a)({},Object(a.e)(o.g,"not",(function(t){return!t}))),{},{info:"Logically invert the value (swap true with false and vice versa)"});e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a={category:n(7).k,info:"The default Optional value",topRight:"value",outputs:[{key:"value",type:r.x,toMotoko:function(){return"null"}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(14),i=n(42),c={info:r.y.data.info,category:a.a,topLeft:"parent",topRight:"members",hidden:!0,computeTitle:function(t,e){var n=e.compilers.motoko.getInputArgs(t).name;return n&&"object ".concat(n)},inputs:[{key:"name",type:r.p,optional:!0},{key:"members",type:r.s,multi:!0}],outputs:[{key:"parent",type:r.i,toMotoko:function(t){var e=t.visibility,n=t.name,r=t.members;return[e,"object",n,Object(o.f)(Object(o.b)(r))]}}],controls:[Object(i.c)()]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(15),i=n(14),c={title:"Optional (?a)",info:"Create an optional version of the input value",useCases:[o.g],category:a.l,inputs:[{key:"input",title:"Value",type:r.I}],outputs:[{key:"result",type:r.z,inferType:function(t){var e=t.input;return r.z.of(e)},toMotoko:function(t){var e=t.input;return"?".concat(Object(i.c)(e))}},{key:"null",type:r.z,inferType:function(t){var e=t.input;return r.z.of(e)},toMotoko:function(t){t.input;return"null"}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(7),i=n(28),c=n(15),s=n(14),u=Object(r.b)({title:"Check Non-Null",info:"Run different logic depending on whether an Optional value is null",useCases:[c.g],category:o.e,inputs:[{key:"input",type:a.z},{key:"valueCase",title:"Has value",type:a.k,optional:!0},{key:"nullCase",title:"Value is null",type:a.k,optional:!0}],outputs:[{key:"condition",title:"!= null",type:a.g,toMotoko:function(t,e){t.input;return"".concat(Object(s.c)(Object(i.a)(e))," != null")}},{key:"value",type:a.I,inferType:function(t){var e=t.input;if(a.z.isSubtype(e))return e.generics[0]},toMotoko:function(t,e){t.input;return Object(i.a)(e)}}]},(function(t,e){var n=t.input,r=t.valueCase,a=t.nullCase;if("null"===String(n))return a;var o=r?"case (?".concat(Object(i.a)(e),") {").concat(r,"};"):"",c=a?"case null {".concat(a,"};"):"";return["switch",Object(s.d)(n),Object(s.f)("".concat(o).concat(c&&" "+c))]}));e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=Object(r.a)(Object(r.a)({},Object(a.c)("or",(function(t,e){return t||e}))),{},{info:"Return true if either of the input values are true"});e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(15),i=n(42),c={info:"An input parameter to a class or function",useCases:[o.j],topLeft:"param",topRight:"value",category:a.m,computeTitle:function(t,e){var n=Object(i.a)(t,e),r=e.compilers.type.getInput(t,"type");return n&&"".concat(n," : ").concat(r?e.compilers.motoko.getTypeString(r):"Any")},inputs:[{key:"name",type:r.p},{key:"type",type:r.F.of(r.I)}],outputs:[{key:"param",type:r.A,toMotoko:function(t){var e=t.name,n=t.type;return"".concat(e," : ").concat(n)},inferType:function(t){var e=t.type;return r.A.of(e)}},{key:"value",type:r.I,toMotoko:function(t){return t.name},inferType:function(t){return t.type}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(16),a=n(3),o=n(15),i=n(7),c={title:"Function",info:"Convert a code reference to a typed function",category:i.n,icon:i.n.data.icon,useCases:[o.d,o.j],topLeft:"reference",topRight:"value",hidden:!0,computeTitle:function(t,e){var n=e.compilers.type.getInput(t,"value");if(n)return e.compilers.motoko.getTypeString(n)},inputs:[{key:"reference",type:a.C},{key:"paramTypes",title:"Input types",type:a.F.of(a.I),multi:!0},{key:"returnType",type:a.F.of(a.I)}],outputs:[{key:"value",title:"Function",type:a.m,toMotoko:function(t){return t.reference},inferType:function(t){var e=t.paramTypes,n=t.returnType;if(n)return a.m.of(a.E.of.apply(a.E,Object(r.a)(e)),n)}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(19),o=n(34),i=n(15),c={title:"Import",info:"Reference an externally defined module",category:n(7).n,useCases:[i.d],icon:a.r,topRight:"value",computeTitle:function(t,e){var n=Object(o.b)(e.compilers.motoko.getInput(t,"path"));if(n)return"import ".concat(n)},outputs:[{key:"value",type:r.C,toMotoko:function(t){var e=t.path;return Object(o.c)(e)}}],controls:[{key:"path",type:r.D,config:{validation:{minLength:1}}}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(15),o={title:"Path (a.b)",info:"Refer to a child of the specified reference",category:n(7).n,useCases:[a.d],topLeft:"parent",topRight:"reference",inputs:[{key:"parent",type:r.C,config:{validation:{minLength:1}}}],outputs:[{key:"reference",type:r.C,toMotoko:function(t){var e=t.parent,n=t.name;return"".concat(e,".").concat(n)}}],controls:[{key:"name",type:r.p,config:{validation:{minLength:1}}}]};e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(15),o={title:"Type",info:"Convert a code reference to a type",category:n(7).n,useCases:[a.d],topLeft:"reference",topRight:"type",width:3,inputs:[{key:"reference",type:r.C}],outputs:[{key:"type",type:r.F.of(r.I),toMotoko:function(t){return t.reference},inferType:function(t,e,n){var a=n.editor.compilers.motoko.getInput(e,"reference");if(a)return r.j.withMeta({name:a})}}]};e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(15),o=n(7),i={title:"Value",info:"Convert a code reference to a typed value",category:o.n,icon:o.n.data.icon,useCases:[a.d,a.k],topLeft:"reference",topRight:"value",computeTitle:function(t,e){var n=e.compilers.type.getInput(t,"type");if(n)return e.compilers.motoko.getTypeString(n)},inputs:[{key:"reference",type:r.C},{key:"type",type:r.F.of(r.I)}],outputs:[{key:"value",type:r.I,toMotoko:function(t){return t.reference},inferType:function(t){return t.type}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(27),o=n(7),i=n(19),c=n(15),s=Object(a.a)({info:"End a function's execution path",useCases:[c.b],category:o.i,icon:i.e,inputs:[{key:"value",type:r.I,optional:!0}]},{inferType:function(t){var e=t.value;return r.k.of(e||r.H)},toMotoko:function(t){var e=t.value;return"return".concat(e?" "+e:"",";")}});e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(15),i=n(14),c=n(28),s=n(48),u={info:"Run a statement using the given value",useCases:[o.c],icon:s.a,category:a.i,topLeft:"input",topRight:"statement",inputs:[{key:"input",type:r.I},{key:"statement",type:r.k}],outputs:[{key:"value",type:r.I,inferType:function(t){return t.input},toMotoko:function(t,e){return t.name||Object(c.a)(e)}},{key:"result",type:r.I,inferType:function(t){return t.input},toMotoko:function(t,e){var n=t.name,r=t.input,a=t.statement;return n=n||Object(c.a)(e),"do ".concat(Object(i.a)("var ".concat(n," = ").concat(r,";").concat(a?"\n".concat(a):"","\n").concat(n)))}}],controls:[{key:"name",type:r.p,optional:!0}]};e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(3),o=n(14),i={info:"Access the left and right elements of a pair",category:r.e,inputs:[{key:"value",title:"Pair",type:a.E.of(a.I,a.I)}],outputs:[{key:"left",type:a.I,inferType:function(t){var e=t.value;if(e)return e.generics[0]},toMotoko:function(t){var e=t.value;return"".concat(Object(o.d)(e),".0")}},{key:"right",type:a.I,inferType:function(t){var e=t.value;if(e)return e.generics[1]},toMotoko:function(t){var e=t.value;return"".concat(Object(o.d)(e),".1")}}]};e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(35),i=n(15),c=n(64),s={title:"Read State",info:"Get the current value of a state",useCases:[i.b],category:a.o,icon:o.stateReadIcon,topRight:"value",customSearch:function(t,e){var n=e.editor;return Object(c.a)(t,n,"State","stateNode")},outputs:[{key:"value",type:r.I,inferType:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"stateNode");if(r)return n.getInput(r,"initialValue")},toMotoko:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"stateNode");if(r)return n.getInput(r,"name")}}],controls:[{key:"stateNode",type:r.w.withMeta({block:"State"})}]};e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(7),o=n(3),i=n(35),c=n(15),s=Object(r.b)({title:"Write State",info:"Set the value of a state",useCases:[c.k],category:a.o,icon:i.stateWriteIcon,inputs:[{key:"value",type:o.I}],controls:[{key:"stateNode",type:o.w.withMeta({block:"State"})}]},(function(t,e,n){var r=t.stateNode,a=t.value,o=n.getInput(r,"name");if(o)return"".concat(o," := ").concat(a,";")}));e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(32),a=Object(r.a)("-",(function(t,e){return t-e}));e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(32),o=n(3),i=Object(r.a)(Object(r.a)({},Object(a.b)(o.D,"#",(function(t,e){return t||e}))),{},{title:"Concatenate (Text)",info:"Add text values directly one after each other"});e.default=i},function(t,e,n){"use strict";n.r(e);var r=n(3),a={title:"Length (Text)",info:"Find the number of characters in a Text value",icon:n(19).I,inputs:[{key:"text",type:r.D}],outputs:[{key:"value",type:r.v,toMotoko:function(t){var e=t.text;return"".concat(e,".size()")}}]};e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(42),o=n(7),i=n(45),c=Object(a.b)({title:"Named Type",info:"An actor-level type definition",category:o.p,topRight:"type",global:!0,memberPriority:i.d,shortcuts:[{block:"TypeMemberReference",nodeKey:"typeNode"}],computeTitle:function(t,e){var n=Object(a.a)(t,e),r=e.compilers.type.getInput(t,"typeInput");return r&&"".concat(n||"(?)"," = ").concat(e.compilers.motoko.getTypeString(r))},inputs:[{key:"name",type:r.p},{key:"typeInput",title:"Definition",type:r.F.of(r.I)}],outputs:[{key:"type",type:r.F.of(r.I),inferType:function(t){var e=t.name,n=t.typeInput;if(!n.isAbstract())return n.withMeta({name:e})},toMotoko:function(t){return t.name}}],controls:[Object(a.c)()]},{toMotoko:function(t,e,n){var r=t.visibility,a=t.name,o=t.typeInput,i=["system"!==r&&r].filter((function(t){return t})).join(" ");return"".concat(i&&i+" ","type ").concat(a," = ").concat(o,";")}});e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(7),o=n(19),i=n(64),c={title:"Get Named Type",info:"Reference a global named type",category:a.p,icon:o.b,topRight:"type",customSearch:function(t,e){var n=e.editor;return Object(i.a)(t,n,"TypeMember","typeNode")},computeTitle:function(t,e){var n=e.compilers.node.getInput(t,"typeNode");if(n)return e.compilers.motoko.getInput(n,"name")},outputs:[{key:"type",type:r.F.of(r.I),inferType:function(t,e,n){var r=n.editor.compilers.node.getInput(e,"typeNode");if(r)return n.editor.compilers.type.getInput(r,"type")}}],controls:[{key:"typeNode",type:r.w.withMeta({block:"TypeMember"})}]};e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(19),i=n(7),c=n(15),s=n(14),u=Object(r.b)({title:"Call Value",info:"Invoke a callable value",useCases:[c.j,c.d],category:i.i,icon:o.F,inputs:[{key:"callable",type:a.m},{key:"args",title:"Inputs",type:a.I,multi:!0}],outputs:[{key:"value",title:"Result",info:"Call the function and output the result",type:a.I,inferType:function(t){var e=t.callable;return a.m.isSubtype(e)?e.generics[1]:a.m},toMotoko:function(t,e,n){var r=t.callable,a=t.args;return"".concat(Object(s.c)(r),"(").concat(a.join(", "),")")}}]},(function(t,e,n){var r=t.callable,a=t.args;return"ignore ".concat(r).concat(Object(s.c)(a.join(", ")),";")}));e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(27),a=n(3),o=n(7),i=n(28),c=n(15),s=Object(r.b)({title:"Local Variable",info:"Store and retrieve data from within a function",useCases:[c.j],category:o.m,inputs:[{key:"name",type:a.p,optional:!0},{key:"initialValue",type:a.I}],outputs:[{key:"value",type:a.I,inferType:function(t){return t.initialValue},toMotoko:function(t,e){return t.name||Object(i.a)(e)}}]},(function(t,e){var n=t.name,r=t.initialValue;return"var ".concat(n||Object(i.a)(e)," = ").concat(r,";")}));e.default=s},,,,,,,,function(t){t.exports=JSON.parse('{"version":"blocks-webapp@0.2.0","name":"","description":"","readme":"","language":"motoko","output":"actor Main {\\n}","nodes":{}}')},function(t,e,n){"use strict";n.r(e);var r,a=n(1),o=n.n(a),i=n(49),c=n.n(i),s=(n(136),n(97)),u=(n(107),n(23)),l=n(31),p=n(12),d=n(11),f=n(57),m=n(2),b=Object(d.d)(f.a)(r||(r=Object(p.a)(["\n    z-index: 1000;\n    padding: .5em 1em !important;\n\n    .multi-line {\n        text-align: left !important;\n    }\n"])));function v(){return Object(m.jsx)(b,{backgroundColor:"#111",place:"bottom",delayShow:200,multiline:!0})}var y,h=n(128),j=n(6),g=n.n(j),O=n(18),x=n(4),k=n(17),w=n(5),C=n(13),T=n.n(C),N=n(0),I=["title","titleId"];function P(){return P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P.apply(this,arguments)}function _(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function M(t,e){var n=t.title,r=t.titleId,o=_(t,I);return a.createElement("svg",P({ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,y||(y=a.createElement("linearGradient",{id:"svg-block-gradient",width:0,height:0,x2:1,y2:1},a.createElement("stop",{offset:"0%",stopColor:"#00EFFB"}),a.createElement("stop",{offset:"50%",stopColor:"#8649E1"}),a.createElement("stop",{offset:"100%",stopColor:"#F900E3"}))))}var S,L,A=a.forwardRef(M),E=(n.p,["className","children"]),R=d.d.div(S||(S=Object(p.a)(['\n    background: #FFF;\n    margin-bottom: 3px;\n    padding: 2px;\n    position: relative;\n    background-clip: padding-box;\n    z-index: 10;\n\n    :before {\n        content: "";\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        height: 2px;\n        background: linear-gradient(90deg, #00EFFB, #8649E1, #F900E3);\n        z-index: -1;\n        margin-bottom: -2px;\n    }\n\n']))),F=Object(d.d)(A)(L||(L=Object(p.a)(["\n    height: 0;\n    width: 0;\n"])));function H(t){var e=t.className,n=t.children,r=Object(k.a)(t,E);return Object(m.jsxs)(R,Object(x.a)(Object(x.a)({className:T()("top-menu text-secondary d-flex justify-content-start align-items-center",e)},r),{},{children:[Object(m.jsx)(F,{}),Object(m.jsx)(N.b.Provider,{value:{style:{verticalAlign:"bottom"}},children:n})]}))}var D,z=n(40),q=["variant","tooltip","className"],B=d.d.div(D||(D=Object(p.a)(["\n\n"])));function U(t){var e=t.variant,n=t.tooltip,r=t.className,a=Object(k.a)(t,q);return Object(z.a)(),Object(m.jsx)(B,Object(x.a)({className:T()("menu-item noselect px-3 py-2 mb-0 d-inline-block text-center",e&&"text-".concat(e),r),"data-tip":n,"data-delay-show":100},a))}var V=n(43);function G(){return Object(V.a)("blocks.buttonTitles",!0)}var W,Z=["noMargin","children","title","className"],J=Object(d.d)(U)(W||(W=Object(p.a)(['\n    cursor: pointer;\n    border-radius: 10px;\n    display: flex !important;\n    flex-direction: column;\n    align-items: center;\n    justify-content: start;\n    gap: 0.1rem;\n\n    &.round {\n        border-radius: 50% !important;\n        width: 48px;\n        height: 48px;\n        padding: 0 !important;\n    }\n\n    &:hover {\n        background: #FFF1;\n\n        > svg {\n            fill: url("#svg-block-gradient");\n        }\n    }\n    \n    .very-small {\n        transform: translateY(3px); // Fine-tune label positions\n    }\n'])));function K(t){var e=t.noMargin,n=t.children,r=t.title,a=t.className,o=Object(k.a)(t,Z),i=G(),c=Object(w.a)(i,1)[0];return Object(m.jsxs)(J,Object(x.a)(Object(x.a)({className:T()("menu-button",{"mx-3":!e},a)},o),{},{children:[n,!(!c||!r)&&Object(m.jsx)("span",{className:"text-muted very-small",children:r})]}))}var X=n(112),Q=n(126),$=n(26),Y=["options","onFile","onFileContent","className","children"];function tt(t){var e=t.options,n=t.onFile,r=t.onFileContent,o=t.className,i=t.children,c=Object(k.a)(t,Y),s=Object(a.useCallback)((function(t){if(t.length){var e=t[0];if(null===n||void 0===n||n(e),r){var a=new FileReader;a.onload=function(t){r(t.target.result)},a.readAsText(e)}}}),[n,r]),u=Object(Q.a)(Object(x.a)({maxFiles:1,onDrop:s,noClick:!0},e)),l=u.getRootProps,p=u.getInputProps,d=u.isDragActive,f=u.open;return Object(m.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({className:T()(o,!e.noClick&&"clickable",d&&"dragging")},(null===e||void 0===e?void 0:e.noClick)?{}:Object($.d)((function(){return f()}))),c),l()),{},{children:[Object(m.jsx)("input",Object(x.a)({},p())),i]}))}var et,nt=o.a.createContext(null),rt=["name","description","className","children"],at=d.d.div(et||(et=Object(p.a)(["\n    :hover {\n        background: #0001;\n    }\n"])));function ot(t){var e=t.name,n=t.description,r=t.className,a=t.children,o=Object(k.a)(t,rt);return Object(m.jsxs)(at,Object(x.a)(Object(x.a)({className:T()(r,"clickable d-flex mt-2 px-3 py-2")},o),{},{children:[Object(m.jsxs)("div",{className:"flex-grow-1",children:[e&&Object(m.jsx)("h4",{className:"mb-0 fw-normal",children:e}),n&&Object(m.jsx)("div",{className:"text-secondary",children:n})]}),Object(m.jsx)("div",{children:a})]}))}var it=n(48),ct=n(37),st=n(60),ut=n(76),lt=n(115),pt=n(129),dt=Object(lt.a)({apiKey:"AIzaSyB2Knl_5Z113bHF4ncVwf37qENayLs-TUY",authDomain:"motoko-blocks.firebaseapp.com",projectId:"motoko-blocks",storageBucket:"motoko-blocks.appspot.com",messagingSenderId:"225162830482",appId:"1:225162830482:web:5f4a0c292cd509bc6c3c4b",measurementId:"G-2V5DTR90FF"}),ft=Object(ut.b)().then((function(t){return t?Object(ut.a)(dt):null})),mt=(Object(pt.a)(dt),Object(ct.a)(null)),bt=n(16),vt=n(24),yt=n(8),ht=n(10),jt=n(54),gt=n(50),Ot=n(38),xt=n(21),kt=n(22),wt=n(33),Ct=n(34),Tt=n(61),Nt=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t){return Object(yt.a)(this,n),e.call(this,t,"toEditorNode")}return Object(ht.a)(n,[{key:"postCompile",value:function(t,e,n){if(t||0===t){var r;if("object"===typeof t){if(!(r=t.id))throw new Error("Invalid node object with keys: {".concat(Object.keys(t).join(", "),"}"))}else r=t;return r=String(r),this.editor.nodes.find((function(t){return String(t.id)===r}))}}}]),n}(Tt.a),It=n(3),Pt=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t){return Object(yt.a)(this,n),e.call(this,t,"inferType")}return Object(ht.a)(n,[{key:"defaultCompile",value:function(t,e){return Object(It.o)(t.type)}},{key:"postCompile",value:function(t,e,n){if(void 0!==t)return"string"===typeof t||"number"===typeof t||"boolean"===typeof t?t:t=Object(It.o)(t)}}]),n}(Tt.a),_t=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t){return Object(yt.a)(this,n),e.call(this,t,"toControl")}return Object(ht.a)(n,[{key:"defaultCompile",value:function(t,e){}},{key:"postCompile",value:function(t,e,n){return t}}]),n}(Tt.a),Mt=n(45),St=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(){return Object(yt.a)(this,n),e.apply(this,arguments)}return Object(ht.a)(n,[{key:"defaultCompile",value:function(t,e){return e}}]),n}(Nt),Lt=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(){var t;Object(yt.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).version=t.id,t.details={name:"",description:"",readme:""},t.compilers={control:new _t(Object(jt.a)(t)),node:new Nt(Object(jt.a)(t)),connection:new St(Object(jt.a)(t)),type:new Pt(Object(jt.a)(t)),motoko:new Ct.a(Object(jt.a)(t))},t.bind("change"),t.bind("prenodecreate"),t.on("change",(function(){Object.values(t.compilers).forEach((function(t){return t.clearCache()}))})),t.on("destroy",(function(){setTimeout((function(){for(var e=0,n=Object.values(t.events);e<n.length;e++){n[e].length=0}}))})),t}return Object(ht.a)(n,[{key:"projectName",get:function(){return console.warn("Deprecated"),this.details.name},set:function(t){console.warn("Deprecated"),this.details.name=t}},{key:"version",get:function(){return this.id},set:function(t){this.id=t}},{key:"off",value:function(t,e){var n=this.events[t];if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},{key:"toJSON",value:function(){var t;try{t=Object(Mt.e)(this)}catch(o){console.warn("Error while compiling before save: ".concat(o))}var e=Object(x.a)({version:this.version,name:this.details.name,description:this.details.description,readme:this.details.readme,language:"motoko",output:t||null},Object(gt.a)(Object(Ot.a)(n.prototype),"toJSON",this).call(this));delete e.id;for(var r=0,a=Object.values(e.nodes);r<a.length;r++){delete a[r].inputs}return e}},{key:"fromJSON",value:function(){var t=Object(O.a)(g.a.mark((function t(e){var n,r,a=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:if(e=Object(x.a)({id:this.version,nodes:{}},e),this.beforeImport(e)){t.next=5;break}return t.abrupt("return",!1);case 5:return this.details.name=e.name||"",this.details.description=e.description||"",this.details.readme=e.readme||"",n=!1,t.prev=9,r={},t.next=13,Promise.all(Object.entries(e.nodes).map(function(){var t=Object(O.a)(g.a.mark((function t(e){var o,i,c,s,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(w.a)(e,2),i=o[0],c=o[1],t.prev=1,c=Object(x.a)(Object(x.a)({id:i,data:{},position:[0,0]},c),{},{name:c.type||c.name}),s=a.getComponent(c.name),t.next=6,s.build(wt.d.Node.fromJSON(c));case 6:u=t.sent,r[i]=u,a.addNode(u),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(1),n=!0,t.abrupt("return",a.trigger("error",t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()));case 13:Object.entries(e.nodes).forEach((function(t){var e=Object(w.a)(t,2),o=e[0],i=e[1],c=r[o];i.outputs&&Object.entries(i.outputs).forEach((function(t){var e=Object(w.a)(t,2),o=e[0],i=e[1];Array.isArray(i)&&(i={connections:i});try{var s;null===(s=i.connections)||void 0===s||s.forEach((function(t){var e=t.node,i=t.data,s=c.outputs.get(o),u=r[e];if(!u)return n=!0,a.trigger("error","Tried to connect to unknown node ".concat(c.id));var l=u.inputs.get(t.input);if(!s||!l)return console.log(c.outputs,u.inputs),n=!0,a.trigger("error","IO not found for node '".concat(c.id,"' (").concat(o," \u2192 ").concat(t.input,")"));a.connect(s,l,i)}))}catch(u){return n=!0,a.trigger("error",u)}}))})),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(9),this.trigger("warn",t.t0),n=!0;case 20:return t.abrupt("return",this.afterImport()&&!n);case 21:case"end":return t.stop()}}),t,this,[[9,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"createNode",value:function(){var t=Object(O.a)(g.a.mark((function t(e){var n,r,a,o,i,c,s=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]?s[2]:null,t.next=4,e.createNode(n);case 4:return a=t.sent,r&&(o=r.x,i=r.y,c=[o,i],a.position[0]=c[0],a.position[1]=c[1]),this.addNode(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createNodeAtCursor",value:function(){var t=Object(O.a)(g.a.mark((function t(e){var n,r,a,o,i=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=this.view.area.mouse,a=r.x,o=r.y,t.abrupt("return",this.createNode(e,n,{x:a-80,y:o-20}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addNode",value:function(t){Object(gt.a)(Object(Ot.a)(n.prototype),"addNode",this).call(this,t),this.silent||pr("node_create",{node:String(t.id),node_type:t.name})}},{key:"updateNode",value:function(t){var e=this;t.update(),setTimeout((function(){for(var n=0,r=[].concat(Object(bt.a)(t.inputs.values()),Object(bt.a)(t.outputs.values()));n<r.length;n++){var a,o=r[n],i=Object(vt.a)(o.connections);try{for(i.s();!(a=i.n()).done;){var c,s=a.value;null===(c=e.view.connections.get(s))||void 0===c||c.update()}}catch(u){i.e(u)}finally{i.f()}}}))}},{key:"removeNode",value:function(t){Object(gt.a)(Object(Ot.a)(n.prototype),"removeNode",this).call(this,t),this.silent||pr("node_delete",{node:String(t.id),node_type:t.name})}},{key:"connect",value:function(t,e,r){t.node&&t.node===e.node||Object(gt.a)(Object(Ot.a)(n.prototype),"connect",this).call(this,t,e,r)}}]),n}(wt.d.NodeEditor),At=n(73),Et=n(44),Rt=n(268);function Ft(t){return t?t.title||Object(Rt.a)(t.name):""}function Ht(t,e,n){var r=Object(Et.b)(t.name);if(!n&&r&&r.computeTitle){var a=r.computeTitle(t,e);if(a)return a}return Ft(r)}function Dt(t){return t&&!t.endsWith(".")&&(t="".concat(t,".")),t}function zt(t){var e=t.editor,n=t.node,r=t.block,o=t.fallback,i=t.showInfo,c=function(){if(!e.silent)try{return r.computeTitle(n,e)}catch(t){return console.error("Unable to compute title for node: ".concat(n.name)),console.error(t),"<Error>"}},s=Object(a.useState)(c),p=Object(w.a)(s,2),d=p[0],f=p[1],b=Object(a.useContext)(u.g);Object(l.a)(b,u.a,(function(){return f(c())}));var v=d||o||null,y=v;if(i&&r.info){var h=Dt(r.info);y=v?"".concat(v,"<br>").concat(h):h}return Object(z.a)(),Object(m.jsx)("div",{"data-tip":y,children:v})}var qt=n(269);function Bt(t){return t?Object(qt.a)(t):""}function Ut(t){return t?t.title||Bt(t.key):""}var Vt=o.a.createContext([]);function Gt(){return Object(V.a)("blocks.learningMode",!0)}function Wt(t){var e,n,r=t.type,o=t.propKey,i=t.socket,c=t.innerRef,s=t.io,u=Object(a.useState)(!1),l=Object(w.a)(u,2),p=l[0],d=l[1],f=Object(a.useState)(null),b=Object(w.a)(f,2),v=b[0],y=b[1],h=Gt(),j=Object(w.a)(h,1)[0],g=Object(a.useContext)(Vt),O=i.findType(),x=!!O.data.reversed,k=s.multipleConnections&&s instanceof wt.d.Input!==x,C=Object(a.useCallback)((function(){clearTimeout(n),n=setTimeout((function(){var t=!s.connections.length;if(t){var e,n=null===(e=i.findProp)||void 0===e?void 0:e.call(i);t=!(!(null===n||void 0===n?void 0:n.input)||!n.request&&(n.optional||k||s.control))}y(t)}))}),[s,k,i]);null===v&&C(),Object(a.useEffect)((function(){var t=function(t,e){if(t){var n,r,a,o;if(s instanceof wt.c===e instanceof wt.c)return;if(s.node&&s.node===e.node)return;var c=s instanceof wt.c===!!i.data.reversed?[s,e]:[e,s],u=Object(w.a)(c,2),l=u[0],p=u[1],f=null===(n=(r=l.socket).findType)||void 0===n?void 0:n.call(r),m=null===(a=(o=p.socket).findType)||void 0===a?void 0:a.call(o);m&&(null===f||void 0===f?void 0:f.isSubtype(m))&&d(!0)}else d(!1);C()};return g.push(t),function(){var e=g.indexOf(t);-1!==e?g.splice(e,1):console.warn("Missing connection aware listener on cleanup"),clearTimeout(n)}}),[i,s,g,C]),Object(z.a)();var N=j?null===(e=i.findLabel)||void 0===e?void 0:e.call(i):void 0;if(j){var I=i.data.reversed?"a flow":"an ".concat(r);N="This is ".concat(I," socket").concat(O?' of type: "'.concat(O.toTypeString(),'"'):".","<br>").concat(N)}return Object(m.jsx)("div",{ref:function(t){t&&c(t,r,s)},className:T()("socket",r,o&&"key-"+o,p&&"relevant",k&&"multiple",x&&"reversed",v&&"requested",!k&&s.connections.length&&"occupied","type-"+O.name,"category-"+O.data.category),"data-tip":N,children:Object(m.jsx)("div",{className:"requested-wrapper w-100 h-100",children:Object(m.jsx)("div",{className:"socket-color w-100 h-100"})})})}var Zt=n(270),Jt=n(63);function Kt(t){var e=t.editor,n=t.node,r=t.shortcut,i=r.block,c=i.category,s=Gt(),l=Object(w.a)(s,1)[0],p=Object(a.useContext)(u.g),d=function(){var t=Object(O.a)(g.a.mark((function t(a){var o,c,s,l,d,f,m,b,v,y,h,j,O,x,k;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===a.button){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,o=e.components.get(i.name)){t.next=7;break}return p.emit(u.c,"Component not found: ".concat(i.name)),t.abrupt("return");case 7:return c={},n&&r.nodeKey&&(c[r.nodeKey]=n.id),t.next=11,e.createNodeAtCursor(o,c);case 11:if(s=t.sent,e.view.nodes.get(s)._drag.down(a),r.connections){l=Object(vt.a)(r.connections);try{for(l.s();!(d=l.n()).done;)f=d.value,m=f.from,b=f.to,v=f.fromOutput,y=v?n.outputs.get(m):n.inputs.get(m),h=v?s.inputs.get(b):s.outputs.get(b),j=v?[y,h]:[h,y],O=Object(w.a)(j,2),x=O[0],k=O[1],x&&k?e.connect(x,k):console.warn("Could not connect",x,"to",k)}catch(g){l.e(g)}finally{l.f()}}t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),p.emit(u.c,t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}();Object(z.a)();var f=Ft(i);return Object(m.jsx)("div",{ref:Jt.a,className:T()("btn node-shortcut-button px-1 pt-0 pb-1","shortcut-block-".concat(i.name)),"data-tip":l&&i.info?"".concat(f," : ").concat(i.info):f,"data-delay-show":100,style:{color:c.data.color,borderColor:c.data.color,cursor:"grab"},onMouseDown:d,onClick:d,children:i.icon?o.a.createElement(i.icon):Ft(i)})}var Xt=n(274);function Qt(t){var e=t.prop,n=t.node,r=t.hideLeft,a=t.hideRight,o=t.bindSocket,i=t.bindControl,c=Gt(),s=Object(w.a)(c,1)[0],u=!!n.data["editor:advanced"],l=n.inputs.get(e.key),p=n.outputs.get(e.key),d=n.controls.get(e.key)||(null===l||void 0===l?void 0:l.showControl())&&l.control;if(Object(z.a)(),e.advanced&&!u&&(!l||!l.connections.length)&&(!p||!p.connections.length)&&(!d||d.getValue()===d.getDefaultValue()))return null;var f=l&&!r&&Object(m.jsx)(Wt,{type:"input",socket:l.socket,propKey:e.key,io:l,innerRef:o}),b=p&&!a&&Object(m.jsx)(Wt,{type:"output",propKey:e.key,socket:p.socket,io:p,innerRef:o}),v=d&&Object(m.jsx)(At.a,{className:l?"input-control":"control",control:d,innerRef:i}),y=s?Dt(e.info):null;return Object(m.jsxs)("div",{className:T()("prop","key-"+Object(Xt.a)(e.key),!u&&e.advanced&&"advanced"),"data-tip":y,"data-delay-show":100,children:[Object(m.jsxs)("div",{className:"input",children:[f,v||f&&Object(m.jsx)("div",{className:"input-title",children:Ut(e)})]}),Object(m.jsxs)("div",{className:"output",children:[!l&&b&&Object(m.jsx)("div",{className:"output-title",children:Ut(e)}),b]})]})}function $t(t){var e=t.block,n=t.nodeHandle,r=Gt(),a=Object(w.a)(r,1)[0],i=n.props,c=i.editor,s=i.node,u=i.bindSocket,l=i.bindControl,p=n.state.selected,d=function(t,n){return e[t]&&e[t]in e.props&&!e.props[e[t]].hidden&&s[n].get(e[t])},f=d("topLeft","inputs"),b=d("topRight","outputs"),v=Ht(s,c,!0);e.computeTitle&&(v=Object(m.jsx)(zt,{editor:c,node:s,block:e,fallback:v,showInfo:a}));var y=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=l.apply(void 0,[e].concat(r));return e&&(e.title=Ut(t)),o}},h=s.data["editor:border"],j=32*(s.data["editor:width"]||e.width||6)-3,g={border:!!h&&"2px solid ".concat(h),width:j,minWidth:j};return Object(z.a)(),Object(m.jsxs)("div",{style:g,className:T()("node","node-id-".concat(s.id),p,e.className),children:[Object(m.jsxs)("div",{className:"header d-flex",children:[f&&Object(m.jsx)("div",{children:Object(m.jsx)(Wt,{type:"input",propKey:e.topLeft,socket:f.socket,io:f,innerRef:u})}),Object(m.jsxs)("div",{className:"title d-inline-block flex-grow-1 d-flex text-nowrap overflow-hidden",style:{color:e.category.data.color},"data-tip":!e.computeTitle&&a&&e.info?Dt(e.info):void 0,children:[e.icon&&Object(m.jsx)("span",{className:"d-inline-block pe-1",style:{transform:"translateY(-.2em)"},children:o.a.createElement(e.icon)}),v]}),b&&Object(m.jsx)("div",{children:Object(m.jsx)(Wt,{type:"output",propKey:e.topRight,socket:b.socket,io:b,innerRef:u})})]}),e.shortcuts.length>0&&Object(m.jsx)(Zt.a,{className:"px-4 py-1 w-100",style:{background:"#0002"},children:e.shortcuts.map((function(t,e){return Object(m.jsx)(Kt,{editor:c,node:s,shortcut:t},e)}))}),Object.values(e.props).filter((function(t){return!t.hidden&&(t.control||(!f||t.key!==e.topLeft)&&(!b||t.key!==e.topRight))})).map((function(t){return Object(m.jsx)(Qt,{prop:t,node:s,hideLeft:t.key===e.topLeft,hideRight:t.key===e.topRight,bindSocket:u,bindControl:y(t)},t.key)}))]})}var Yt=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(){return Object(yt.a)(this,n),e.apply(this,arguments)}return Object(ht.a)(n,[{key:"render",value:function(){var t=this.props.node;try{var e=Object(Et.b)(t.name),n=e.component||$t;return Object(m.jsx)(n,{block:e,nodeHandle:this})}catch(r){return console.error(r),Object(m.jsx)("span",{className:"h4 mb-0 bg-light text-dark",children:"<Error>"})}}}]),n}(At.b),te=n(118),ee=n(119),ne=n.n(ee),re=n(74),ae=n(29),oe=["x","y","touch","style","handleCloseMenu","children"];function ie(t){var e=t.x,n=t.y,r=(t.touch,t.style),o=t.handleCloseMenu,i=t.children,c=Object(k.a)(t,oe),s=Object(a.useMemo)((function(){return Object(x.a)({zIndex:500,position:"absolute",left:ae.isMobile?150:e,top:ae.isMobile?150:n,boxShadow:ae.isMobile&&"0 2px 10px #000E",pointerEvents:"all"},r)}),[e,n,r]),u=Object(a.useCallback)((function(t){if(t){var e=function(t){return t.stopPropagation()};t.addEventListener("mousedown",e),t.addEventListener("touchstart",e),t.addEventListener("pointermove",e),t.addEventListener("mousemove",e),t.addEventListener("wheel",e)}}),[]),l=Object(a.useCallback)((function(t){if(t){var e=function(){var e=t.getBoundingClientRect().bottom-window.innerHeight;e>0&&(t.style.top="".concat(n-e,"px"))};e(),t.onresize=e}}),[n]);return Object(m.jsx)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:"context-menu-screen",style:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none"},ref:u,onKeyDown:function(t){return 27===t.keyCode&&o()}},Object($.c)(o)),c),{},{children:Object(m.jsx)("div",{className:"context-menu-container",style:s,ref:l,children:Object(m.jsx)("div",{className:"context-menu",children:i})})}))}var ce=o.a.createContext(null);function se(t){var e=t.children,n=t.color;return Object(m.jsx)("span",{className:"context-menu-icon",style:{color:n},children:e})}var ue=["icon","color","selected","onAction","children","style","className"];function le(t){var e=t.icon,n=t.color,r=t.selected,a=t.onAction,o=t.children,i=t.style,c=t.className,s=Object(k.a)(t,ue);return Object(m.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:T()(c,"context-menu-action",r&&"selected"),style:Object(x.a)({color:n,userSelect:"none"},i)},Object($.c)((function(t){return null===a||void 0===a?void 0:a(t)}))),s),{},{children:[e&&Object(m.jsx)(se,{children:e}),o]}))}function pe(t){return JSON.parse(JSON.stringify(t))}var de=function(){var t=Object(O.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,Promise.all(e.selected.list.map(function(){var t=Object(O.a)(g.a.mark((function t(r){var a,o,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getComponent(r.name),t.next=3,a.createNode(pe(r.data));case 3:return(o=t.sent).meta=pe(r.meta),i=[r.position[0]+25,r.position[1]+25],o.position[0]=i[0],o.position[1]=i[1],e.addNode(o),n[r.id]=o,t.abrupt("return",{original:r,clone:o});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:t.sent.forEach((function(t){var n=t.original;e.selected.remove(n),n.update()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function fe(){var t=Object(a.useContext)(ce).editor;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(le,{onAction:function(){return de(t)},children:"Clone"}),Object(m.jsx)(le,{onAction:function(){return t.selected.each((function(e){return t.removeNode(e)}))},children:"Delete"})]})}var me=n(19),be=n(271),ve=["component","specialTitle"];function ye(t){var e=t.component,n=t.specialTitle,r=Object(k.a)(t,ve),a=e.block,i=null===a||void 0===a?void 0:a.category,c=Gt(),s=Object(w.a)(c,1)[0];if(null===a||void 0===a?void 0:a.info){var u,l=Dt(a.info);s&&(null===(u=a.useCases)||void 0===u?void 0:u.length)&&(l+="<br>Use cases: ".concat(a.useCases.join(", "))),r=Object(x.a)({"data-tip":l,"data-place":"right"},r)}Object(z.a)();var p=Ft(a)||e.name;return Object(m.jsx)(le,Object(x.a)(Object(x.a)({icon:o.a.createElement((null===a||void 0===a?void 0:a.icon)||(null===i||void 0===i?void 0:i.data.icon)||me.G),color:null===i||void 0===i?void 0:i.data.color,className:T()("component-".concat(e.name),n&&"custom-title custom-title-".concat(Object(be.a)(n)))},r),{},{children:void 0!==n?Object(m.jsxs)(m.Fragment,{children:[n," ",Object(m.jsxs)("span",{style:{opacity:.5},children:["(",p,")"]})]}):p}))}var he=["value","onChange","onAction","onKeyDown","children"];function je(t){var e=t.value,n=t.onChange,r=t.onAction,o=t.onKeyDown,i=t.children,c=Object(k.a)(t,he),s=Object(a.useCallback)((function(t){t&&t.focus()}),[{}]),u=(o||r)&&function(t){o&&o(t),r&&"Enter"===t.key&&r()};return Object(m.jsxs)("div",Object(x.a)(Object(x.a)({},Object($.c)((function(t){return t.stopPropagation()}))),{},{children:[Object(m.jsx)("input",Object(x.a)({type:"text",className:"context-menu-search",autoFocus:!0,ref:s,autoComplete:"blocks-search",value:e||"",onChange:n&&function(t){return n(t.target.value)},onKeyDown:u},c)),Object(m.jsx)("div",{className:"context-menu-search-area",style:{maxHeight:ae.isMobile?"15rem":"25rem"},children:i})]}))}function ge(t){return JSON.parse(JSON.stringify(t))}function Oe(t,e){return xe.apply(this,arguments)}function xe(){return(xe=Object(O.a)(g.a.mark((function t(e,n){var r,a,o,i,c,s,u,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.data,a=n.meta,o=n.position,c=(i=void 0===o?{}:o).x,s=i.y,t.next=3,e.createNode(r?ge(r):{});case 3:return u=t.sent,a&&(u.meta=Object.assign(ge(a),u.meta)),l=[c,s],u.position[0]=l[0],u.position[1]=l[1],t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ke(){var t=Object(a.useState)(""),e=Object(w.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(0),i=Object(w.a)(o,2),c=i[0],s=i[1],u=Object(a.useContext)(ce),l=u.editor,p=u.mouse,d=u.context,f=function(t,e){var n=Object(bt.a)(t.components).map((function(t){return t.name})).join("##");return Object(a.useMemo)((function(){return Object(bt.a)(t.components.values()).filter((function(t){var e,n;return t&&"block"in t&&!(null===(e=t.block)||void 0===e?void 0:e.hidden)&&!(null===(n=t.block)||void 0===n?void 0:n.deprecated)})).map((function(t){return[e(t),t]})).sort((function(t,e){var n=Object(w.a)(t,1)[0],r=Object(w.a)(e,1)[0];if(Array.isArray(n)){for(var a=0;a<n.length;a++){var o="number"===typeof n[a]?n[a]-r[a]:n[a].localeCompare(r[a]);if(0!==o)return o}return 0}return n.localeCompare(r)})).map((function(t){return Object(w.a)(t,2)[1]}))}),[n])}(l,(function(t){var e,n;return[-((null===(e=t.block)||void 0===e?void 0:e.category.data.priority)||0),(null===(n=t.block)||void 0===n?void 0:n.category.root.name)||"",t.data.title||t.name]}));d?f=function(t,e,n){var r,a,o,i,c,s;if(!t&&!e)return n;var u=null===t||void 0===t||null===(r=(a=t.socket).findType)||void 0===r?void 0:r.call(a),l=null===e||void 0===e||null===(o=(i=e.socket).findType)||void 0===o?void 0:o.call(i);if((null===(c=u)||void 0===c?void 0:c.data.reversed)||(null===(s=l)||void 0===s?void 0:s.data.reversed)){var p=[l,u];u=p[0],l=p[1]}return n.filter((function(t){return(!u||t.block.outputs.some((function(t){return!t.hidden&&!t.advanced&&(u.isSubtype(t.type)||t.inferType&&t.type.isSubtype(u))})))&&(!l||t.block.inputs.some((function(t){return!t.hidden&&!t.advanced&&(t.inferType&&l.isSubtype(t.type)||t.type.isSubtype(l))})))}))}(d.input,d.output,f):(f=f.filter((function(t){return t.block.global})),n="");var b=[];if(f.forEach((function(t){try{var e=t.block;if(n&&e.customSearch){var r=e.customSearch(n,u);r&&(Array.isArray(r)?r:[r]).forEach((function(e){e.component=t,b.push(e)}))}}catch(a){console.warn("Error while adding custom search result for ".concat(t.name)),console.warn(a)}})),b.sort((function(t,e){return(e.priority||0)-(t.priority||0)})),n){var v=n.toLowerCase();f=f.filter((function(t){var e;return(null===(e=t.keywords)||void 0===e?void 0:e.some((function(t){return t.toLowerCase().startsWith(v)})))||t.name.toLowerCase().startsWith(v)}))}b.push.apply(b,Object(bt.a)(f.map((function(t){return{component:t}})))),c=Math.min(b.length-1,c);var y=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.length){t.next=3;break}return t.next=3,h(b[c]);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=Object(a.useCallback)(function(){var t=Object(O.a)(g.a.mark((function t(e){var n,a,o,i,c,s,u,f,m;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.component,a=e.data,o=e.meta,r(""),l.trigger("hidecontextmenu"),i=(null===d||void 0===d?void 0:d.input)?{x:p.x-180,y:p.y}:p,t.next=6,Oe(n,{data:a,meta:o,position:i});case 6:if(c=t.sent,l.addNode(c),d)try{s=d.input,u=d.output,s&&(f=Object(bt.a)(c.outputs.values()).find((function(t){return s.socket.compatibleWith(t.socket)})),f&&l.connect(f,s)),u&&(m=Object(bt.a)(c.inputs.values()).find((function(t){return t.socket.compatibleWith(u.socket)})),m&&l.connect(u,m))}catch(b){console.error("Unable to connect relevant input/output"),console.error(b)}case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[l,p,d]),j=b.map((function(t,e){return Object(m.jsx)(ye,{component:t.component,specialTitle:t.title,selected:c===e,onAction:function(){return h(t)}},"".concat(t.title).concat(t.component.name).concat(e))}));return d?Object(m.jsx)(je,{value:n,onChange:r,onKeyDown:function(t){38===t.keyCode&&s(Math.max(0,c-1)),40===t.keyCode&&s(c+1)},onAction:y,children:j}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"noselect p-2 text-light",style:{opacity:.5,background:"#FFF2"},children:"Place anywhere:"}),j]})}var we=Object(ct.a)(null);var Ce={name:"blocks-contextmenu",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.bind("hidecontextmenu"),t.bind("showcontextmenu");var n,r,a=e.offset?[e.offset.x,e.offset.y]:[-10,-10],o=Object(w.a)(a,2),i=o[0],s=o[1],u=null,l=function(){we.set(null),u&&(u.style.display="none")};t.on(["hidecontextmenu","contextmenu","click"],l),t.on("contextmenu",(function(e){var r,a,o=e.e,l=e.node,p=e.context,d=e.touch;if(null===(r=o.preventDefault)||void 0===r||r.call(o),null===(a=o.stopPropagation)||void 0===a||a.call(o),!p&&o.ctrlKey&&(p={}),t.trigger("showcontextmenu",{e:o,node:l,context:p,touch:d})){l&&(t.selected.contains(l)||t.selectNode(l));var f=[o.clientX,o.clientY],b=f[0],v=f[1];u||(u=document.createElement("div"),t.view.container.appendChild(u));var y={editor:t,mouse:n,node:l,context:p};we.set(y),u.style.display="block",c.a.render(Object(m.jsx)(ie,{x:b+i,y:l?v-50:v+s,touch:d,handleCloseMenu:function(){return t.trigger("hidecontextmenu")},children:Object(m.jsx)(ce.Provider,{value:y,children:l?Object(m.jsx)(fe,{}):Object(m.jsx)(ke,{})})}),u)}})),t.on("destroy",(function(){t.trigger("hidecontextmenu"),u&&(u.remove(),u=null)}));var p=!1,d=!1;t.view.container.addEventListener("pointermove",(function(t){return r=t})),t.on("mousemove",(function(t){n=t,p=!0})),t.on("connectionpick",(function(t){p=!1;var e=Object(bt.a)(t.connections);setTimeout((function(){t.connections.length<e.length&&(d=!0)}))})),t.on("connectiondrop",(function(e){if(p)if(d)d=!1;else{var n=Object(bt.a)(e.connections);setTimeout((function(){e.connections.length!==n.length||e.connections.some((function(t,e){return t.input!==n[e].input||t.output!==n[e].output}))||t.trigger("contextmenu",{e:r,context:{input:e instanceof wt.d.Input?e:null,output:e instanceof wt.d.Output?e:null}})}))}})),t.view.container.addEventListener("mousedown",(function(t){we.get()&&l()}));var f,b,v,y=function(t){var e,n=null===(e=t.changedTouches)||void 0===e?void 0:e[0];return n?{x:n.pageX,y:n.pageY}:{}};t.view.container.addEventListener("touchstart",(function(t){we.get()?l():(f=y(t),clearTimeout(v),v=setTimeout((function(){f=null}),300))})),t.view.container.addEventListener("touchend",(function(e){setTimeout((function(){if(f){console.log(1223);var n=y(e),r=n.x,a=n.y;Math.abs(r-f.x)+Math.abs(a-f.y)<20&&(f=null,t.trigger("contextmenu",{e:e,node:b,touch:!0}),b=null)}}))})),t.on("selectnode",(function(t){var e=t.node;return b=e}))}},Te=Ce;var Ne={name:"connection-drop",install:function(t){var e=function(t){t.code};document.addEventListener("keydown",e),t.on("destroy",(function(){return document.removeEventListener("keydown",e)}))}};var Ie={name:"connection-opacity",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDistance,r=void 0===n?500:n,a=e.opacityFalloff,o=void 0===a?200:a;t.on(["renderconnection","updateconnection","zoom"],(function(){setTimeout((function(){var e,n=Object(vt.a)(t.view.container.querySelectorAll(".connection .main-path"));try{for(n.s();!(e=n.n()).done;){var a=e.value,i=a.getBoundingClientRect().width;a.style.opacity=1/(1+Math.sqrt(Math.max(i-r,0)/o))}}catch(c){n.e(c)}finally{n.f()}}))}))}},Pe=Ie;function _e(t){var e=t instanceof wt.d.Input?"output":"input";t.connections.sort((function(t,n){var r=t[e].node.position,a=n[e].node.position;return r[1]-a[1]||r[0]-a[0]}))}var Me={name:"position-sort",install:function(t){t.on("connectioncreated",(function(t){_e(t.input),_e(t.output)})),t.on("nodedragged",(function(t){for(var e=0,n=[[t.inputs,"output"],[t.outputs,"input"]];e<n.length;e++){var r,a=Object(w.a)(n[e],2),o=a[0],i=a[1],c=Object(vt.a)(o.values());try{for(c.s();!(r=c.n()).done;){var s,u=r.value,l=Object(vt.a)(u.connections);try{for(l.s();!(s=l.n()).done;){_e(s.value[i])}}catch(p){l.e(p)}finally{l.f()}}}catch(p){c.e(p)}finally{c.f()}}}))}};var Se={name:"drag-button",install:function(t){}},Le=Object(ct.a)(null),Ae=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;Object(yt.a)(this,t),this.maxLength=e,this.delay=n,this.undoHistory=[],this.redoHistory=[],this.current=void 0,this._timeout=void 0}return Object(ht.a)(t,[{key:"clear",value:function(){this.undoHistory.length=0,this.redoHistory.length=0,this._resetCurrent()}},{key:"_resetCurrent",value:function(){this.current=void 0,clearTimeout(this._timeout),this._timeout=void 0}},{key:"_applyCurrent",value:function(){for(this.redoHistory.length=0,this.undoHistory.push(this.current);this.undoHistory.length>this.maxLength;)this.undoHistory.shift()}},{key:"add",value:function(t){var e=this;this.current=t,clearTimeout(this._timeout),this._timeout=setTimeout((function(){e._applyCurrent()}),this.delay)}},{key:"undo",value:function(){if(this.undoHistory.length){var t=this.undoHistory.pop();return this.redoHistory.push(t),t}}},{key:"redo",value:function(){if(this.redoHistory.length){var t=this.redoHistory.pop();return this.undoHistory.push(t),t}}}]),t}();var Ee={name:"history",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.history;t.bind("history"),t.bind("undo"),t.bind("redo"),n&&"number"!==typeof n||(n=new Ae(n)),t.on("history",(function(t){n.add(t)})),t.on("undo",(function(){})),t.on("redo",(function(){}));var r=function(e){var n=e.key;(e.ctrlKey||e.metaKey)&&("z"===n&&t.trigger(e.shiftKey?"redo":"undo"),"y"===n&&t.trigger("redo"))};document.addEventListener("keydown",r),t.on("destroy",(function(){return document.removeEventListener("keydown",r)}))}},Re=Ee,Fe=Object(ct.a)([]),He="0.3.0";function De(t){var e,n,r;return null!==(e=null!==(n=null===(r=t.type)||void 0===r?void 0:r.data.category)&&void 0!==n?n:t.data.category)&&void 0!==e?e:"none"}var ze,qe,Be,Ue,Ve,Ge,We,Ze,Je=function(t,e){return t.nodes.find((function(t){return t.id===e}))},Ke=function(t,e){return{isComplete:function(t){return Je(t.editor,e)},setupNode:function(n,r){n.name!==t||Je(r.editor,e)||(n.id=e)}}},Xe=Object(d.c)(ze||(ze=Object(p.a)(["\n    box-shadow: 0 0 1.5rem #FFF !important;\n"]))),Qe=Object(d.e)(qe||(qe=Object(p.a)(["\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(1.1);\n    }\n    100% {\n        transform: scale(1);\n    }\n"]))),$e=Object(d.c)(Be||(Be=Object(p.a)(["\n    animation: "," 1.5s ease-out infinite;\n"])),Qe);function Ye(t,e){var n=".node-id-".concat(t);return e?"".concat(n," .prop.key-").concat(e):n}function tn(t,e){return Object(d.c)(Ue||(Ue=Object(p.a)(["\n        "," {\n            ","\n        }\n\n        ","\n    "])),Ye(t),Xe,e?Object(d.c)(Ve||(Ve=Object(p.a)(["\n            "," {\n                //box-shadow: 0 0 .5rem #FFF !important;\n                background: #FFF2 !important;\n\n                input, select {\n                    &:not(:focus) {\n                        ","\n                    }\n                }\n            }\n        "])),Ye(t,e),$e):void 0)}function en(t,e){return Object(d.c)(Ge||(Ge=Object(p.a)(["\n        ","\n        "," .socket.key-"," {\n            ","\n        }\n    "])),tn(t),Ye(t),e,$e)}function nn(t,e){return Object(d.c)(We||(We=Object(p.a)(["\n        "," .node-shortcut-button.shortcut-block-"," {\n            border: 2px solid white !important;\n            ","\n            ","\n        }\n    "])),Ye(t),e,Xe,$e)}function rn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(d.c)(Ze||(Ze=Object(p.a)(["\n        .context-menu .component-",""," {\n            box-shadow: 0 0 .5rem #FFFA !important;\n            border: 1px solid white;\n\n            background: inherit !important;\n\n            ","\n        }\n    "])),t,!0===e?".custom-title":e?".".concat(e):"",$e)}var an=n(47),on=Object(V.b)("blocks.outputPanel",null);function cn(){return Object(an.a)(on)}function sn(t){return t?t.charAt(0).toUpperCase()+t.substring(1):""}var un,ln=ae.isMobile?"tap":"click",pn=ae.isMobile?"tap":"right click",dn=ae.isMobile?"tap and then drag":"click and drag",fn=ae.isMacOs?"CMD":"CTRL",mn=n(70);function bn(){return"hidden"===Object(mn.a)("menu")}var vn,yn,hn,jn,gn,On,xn,kn,wn,Cn,Tn,Nn,In,Pn,_n,Mn,Sn,Ln,An,En=function(){return{title:"View the smart contract",info:"".concat(sn(ln),' the "Compile" button at the bottom right of the page.'),style:Object(d.c)(un||(un=Object(p.a)(["\n            .compile-button {\n                border: 1px solid white;\n                ","\n                ","\n            }\n        "])),Xe,$e),isComplete:function(t,e){var n=e.outputPanel;return bn()||n}}},Rn="helloFunction",Fn="helloReturn",Hn="helloText",Dn=function(t){return Je(t,Rn)},zn=function(t){return Je(t,Fn)},qn=function(t){return Je(t,Hn)},Bn={id:"hello-world",name:"Hello, World!",description:"Create a simple Blocks smart contract.",style:Object(d.c)(vn||(vn=Object(p.a)(["\n\n"]))),setupVariables:function(t){return{contextMenu:we,editorState:mt,editorSelection:Fe,outputPanel:on}},steps:[Object(x.a)(Object(x.a)({},Ke("Function",Rn)),{},{title:"Create a function",style:Object(d.c)(yn||(yn=Object(p.a)(["\n            ","\n        "])),rn("Function")),render:function(t,e){var n=e.contextMenu;return n?n.node?Object(m.jsxs)(m.Fragment,{children:["Make sure to ",pn," on empty space."]}):Object(m.jsxs)(m.Fragment,{children:["Select the ",Object(m.jsx)("code",{children:"Function"})," block."]}):"".concat(sn(pn)," somewhere in the editor space.")}}),{title:"Clear the selection",info:"Left-click somewhere in the editor space.",isComplete:function(t,e){var n=e.editorSelection;return!(null===n||void 0===n?void 0:n.length)||zn(t.editor)}},{title:"Name the function",style:Object(d.c)(hn||(hn=Object(p.a)(["\n            ","\n        "])),tn(Rn,"name")),render:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:["Type something into the ",Object(m.jsx)("code",{children:"Name"})," field."]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("small",{children:["For example: ",Object(m.jsx)("code",{children:"hello"})]})]})},isComplete:function(t){return Dn(t.editor).data.name}},Object(x.a)(Object(x.a)({},Ke("Return",Fn)),{},{title:"Add a Return statement",info:"".concat(sn(dn)," the outlined button."),style:Object(d.c)(jn||(jn=Object(p.a)(["\n            ","\n            ","\n            ","\n        "])),nn(Rn,"Return"),rn("Return"),tn(Fn)),render:function(){return Object(m.jsxs)("small",{children:["This is a shortcut for adding a ",Object(m.jsx)("code",{children:"Return"})," statement."]})}}),{title:"Connect the Return statement",info:"Connect the two indicated sockets.",style:Object(d.c)(gn||(gn=Object(p.a)(["\n            ","\n            ","\n        "])),en(Rn,"body"),en(Fn,"statement")),isComplete:function(t){var e=Dn(t.editor).outputs.get("body").connections;return!!e.some((function(t){return t.input.node.id===Fn}))||(e.forEach((function(e){return t.editor.removeConnection(e)})),!1)}},Object(x.a)(Object(x.a)({},Ke("LiteralText",Hn)),{},{title:"Return a text value",style:Object(d.c)(On||(On=Object(p.a)(["\n            ","\n            ","\n            ","\n        "])),rn("LiteralText"),en(Fn,"value"),tn(Hn)),render:function(t,e){var n=e.contextMenu;return n?n.context?Object(m.jsxs)(m.Fragment,{children:["Type ",Object(m.jsx)("code",{children:"text"})," into the search bar and click on the outlined result."]}):Object(m.jsxs)(m.Fragment,{children:["Make sure to drag from the ",Object(m.jsx)("code",{children:"Value"})," socket on the ",Object(m.jsx)("code",{children:"Return"})," block."]}):Object(m.jsxs)(m.Fragment,{children:[sn(dn)," from the ",Object(m.jsx)("code",{children:"Value"})," socket."]})}}),{title:"Connect the Text block",info:"Connect the two indicated sockets.",style:Object(d.c)(xn||(xn=Object(p.a)(["\n            ","\n            ","\n        "])),en(Fn,"value"),en(Hn,"value")),isComplete:function(t){var e=zn(t.editor).inputs.get("value").connections;return!!e.some((function(t){return t.output.node.id===Hn}))||(e.forEach((function(e){return t.editor.removeConnection(e)})),!1)}},{title:"Define the Text content",style:Object(d.c)(kn||(kn=Object(p.a)(["\n            ","\n        "])),tn(Hn,"value")),render:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:["Type something into the ",Object(m.jsx)("code",{children:"Value"})," field."]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("small",{children:["For example: ",Object(m.jsx)("code",{children:"Hello world!"})]})]})},isComplete:function(t){return qn(t.editor).data.value}},Object(x.a)(Object(x.a)({},En()),{},{render:function(t){var e=Dn(t.editor),n=qn(t.editor);return Object(m.jsxs)("small",{children:["Your function is named ",Object(m.jsx)("code",{children:e.data.name})," ","with a return value of ",Object(m.jsxs)("code",{children:['"',n.data.value,'"']}),"."]})}})]},Un=new Map(Object.entries({c:"Comment",v:"CommentRegion","-":"Subtract","=":"Add",8:"Multiply","/":"Divide",7:"And","\\":"Or",1:"Not",f:"Function",s:"State",p:"MainParameter",r:"Return",",":"LiteralTuple",".":"LiteralIdentifier","'":"LiteralText",x:"CodeValue",b:"LiteralBool",n:"LiteralNat",i:"LiteralInt",d:"LiteralFloat",a:"NewArray",m:"NewHashMap",o:"Optional",u:"OptionalUnwrap"}).map((function(t){var e=Object(w.a)(t,2),n=e[0],r=e[1];return[n,Object(Et.b)(r)]}))),Vn=new Map(Object(bt.a)(Un.entries()).map((function(t){var e=Object(w.a)(t,2),n=e[0];return[e[1],n]}))),Gn=new Map(Object.entries({q:"reference"})),Wn="powerState",Zn="powerInitialValue",Jn="powerFunction",Kn="powerReturn",Xn="powerReturnValue",Qn="powerMember",$n=function(t){return Je(t,Wn)},Yn={id:"power-user",name:"Power User",description:"Learn how to use the Blocks Editor like a pro.",style:Object(d.c)(wn||(wn=Object(p.a)(["\n\n"]))),setupVariables:function(t){return{contextMenu:we,editorState:mt,editorSelection:Fe,outputPanel:on}},steps:[{info:"This tutorial is intended for devices with a mouse and keyboard.",isComplete:function(){return!ae.isMobile}},Object(x.a)(Object(x.a)({},Ke("State",Wn)),{},{title:"Create a state",style:Object(d.c)(Cn||(Cn=Object(p.a)(["\n            ","\n        "])),rn("State")),render:function(t,e){e.contextMenu;return Object(m.jsxs)(m.Fragment,{children:["Press ",Object(m.jsx)("code",{children:Vn.get(Object(Et.b)("State"))})," to quickly add a new State block."]})}}),{title:"Name the state",style:Object(d.c)(Tn||(Tn=Object(p.a)(["\n            ","\n        "])),tn(Wn,"name")),render:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:["Type something into the ",Object(m.jsx)("code",{children:"Name"})," field."]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("small",{children:["For example: ",Object(m.jsx)("code",{children:"storage"})]})]})},isComplete:function(t){return $n(t.editor).data.name}},Object(x.a)(Object(x.a)({},Ke("LiteralNat",Zn)),{},{title:"Define the initial value",style:Object(d.c)(Nn||(Nn=Object(p.a)(["\n            ","\n            ","\n            ","\n        "])),rn("LiteralNat",!0),en(Wn,"initialValue"),tn(Zn)),render:function(t,e){var n=e.contextMenu;return n?n.context?Object(m.jsxs)(m.Fragment,{children:["Type ",Object(m.jsx)("code",{children:"5"})," into the search bar and click on the outlined result."]}):Object(m.jsxs)(m.Fragment,{children:["Make sure to drag from the ",Object(m.jsx)("code",{children:"Initial value"})," socket on the ",Object(m.jsx)("code",{children:"State"})," block."]}):Object(m.jsxs)(m.Fragment,{children:[sn(dn)," from the ",Object(m.jsx)("code",{children:"Initial value"})," socket."]})}}),Object(x.a)(Object(x.a)({},Ke("Function",Jn)),{},{title:"Create a function",style:Object(d.c)(In||(In=Object(p.a)(["\n            ","\n        "])),rn("Function")),render:function(t,e){e.contextMenu;return Object(m.jsxs)(m.Fragment,{children:["Press ",Object(m.jsx)("code",{children:Vn.get(Object(Et.b)("Function"))})," to quickly add a new Function block."]})}}),Object(x.a)(Object(x.a)({},Ke("Return",Kn)),{},{title:"Add a Return statement",info:"".concat(sn(dn)," the outlined button."),style:Object(d.c)(Pn||(Pn=Object(p.a)(["\n            ","\n            ","\n            ","\n        "])),nn(Jn,"Return"),rn("Return"),tn(Kn))}),{title:"Connect the Return statement",info:"Connect the two indicated sockets.",style:Object(d.c)(_n||(_n=Object(p.a)(["\n            ","\n            ","\n        "])),en(Jn,"body"),en(Kn,"statement")),isComplete:function(t){var e,n=(e=t.editor,Je(e,Jn)).outputs.get("body").connections;return!!n.some((function(t){return t.input.node.id===Kn}))||(n.forEach((function(e){return t.editor.removeConnection(e)})),!1)}},Object(x.a)(Object(x.a)({},Ke("StateRead",Xn)),{},{title:"Return the state's value",style:Object(d.c)(Mn||(Mn=Object(p.a)(["\n            ","\n            ","\n            ","\n        "])),rn("StateRead",!0),en(Kn,"value"),tn(Xn,"value")),render:function(t,e){var n,r=e.contextMenu;if(!r)return Object(m.jsxs)(m.Fragment,{children:[sn(dn)," from the ",Object(m.jsx)("code",{children:"Value"})," socket."]});if(!r.context)return Object(m.jsxs)(m.Fragment,{children:["Make sure to drag from the ",Object(m.jsx)("code",{children:"Value"})," socket on the ",Object(m.jsx)("code",{children:"Return"})," block."]});var a=(null===(n=$n(t.editor))||void 0===n?void 0:n.data.name)||"state";return Object(m.jsxs)(m.Fragment,{children:["Type ",Object(m.jsx)("code",{children:a})," (the name of your State block) into the search bar and click on the outlined result."]})}}),{title:"Use the relevant state",style:Object(d.c)(Sn||(Sn=Object(p.a)(["\n            ","\n        "])),tn(Xn,"stateNode")),render:function(t,e){e.contextMenu;var n,r=(null===(n=$n(t.editor))||void 0===n?void 0:n.data.name)||"state";return Object(m.jsxs)(m.Fragment,{children:["Select ",Object(m.jsx)("code",{children:r})," in the drop-down menu."]})},isComplete:function(t){var e;return(e=t.editor,Je(e,Xn)).data.stateNode}},Object(x.a)(Object(x.a)({},Ke("CodeMember",Qn)),{},{title:"Add a custom member block",style:Object(d.c)(Ln||(Ln=Object(p.a)(["\n            ","\n        "])),rn("CodeMember")),render:function(){var t=we.get();return t?t.context?Object(m.jsxs)(m.Fragment,{children:["Type in ",Object(m.jsx)("code",{children:"member"})," and select the ",Object(m.jsxs)("code",{children:["{"," Member ","}"]})," block."]}):Object(m.jsxs)(m.Fragment,{children:["Make sure to hold ",fn," and ",pn,"."]}):Object(m.jsxs)(m.Fragment,{children:["Hold ",fn," and ",pn," in the editor space.",Object(m.jsx)("hr",{}),Object(m.jsx)("small",{children:"This makes it possible to search all available blocks."})]})}}),{title:"Add some custom code",style:Object(d.c)(An||(An=Object(p.a)(["\n            ","\n        "])),tn(Qn,"expression")),render:function(){return Object(m.jsxs)(m.Fragment,{children:["Type something in the custom Member block.",Object(m.jsx)("hr",{}),Object(m.jsxs)("small",{children:["Example: ",Object(m.jsx)("code",{children:"let custom = 0;"})]})]})},isComplete:function(t){var e,n;return(null===(e=(n=t.editor,Je(n,Qn)).data.expression)||void 0===e?void 0:e.length)>=15}},Object(x.a)({},En())]},tr=[Bn,Yn],er=Object(ct.a)(null);function nr(){var t=Object(an.a)(er);return Object(w.a)(t,1)[0]}var rr=Object(mn.a)("tutorial"),ar=rr?{tutorial:rr}:null,or=Object(V.b)("blocks.tutorialProgress",ar);function ir(){var t=Object(an.a)(or),e=Object(w.a)(t,2),n=e[0],r=e[1],o=nr(),i=Object(a.useMemo)((function(){if(!n)return null;var t=tr.find((function(t){return t.id===n.tutorial}));return t?Object.freeze(Object(x.a)(Object(x.a)({},n),{},{editor:o,tutorial:t})):null}),[o,n]),c=Object(a.useCallback)((function(t){var e;!n&&t?setTimeout((function(){return pr("tutorial_start")})):n&&!t&&pr("tutorial_end"),r(t?Object(x.a)(Object(x.a)({},t),{},{editor:void 0,tutorial:null===(e=t.tutorial)||void 0===e?void 0:e.id}):null)}),[n,r]);return[i,c]}var cr=n(55),sr=Object(ct.a)(null),ur=Object(V.b)("blocks.telemetry",null);var lr=n(62);function pr(t,e){ft.then((function(n){if(n)try{if(ur.get()){var r,a,o,i=null===(r=or.get())||void 0===r?void 0:r.tutorial;Object(ut.c)(n,t,Object(x.a)({mobile:ae.isMobile,theme:lr.a.get(),editor_version:He,editor_mode:Object(cr.a)()?"embedded":void 0,project:null===(a=mt.get())||void 0===a?void 0:a.name,tutorial:i,tutorial_step:null===(o=sr.get())||void 0===o?void 0:o.title},e||{}))}}catch(c){console.warn("Telemetry error"),console.warn(c)}}))}ft.then((function(t){t&&(t.app.automaticDataCollectionEnabled=ur.get(),ur.subscribe((function(e){Object(ut.c)(t,e?"telemetry_enable":"telemetry_disable"),t.app.automaticDataCollectionEnabled=!!e})))}));var dr=Object(ct.a)(Object(st.a)("menu",null));dr.callAndSubscribe((function(t,e){(t||e)&&pr(t?"menu_open":"menu_close",{interaction:t||e})}));var fr,mr=["title","className","children"],br=d.d.div(fr||(fr=Object(p.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n"])));function vr(t){var e=t.title,n=t.className,r=t.children,a=Object(k.a)(t,mr);return Object(m.jsxs)("div",Object(x.a)(Object(x.a)({className:T()("p-3",n)},a),{},{children:[e&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(br,{children:[Object(m.jsx)("h3",{className:"fw-light mb-0",children:e}),Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"clickable p-2 mb-1"},Object($.c)((function(){return dr.set(null)}))),{},{children:Object(m.jsx)(it.f,{size:18})}))]}),Object(m.jsx)("hr",{})]}),r]}))}var yr,hr,jr,gr=["className"],Or=Object(d.d)(tt)(yr||(yr=Object(p.a)(["\n    padding: 2rem 0;\n    border: 2px #0005 dashed;\n\n    &.dragging, &:hover {\n        background: #0002;\n    }\n"]))),xr=d.d.div(hr||(hr=Object(p.a)(["\n    margin-top: 2.5rem;\n    //padding: .5rem;\n    //border: 6px solid transparent;\n    //border-left-color: var(--bs-secondary);\n"]))),kr=d.d.div(jr||(jr=Object(p.a)(["\n    border-left: 4px solid #0001;\n"])));function wr(t){var e=t.className,n=Object(k.a)(t,gr),r=Object(a.useContext)(u.g),o=Object(a.useContext)(nt),i=Object(X.getExampleCategories)();return Object(m.jsxs)(vr,Object(x.a)(Object(x.a)({title:ae.isMobile&&"Load an example:",className:T()(e)},n),{},{children:[!ae.isMobile&&Object(m.jsx)(Or,{className:T()("clickable text-center text-secondary rounded-3"),options:{accept:Cc.join(",")},onFileContent:o,children:Object(m.jsx)("h5",{children:"Import a .blocks file . . ."})}),i.map((function(t,e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)(xr,{children:[Object(m.jsx)("h4",{className:"fw-bold text-secondary text-uppercase opacity-50",children:t.name}),Object(m.jsx)("h6",{className:"mb-3 text-secondary",children:t.description})]}),Object(m.jsx)(kr,{className:t.className,children:t.examples.map((function(t,e){return Object(m.jsx)(ot,Object(x.a)({name:t.name,description:t.description||"(No description provided)"},Object($.c)((function(){return r.emit(u.f,t)}))),e)}))})]},t.id)}))]}))}var Cr,Tr=n(272),Nr=["title","titleId"];function Ir(){return Ir=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ir.apply(this,arguments)}function Pr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _r(t,e){var n=t.title,r=t.titleId,o=Pr(t,Nr);return a.createElement("svg",Ir({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Cr||(Cr=a.createElement("g",null,a.createElement("path",{d:"M20,15L20,19C20,19.549 19.549,20 19,20C19,20 5,20 5,20C4.451,20 4,19.549 4,19C4,19 4,15 4,15C4,14.448 3.552,14 3,14C2.448,14 2,14.448 2,15L2,19C2,20.646 3.354,22 5,22L19,22C20.646,22 22,20.646 22,19L22,15C22,14.448 21.552,14 21,14C20.448,14 20,14.448 20,15Z"}),a.createElement("path",{d:"M11,12.586L7.707,9.293C7.317,8.903 6.683,8.903 6.293,9.293C5.903,9.683 5.903,10.317 6.293,10.707L11.293,15.707C11.413,15.827 11.556,15.91 11.708,15.957L11.711,15.958C11.795,15.983 11.884,15.998 11.976,16L12,16L12.024,16C12.116,15.998 12.205,15.983 12.289,15.958L12.292,15.957C12.444,15.91 12.587,15.827 12.707,15.707L17.707,10.707C18.097,10.317 18.097,9.683 17.707,9.293C17.317,8.903 16.683,8.903 16.293,9.293L13,12.586L13,3C13,2.448 12.552,2 12,2C11.448,2 11,2.448 11,3L11,12.586Z"}))))}var Mr,Sr=a.forwardRef(_r),Lr=(n.p,["title","titleId"]);function Ar(){return Ar=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ar.apply(this,arguments)}function Er(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rr(t,e){var n=t.title,r=t.titleId,o=Er(t,Lr);return a.createElement("svg",Ar({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Mr||(Mr=a.createElement("path",{d:"M21,8L21,7.988C20.998,7.807 20.947,7.637 20.861,7.492C20.819,7.42 20.767,7.353 20.707,7.293L14.707,1.293C14.647,1.233 14.58,1.181 14.508,1.139C14.362,1.053 14.193,1.002 14.012,1L14,1L6,1C4.354,1 3,2.354 3,4L3,20C3,21.646 4.354,23 6,23L18,23C19.646,23 21,21.646 21,20L21,8ZM13,3L6,3C5.451,3 5,3.451 5,4C5,4 5,20 5,20C5,20.549 5.451,21 6,21C6,21 18,21 18,21C18.549,21 19,20.549 19,20L19,9L14,9C13.448,9 13,8.552 13,8L13,3ZM11,14L9,14C8.448,14 8,14.448 8,15C8,15.552 8.448,16 9,16L11,16L11,18C11,18.552 11.448,19 12,19C12.552,19 13,18.552 13,18L13,16L15,16C15.552,16 16,15.552 16,15C16,14.448 15.552,14 15,14L13,14L13,12C13,11.448 12.552,11 12,11C11.448,11 11,11.448 11,12L11,14ZM15,7L17.586,7L15,4.414L15,7Z"})))}var Fr,Hr=a.forwardRef(Rr),Dr=(n.p,["title","titleId"]);function zr(){return zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zr.apply(this,arguments)}function qr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Br(t,e){var n=t.title,r=t.titleId,o=qr(t,Dr);return a.createElement("svg",zr({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Fr||(Fr=a.createElement("path",{d:"M23,19L23,8C23,6.354 21.646,5 20,5L11.535,5C11.535,5 9.832,2.445 9.832,2.445C9.647,2.167 9.334,2 9,2L4,2C2.354,2 1,3.354 1,5L1,19C1,20.646 2.354,22 4,22L20,22C21.646,22 23,20.646 23,19ZM21,19C21,19.549 20.549,20 20,20C20,20 4,20 4,20C3.451,20 3,19.549 3,19L3,5C3,4.451 3.451,4 4,4C4,4 8.465,4 8.465,4C8.465,4 10.168,6.555 10.168,6.555C10.353,6.833 10.666,7 11,7L20,7C20.549,7 21,7.451 21,8C21,8 21,19 21,19Z"})))}var Ur,Vr=a.forwardRef(Br),Gr=(n.p,["title","titleId"]);function Wr(){return Wr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wr.apply(this,arguments)}function Zr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Jr(t,e){var n=t.title,r=t.titleId,o=Zr(t,Gr);return a.createElement("svg",Wr({width:"100%",height:"100%",viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,a.createElement("g",{id:"Artboard1",transform:"matrix(1.25,0,0,1,0,0)"},a.createElement("rect",{x:0,y:0,width:24,height:24,style:{fill:"none"}}),Ur||(Ur=a.createElement("g",{transform:"matrix(0.8,0,0,1,2.4,0)"},a.createElement("path",{d:"M23,19L23,8C23,6.354 21.646,5 20,5L11.535,5C11.535,5 9.832,2.445 9.832,2.445C9.647,2.167 9.334,2 9,2L4,2C2.354,2 1,3.354 1,5C1,5 1,19 1,19C1,20.646 2.354,22 4,22L20,22C21.646,22 23,20.646 23,19ZM21,19C21,19.549 20.549,20 20,20C20,20 4,20 4,20C3.451,20 3,19.549 3,19L3,5C3,4.451 3.451,4 4,4C4,4 8.465,4 8.465,4C8.465,4 10.168,6.555 10.168,6.555C10.353,6.833 10.666,7 11,7L20,7C20.549,7 21,7.451 21,8L21,19Z"})))))}var Kr,Xr=a.forwardRef(Jr),Qr=(n.p,["title","titleId"]);function $r(){return $r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$r.apply(this,arguments)}function Yr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ta(t,e){var n=t.title,r=t.titleId,o=Yr(t,Qr);return a.createElement("svg",$r({width:"100%",height:"100%",viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,a.createElement("g",{id:"Artboard1",transform:"matrix(1.25,0,0,1,0,0)"},a.createElement("rect",{x:0,y:0,width:24,height:24,style:{fill:"none"}}),Kr||(Kr=a.createElement("g",{transform:"matrix(0.8,0,0,1,0,0)"},a.createElement("path",{d:"M5.8,21.747C5.825,21.769 5.851,21.789 5.878,21.809C6.059,21.941 6.27,22.003 6.479,22L6.527,21.998C6.572,21.995 6.617,21.99 6.661,21.981C6.772,21.993 6.885,22 7,22L23,22C23.32,22 23.621,21.847 23.809,21.588L29.597,13.621C29.818,13.317 29.85,12.914 29.679,12.579C29.509,12.244 29.164,12.033 28.788,12.033L25.939,12.033L26,8C26,6.354 24.646,5 23,5L14.535,5C14.535,5 12.832,2.445 12.832,2.445C12.647,2.167 12.334,2 12,2L7,2C5.354,2 4,3.354 4,5C4,5 4,19 4,19C4,20.22 4.745,21.28 5.8,21.747ZM8.428,20L12.763,14.033L26.826,14.033C26.826,14.033 22.49,20 22.49,20L8.428,20ZM23.939,12.033C23.961,10.57 24,7.993 24,7.987C23.993,7.444 23.544,7 23,7L14,7C13.666,7 13.353,6.833 13.168,6.555C13.168,6.555 11.465,4 11.465,4C11.465,4 7,4 7,4C6.451,4 6,4.451 6,5L6,19C6,19.238 6.085,19.457 6.225,19.629L11.445,12.445L11.445,12.445C11.627,12.196 11.922,12.033 12.254,12.033L23.939,12.033Z"})))))}var ea,na=a.forwardRef(ta),ra=(n.p,["title","titleId"]);function aa(){return aa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}function oa(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ia(t,e){var n=t.title,r=t.titleId,o=oa(t,ra);return a.createElement("svg",aa({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,ea||(ea=a.createElement("path",{d:"M19,22C20.646,22 22,20.646 22,19L22,8C22,7.735 21.895,7.48 21.707,7.293L16.707,2.293C16.52,2.105 16.265,2 16,2L5,2C3.354,2 2,3.354 2,5L2,19C2,20.646 3.354,22 5,22L19,22ZM8,4L8,7L15,7C15.552,7 16,7.448 16,8C16,8.552 15.552,9 15,9L7,9C6.448,9 6,8.552 6,8L6,4L5,4C4.451,4 4,4.451 4,5C4,5 4,19 4,19C4,19.549 4.451,20 5,20L6,20L6,13C6,12.448 6.448,12 7,12L17,12C17.552,12 18,12.448 18,13L18,20L19,20C19.549,20 20,19.549 20,19C20,19 20,8.414 20,8.414C20,8.414 15.586,4 15.586,4L8,4ZM8,20L16,20L16,14C16,14 8,14 8,14L8,20Z"})))}var ca,sa=a.forwardRef(ia),ua=(n.p,["title","titleId"]);function la(){return la=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function pa(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function da(t,e){var n=t.title,r=t.titleId,o=pa(t,ua);return a.createElement("svg",la({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,ca||(ca=a.createElement("path",{d:"M12,1C5.929,1 1,5.929 1,12C1,18.071 5.929,23 12,23C18.071,23 23,18.071 23,12C23,12 23,11.964 23,11.964C22.998,11.52 22.971,11.076 22.916,10.634C22.823,9.889 22.654,9.153 22.411,8.442C22.144,7.662 21.789,6.913 21.354,6.213C20.907,5.492 20.377,4.823 19.777,4.223C19.177,3.623 18.508,3.093 17.787,2.646C17.087,2.211 16.338,1.856 15.558,1.589C14.836,1.342 14.089,1.171 13.331,1.08C12.89,1.027 12.445,1.001 12,1ZM13,3.055L13,6C13,6.552 12.552,7 12,7C11.448,7 11,6.552 11,6L11,3.055C6.831,3.516 3.517,6.831 3.055,11L6,11C6.552,11 7,11.448 7,12C7,12.552 6.552,13 6,13L3.055,13C3.516,17.169 6.831,20.483 11,20.945L11,18C11,17.448 11.448,17 12,17C12.552,17 13,17.448 13,18L13,20.945C17.169,20.484 20.483,17.169 20.945,13L18,13C17.448,13 17,12.552 17,12C17,11.448 17.448,11 18,11L20.945,11C20.484,6.831 17.169,3.517 13,3.055Z"})))}var fa,ma=a.forwardRef(da),ba=(n.p,["title","titleId"]);function va(){return va=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(this,arguments)}function ya(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ha(t,e){var n=t.title,r=t.titleId,o=ya(t,ba);return a.createElement("svg",va({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,fa||(fa=a.createElement("g",null,a.createElement("path",{d:"M4.045,9.517L4.045,18.022C4.045,18.137 4.065,18.249 4.101,18.352L4.104,18.36C4.141,18.463 4.195,18.562 4.268,18.652C5.445,20.102 7.827,22.949 12,22.949C16.173,22.949 18.555,20.102 19.732,18.652C19.805,18.562 19.859,18.463 19.896,18.36L19.899,18.352C19.935,18.249 19.955,18.137 19.955,18.022L19.955,14.524C19.955,13.972 19.507,13.524 18.955,13.524C18.403,13.524 17.955,13.972 17.955,14.524L17.955,17.667C16.949,18.898 15.117,20.949 12,20.949C8.883,20.949 7.051,18.898 6.045,17.667L6.045,10.569L11.535,13.454C11.826,13.607 12.174,13.607 12.465,13.454L21.017,8.959L21.017,14.524C21.017,15.076 21.465,15.524 22.017,15.524C22.569,15.524 23.017,15.076 23.017,14.524L23.017,7.366C23.017,7.356 23.017,7.345 23.016,7.335C23.017,7.325 23.017,7.314 23.017,7.304C23.017,6.932 22.811,6.592 22.482,6.419L12.465,1.154C12.174,1.001 11.826,1.001 11.535,1.154L1.518,6.419C1.189,6.592 0.983,6.932 0.983,7.304C0.983,7.675 1.189,8.016 1.518,8.189L4.045,9.517ZM12,3.169L19.867,7.304C19.867,7.304 12,11.439 12,11.439C12,11.439 4.133,7.304 4.133,7.304L12,3.169Z"}))))}var ja,ga,Oa=a.forwardRef(ha),xa=(n.p,["title","titleId"]);function ka(){return ka=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}function wa(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ca(t,e){var n=t.title,r=t.titleId,o=wa(t,xa);return a.createElement("svg",ka({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,ja||(ja=a.createElement("path",{d:"M12,8C9.792,8 8,9.792 8,12C8,14.208 9.792,16 12,16C14.208,16 16,14.208 16,12C16,9.792 14.208,8 12,8ZM12,10C13.104,10 14,10.896 14,12C14,13.104 13.104,14 12,14C10.896,14 10,13.104 10,12C10,10.896 10.896,10 12,10Z"})),ga||(ga=a.createElement("path",{d:"M20.913,15L21,15L21.077,14.999C22.688,14.958 24,13.62 24,12C24,10.354 22.646,9 21,9C21.018,9 21.035,9 21.052,9.001L20.997,9L20.831,9C20.615,8.998 20.416,8.889 20.298,8.713C20.284,8.646 20.263,8.58 20.235,8.516C20.128,8.274 20.179,7.989 20.365,7.799C20.177,7.992 20.415,7.749 20.415,7.749L20.417,7.748C20.98,7.185 21.297,6.421 21.297,5.625C21.297,4.829 20.98,4.065 20.417,3.503C19.855,2.94 19.091,2.623 18.295,2.623C17.499,2.623 16.735,2.94 16.172,3.503L16.171,3.505L16.171,3.505L16.114,3.562C15.925,3.742 15.644,3.791 15.404,3.685C15.4,3.684 15.397,3.682 15.394,3.681C15.156,3.579 15.001,3.345 15,3.086C15.001,3.352 15,3.249 15,3.003L15,3L15,3C15,1.354 13.646,-0 12,0C10.354,0 9,1.354 9,3L9,3.005L9,3.005L9,3.166C8.999,3.413 8.847,3.621 8.625,3.724L8.587,3.737L8.587,3.741C8.363,3.842 8.331,3.847 8.516,3.765C8.274,3.872 7.99,3.821 7.8,3.636L7.749,3.585L7.747,3.583L7.747,3.583C7.185,3.02 6.421,2.703 5.625,2.703C4.829,2.703 4.065,3.02 3.503,3.583C2.94,4.145 2.623,4.909 2.623,5.705C2.623,6.501 2.94,7.265 3.503,7.827L3.505,7.829L3.505,7.829L3.505,7.829L3.539,7.862L3.564,7.883L3.555,7.879C3.741,8.069 3.792,8.354 3.685,8.596C3.677,8.616 3.669,8.635 3.661,8.655C3.57,8.903 3.335,9.072 3.071,9.08L3.071,9.08C3.058,9.08 3.045,9.081 3.033,9.082L3.016,9.083L3,9.084L3,9.08C1.354,9.08 -0,10.434 0,12.08C0,13.726 1.354,15.08 3,15.08L3.167,15.08C3.425,15.081 3.659,15.236 3.761,15.474C3.762,15.477 3.764,15.48 3.765,15.484C3.872,15.726 3.821,16.01 3.636,16.2L3.584,16.252L3.586,16.255L3.585,16.256L3.583,16.252C3.02,16.815 2.703,17.579 2.703,18.375C2.703,19.171 3.02,19.935 3.583,20.497C4.145,21.06 4.909,21.377 5.705,21.377C6.501,21.377 7.265,21.06 7.828,20.497C7.64,20.684 7.885,20.439 7.885,20.439C8.074,20.258 8.356,20.209 8.596,20.315C8.616,20.323 8.635,20.331 8.655,20.339C8.903,20.43 9.072,20.664 9.08,20.929L9.08,20.998L9.08,21L9.08,21C9.08,22.646 10.434,24 12.08,24C13.726,24 15.08,22.646 15.08,21C15.08,21.022 15.079,21.044 15.078,21.066L15.08,20.996L15.08,20.834C15.081,20.575 15.236,20.341 15.474,20.239C15.477,20.238 15.48,20.236 15.484,20.235C15.726,20.128 16.011,20.179 16.201,20.365C16.221,20.385 16.242,20.404 16.264,20.422L16.252,20.417C16.815,20.98 17.579,21.297 18.375,21.297C19.171,21.297 19.935,20.98 20.497,20.417C21.06,19.855 21.377,19.091 21.377,18.295C21.377,17.499 21.06,16.735 20.497,16.173L20.498,16.174L20.496,16.172L20.438,16.114C20.258,15.922 20.21,15.642 20.315,15.404C20.316,15.4 20.318,15.397 20.319,15.394C20.421,15.156 20.655,15.001 20.913,15ZM13.002,3.156C13.001,3.135 13,3.115 13,3.094C13.004,4.147 13.635,5.101 14.602,5.517C15.589,5.951 16.748,5.739 17.519,4.985L17.504,4.991L17.514,4.983C17.527,4.972 17.539,4.962 17.552,4.951L17.585,4.919L17.585,4.919L17.585,4.919L17.588,4.917C17.775,4.729 18.03,4.623 18.295,4.623C18.56,4.623 18.815,4.729 19.003,4.917C19.003,4.917 19.003,4.917 19.003,4.917C19.191,5.105 19.297,5.36 19.297,5.625C19.297,5.89 19.191,6.145 19.003,6.333L18.944,6.392C18.944,6.392 18.654,6.688 18.935,6.401C18.179,7.174 17.969,8.335 18.405,9.324C18.554,9.66 18.558,9.762 18.401,9.394C18.816,10.363 19.772,10.996 20.826,11L21,11C21.549,11 22,11.451 22,12C22,12.549 21.549,13 21,13L21,13L20.997,13L20.912,13L20.875,13.001L20.906,13C19.853,13.004 18.899,13.635 18.483,14.602L18.483,14.602C18.049,15.589 18.261,16.748 19.015,17.519L19.73,17.82L19.025,17.529C19.025,17.529 19.271,17.775 19.083,17.588C19.271,17.775 19.377,18.03 19.377,18.295C19.377,18.56 19.271,18.815 19.083,19.003C19.083,19.003 19.083,19.003 19.083,19.003C18.895,19.191 18.64,19.297 18.375,19.297C18.119,19.297 17.873,19.198 17.688,19.023L17.609,18.945L17.603,18.939L17.599,18.935L17.57,18.907C16.799,18.175 15.657,17.975 14.682,18.403C13.715,18.819 13.084,19.773 13.08,20.826L13.08,21C13.08,21.549 12.629,22 12.08,22C11.531,22 11.08,21.549 11.08,21L11.075,21.005C11.078,20.975 11.08,20.945 11.08,20.915L11.08,20.913L11.08,20.896L11.08,20.887L11.079,20.872L11.079,20.862C11.044,19.794 10.367,18.848 9.368,18.47C8.393,18.053 7.246,18.266 6.481,19.015L6.471,19.025C6.471,19.025 6.414,19.082 6.414,19.082C6.414,19.082 6.127,19.369 6.412,19.083C6.225,19.271 5.97,19.377 5.705,19.377C5.44,19.377 5.185,19.271 4.998,19.083C4.997,19.083 4.997,19.083 4.997,19.082C4.809,18.895 4.703,18.64 4.703,18.375C4.703,18.11 4.809,17.855 4.997,17.667L4.985,17.672C5.009,17.652 5.032,17.631 5.055,17.609L5.055,17.609L5.055,17.609L5.065,17.599C5.819,16.828 6.031,15.669 5.597,14.682C5.181,13.715 4.227,13.084 3.174,13.08L3.174,13.081L3.133,13.08C3.083,13.08 3.039,13.089 3,13.106L3,13.08C2.451,13.08 2,12.629 2,12.08C2,11.531 2.451,11.08 3,11.08L3.082,11.08L3.09,11.08L3.09,11.08L3.113,11.08C4.191,11.055 5.149,10.374 5.53,9.368C5.942,8.406 5.739,7.277 5.015,6.512L4.985,6.481L4.985,6.481L4.976,6.472L4.917,6.413C4.729,6.225 4.623,5.97 4.623,5.705C4.623,5.44 4.729,5.185 4.917,4.998C4.917,4.997 4.917,4.997 4.918,4.997C5.105,4.809 5.36,4.703 5.625,4.703C5.89,4.703 6.145,4.809 6.332,4.997L7.04,5.29L6.335,4.999C6.335,4.999 6.588,5.248 6.401,5.065C7.166,5.813 8.312,6.027 9.295,5.607L9.299,5.606L9.331,5.595L9.333,5.595L9.331,5.595C9.352,5.588 9.373,5.58 9.394,5.571C10.368,5.153 10.996,4.233 11,3.174L11,3.174L11,3.166L11,3.005L11,3L11,3C11,2.451 11.451,2 12,2C12.549,2 13,2.451 13,3L14,4C14,4 13,3.003 13,3.003C13,3.003 13,3.076 13,3.088L13.002,3.156ZM15.075,21.098L15.074,21.108L15.075,21.098ZM16.96,20.71L16.822,20.647L16.804,20.645L16.96,20.71ZM4.446,17.895L4.428,17.897L4.29,17.96L4.446,17.895ZM4.29,17.96L4.264,17.896L4.263,17.896L4.29,17.96ZM4.27,8.18L4.132,8.117L4.117,8.116L4.27,8.18ZM9.293,5.608C9.174,5.655 9.071,5.649 9.071,5.649C9.146,5.644 9.221,5.63 9.293,5.608Z"})))}var Ta,Na=a.forwardRef(Ca),Ia=(n.p,["title","titleId"]);function Pa(){return Pa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}function _a(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ma(t,e){var n=t.title,r=t.titleId,o=_a(t,Ia);return a.createElement("svg",Pa({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Ta||(Ta=a.createElement("path",{d:"M14.15,6.088L8.841,9.186C8.116,8.454 7.111,8 6,8C3.792,8 2,9.792 2,12C2,14.208 3.792,16 6,16C7.111,16 8.117,15.546 8.842,14.814L14.151,17.908C14.053,18.255 14,18.621 14,19C14,21.208 15.792,23 18,23C20.208,23 22,21.208 22,19C22,16.792 20.208,15 18,15C16.891,15 15.887,15.452 15.162,16.182L9.85,13.087C9.948,12.741 10,12.377 10,12C10,11.623 9.948,11.258 9.85,10.912L15.159,7.814C15.884,8.546 16.889,9 18,9C20.208,9 22,7.208 22,5C22,2.792 20.208,1 18,1C15.792,1 14,2.792 14,5C14,5.377 14.052,5.742 14.15,6.088ZM16.216,18.095C16.078,18.367 16,18.674 16,19C16,20.104 16.896,21 18,21C19.104,21 20,20.104 20,19C20,17.896 19.104,17 18,17C17.307,17 16.696,17.353 16.337,17.89C16.321,17.925 16.304,17.959 16.284,17.993C16.263,18.029 16.241,18.063 16.216,18.095ZM7.702,10.949C7.349,10.38 6.719,10 6,10C4.896,10 4,10.896 4,12C4,13.104 4.896,14 6,14C6.719,14 7.349,13.62 7.702,13.05C7.709,13.036 7.718,13.021 7.726,13.007C7.735,12.991 7.744,12.977 7.753,12.962C7.911,12.676 8,12.349 8,12C8,11.651 7.911,11.324 7.753,11.038C7.744,11.024 7.735,11.009 7.726,10.994C7.718,10.979 7.71,10.964 7.702,10.949ZM16.298,6.051C16.651,6.62 17.281,7 18,7C19.104,7 20,6.104 20,5C20,3.896 19.104,3 18,3C16.896,3 16,3.896 16,5C16,5.349 16.089,5.676 16.247,5.962C16.256,5.976 16.265,5.991 16.274,6.006C16.282,6.021 16.29,6.036 16.298,6.051Z"})))}var Sa,La=a.forwardRef(Ma),Aa=(n.p,["title","titleId"]);function Ea(){return Ea=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}function Ra(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fa(t,e){var n=t.title,r=t.titleId,o=Ra(t,Aa);return a.createElement("svg",Ea({width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Sa||(Sa=a.createElement("path",{d:"M3,19L21,19C21.552,19 22,18.552 22,18C22,17.448 21.552,17 21,17L3,17C2.448,17 2,17.448 2,18C2,18.552 2.448,19 3,19ZM3,13L21,13C21.552,13 22,12.552 22,12C22,11.448 21.552,11 21,11L3,11C2.448,11 2,11.448 2,12C2,12.552 2.448,13 3,13ZM3,7L21,7C21.552,7 22,6.552 22,6C22,5.448 21.552,5 21,5L3,5C2.448,5 2,5.448 2,6C2,6.552 2.448,7 3,7Z"})))}var Ha,Da,za,qa,Ba,Ua=a.forwardRef(Fa),Va=(n.p,["fill","size"]),Ga="#557080",Wa=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(n){var a=n.fill,o=n.size,i=Object(k.a)(n,Va);return Object(m.jsx)(t,Object(x.a)(Object(x.a)({fill:a||Ga,width:(o||24)*e,height:o||24},r),i))}},Za=Wa(Sr),Ja=Wa(Hr),Ka=(Wa(Vr),Wa(Xr,1.25)),Xa=Wa(na,1.25),Qa=Wa(sa),$a=Wa(ma),Ya=Wa(Oa),to=Wa(Na),eo=Wa(La),no=Wa(Ua),ro=Wa(me.p,1),ao=["className","children"],oo=d.d.div(Ha||(Ha=Object(p.a)(["\n    position: absolute;\n\n    ",";\n\n    ",";\n\n    ",";\n\n    ",";\n\n    z-index: 100;\n"])),(function(t){return t.bottom&&Object(d.c)(Da||(Da=Object(p.a)(["\n        bottom: ","px;\n    "])),ae.isMobile?50:0)}),(function(t){return t.top&&Object(d.c)(za||(za=Object(p.a)(["\n        top: 0;\n        margin-top: ","px !important;\n    "])),bn()?0:100)}),(function(t){return t.left&&Object(d.c)(qa||(qa=Object(p.a)(["\n        left: 0;\n    "])))}),(function(t){return t.right&&Object(d.c)(Ba||(Ba=Object(p.a)(["\n        right: 0;\n    "])))}));function io(t){var e=t.className,n=t.children,r=Object(k.a)(t,ao);return Object(m.jsx)(oo,Object(x.a)(Object(x.a)({className:T()("floating-menu m-4 d-flex flex-row align-items-center justify-content-center",e)},r),{},{children:n}))}var co=n(20),so=n(95);function uo(){return Object(V.a)("blocks.themeParts",{})}function lo(){return Object(V.a)("blocks.autosave",!0)}var po,fo,mo,bo,vo=["binding","className","children"],yo=d.d.div(po||(po=Object(p.a)(["\n    padding: .5rem 1rem;\n    background: #0001;\n    max-height: 20rem;\n    overflow-y: auto;\n    border-radius: 0.25rem;\n"]))),ho=d.d.div(fo||(fo=Object(p.a)(["\n    font-weight: 500;\n\n    :hover {\n        background: #0001;\n    }\n"]))),jo=d.d.code(mo||(mo=Object(p.a)(["\n    background: #0001;\n    padding: .25rem .5rem;\n    border-radius: .5rem;\n    white-space: nowrap;\n"])));function go(t){var e=t.binding,n=t.className,r=t.children,a=Object(k.a)(t,vo);return Object(m.jsxs)(ho,{className:"p-1 d-flex align-items-center",children:[Object(m.jsx)("label",{className:"mb-0 flex-grow-1",children:r}),(Array.isArray(e)?e:[e]).map((function(t,e){return Object(m.jsx)("label",{className:"ms-1",children:Object(m.jsx)(jo,Object(x.a)(Object(x.a)({className:T()(n,"text-info")},a),{},{children:t}))},"".concat(t).concat(e))}))]})}function Oo(){return Object(m.jsxs)(yo,{children:[Object(m.jsx)(go,{binding:["q"],children:"Quick Reference"}),Object(m.jsx)(go,{binding:["left mouse"],children:"Select & Drag"}),Object(m.jsx)(go,{binding:["right mouse"],children:"Context Menu"}),Object(m.jsx)(go,{binding:["ctrl","right mouse"],children:"Context Menu (+)"}),Object(m.jsx)(go,{binding:"delete",children:"Delete Selected Blocks"}),Object(m.jsx)(go,{binding:["ctrl","left mouse"],children:"Remove Connection"}),Object(bt.a)(Un.keys()).sort().map((function(t){return Object(m.jsx)(go,{binding:t,children:Object(m.jsx)("span",{className:"text-secondary",children:Ft(Un.get(t))})},t)}))]})}var xo,ko={select:function(t){var e=t.value,n=t.options,r=t.onChange;return Object(m.jsx)("select",{className:"form-control ml-5 w-auto",onChange:r,value:e,children:n.map((function(t,e){var n;return Object(m.jsx)("option",{value:t.value,children:null!==(n=t.label)&&void 0!==n?n:t.value},e)}))})},toggle:function(t){var e=t.value,n=t.onChange;return Object(m.jsx)("input",{type:"checkbox",checked:!!e,onChange:n})}},wo=d.d.div(bo||(bo=Object(p.a)(["\n    background: #0001;\n"])));function Co(t){var e=t.name,n=t.description,r=t.note,a=t.type,o=t.extras,i=t.props,c=ko[a];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"w-100 py-1 px-3 d-flex flex-column align-items-start justify-content-center",children:[Object(m.jsxs)("div",{className:"w-100 d-flex flex-row align-items-center justify-content-between",children:[Object(m.jsx)("span",{className:"flex-grow-1",style:{fontWeight:500},children:e}),c&&Object(m.jsx)(c,Object(x.a)({},i))]}),Object(m.jsxs)("div",{className:"d-flex small text-secondary align-content-between w-100",children:[Object(m.jsx)("div",{className:"flex-grow-1",children:n}),!!r&&Object(m.jsx)("div",{children:r})]})]}),o&&!!o.length&&Object(m.jsx)(wo,{className:"ps-3 py-1 rounded-3",children:o.map((function(t,e){return Object(m.jsx)(Co,Object(x.a)({},t),e)}))})]})}function To(){var t=Object(lr.b)(),e=Object(w.a)(t,2),n=e[0],r=e[1],a=uo(),o=Object(w.a)(a,2),i=o[0],c=o[1],s=lo(),u=Object(w.a)(s,2),l=u[0],p=u[1],d=Gt(),f=Object(w.a)(d,2),b=f[0],v=f[1],y=Object(an.a)(ur),h=Object(w.a)(y,2),j=h[0],g=h[1],O=G(),k=Object(w.a)(O,2),C=k[0],N=k[1],I=Object(so.a)(),P=[{name:"Theme",description:"The color scheme used in the editor.",type:"select",props:{label:n.name,value:n.id,options:I.map((function(t){return{value:t.id,label:t.name}})),onChange:function(t){r(t.target.value)}},extras:n.parts.map((function(t){return{name:Object(qt.a)(t),type:"toggle",props:{value:!!i[t],onChange:function(){c(Object(x.a)(Object(x.a)({},i),{},Object(co.a)({},t,!i[t])))}}}}))},{name:"Auto-save changes",description:"Automatically sync changes while using the editor.",type:"toggle",props:{value:l,onChange:function(){p(!l)}}},{name:"Learning Mode",description:"Show more details in mouse-over tooltips.",type:"toggle",props:{value:b,onChange:function(){v(!b)}}},{name:"Display button names",description:"Show the title of each button in the top menu.",type:"toggle",hideMobile:!0,props:{value:C,onChange:function(){N(!C)}}},{name:"Send anonymized usage statistics",description:"Help us improve the Blocks Editor.",type:"toggle",props:{value:j,onChange:function(){g(!j)}}}];return Object(m.jsxs)(vr,{title:"Options",children:[P.map((function(t,e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(Co,Object(x.a)({className:T()("d-md-block",{"d-none":t.hideMobile})},t)),Object(m.jsx)("hr",{})]},e)})),Object(m.jsx)("h4",{className:"mt-4 mb-3 fw-normal text-secondary",children:"Keyboard Shortcuts"}),Object(m.jsx)(Oo,{}),Object(m.jsx)("div",{className:"h5 fw-normal mt-4 mb-0 w-100",children:Object(m.jsx)("a",{href:"https://github.com/Blocks-Editor/blocks",target:"_blank",rel:"noreferrer",className:"p-2 rounded text-secondary small w-100",children:"Blocks is currently in open beta."})})]})}var No=Object(d.d)(ot)(xo||(xo=Object(p.a)(["\n    transition: border-left-width .2s ease-out;\n    border-style: solid;\n    border-color: transparent;\n    border-width: 4px ","px;\n    border-left-color: var(--bs-info);\n"])),(function(t){return t.selected?8:4})),Io=tr;function Po(){var t=ir(),e=Object(w.a)(t,2),n=e[0],r=e[1],a=null===n||void 0===n?void 0:n.tutorial;return Object(m.jsxs)(vr,{title:"Learning Resources",children:[Object(m.jsx)(ot,Object(x.a)({name:Object(m.jsx)("span",{className:"text-primary",children:"Quick Reference"}),description:Object(m.jsx)(m.Fragment,{children:"View the basic controls and keywords."})},Object($.c)((function(){return dr.set("reference")})))),Io.map((function(t,e){var n=a===t;return Object(m.jsx)(No,Object(x.a)(Object(x.a)({name:t.name,description:t.description||"(No description provided)",className:T()(n&&"text-info"),selected:n},Object($.c)((function(){return r(n?null:{tutorial:t})}))),{},{children:n&&Object(m.jsx)("span",{className:"h5 mb-0 text-muted",children:Object(m.jsx)(it.f,{})})}),e)}))]})}function _o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Object(a.useEffect)((function(){var t=setTimeout.apply(void 0,e);return function(){return clearTimeout(t)}}))}var Mo,So,Lo=n(120),Ao=n(71),Eo=[["GitHub","https://github.com/Blocks-Editor/blocks"],["Twitter","https://twitter.com/BlocksEditor"],["Discord","https://discord.gg/jDDWtKwWQf"],["Medium","https://blocks-editor.medium.com"]],Ro=[["ICP","184d1794cba6d6384e8487c702436eee7614aeb17cbfc94fcfa328b3f7bf7f75"],["ETH","0xE977fa3a79fC45eB7c2C628d7D7De65483Cd0751"],["BTC","3QpW3YxLBEvBpNn8PP53kvHXRktvKafu4w"],["USDT","0x5274c12Fe17E00276D2cd1FB0aeb5eb9868E006f"],["USDC","0x0b00230c684cCf1220bDD82970240F5e5E9b3f1C"]],Fo=d.d.div(Mo||(Mo=Object(p.a)(["\n    flex: 1 1 0px;\n    //width: 0;\n    font-size: 11px;\n    font-weight: 500;\n"]))),Ho=Object(d.d)(Lo.SocialIcon)(So||(So=Object(p.a)(["\n    transition: transform .1s ease-out;\n\n    // Funky edge rendering due to slightly different radii\n    //border-radius: 50%;\n    //box-shadow: 0 2px 8px #000A;\n\n    &:hover {\n        transform: scale(1.1);\n        transition: transform .05s ease-out;\n        //box-shadow: 0 4px 12px #000A;\n    }\n"])));function Do(){var t=Object(a.useState)(null),e=Object(w.a)(t,2),n=e[0],r=e[1];return Object(m.jsxs)(vr,Object(x.a)(Object(x.a)({title:"Join our Community:"},Object($.a)((function(){return r(null)}))),{},{children:[Object(m.jsx)("div",{className:"text-center d-flex flex-wrap justify-content-between",children:Eo.map((function(t){var e=Object(w.a)(t,2),n=e[0],r=e[1];return Object(m.jsxs)(Fo,{className:"mx-2 my-3",children:[Object(m.jsx)(Ho,Object(x.a)({url:r,target:"_blank",rel:"noreferrer"},Object($.a)((function(){pr("social_visit",{interaction:n})})))),Object(m.jsx)("div",{className:"mt-2 opacity-75 noselect",children:n})]},r)}))}),Object(m.jsx)("hr",{}),Object(m.jsx)("h4",{className:"mt-4 mb-3 fw-normal",children:"Support the Project!"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-secondary",children:"Blocks is a 100% open-source IC community project. Please donate to help keep the application running."}),Ro.map((function(t){var e,a=Object(w.a)(t,2),o=a[0],i=a[1],c=function(){var t;pr("donation_select",{interaction:o}),null===(t=e)||void 0===t||t.select()};return Object(m.jsxs)("div",{className:"d-flex align-items-center my-2",children:[Object(m.jsx)("div",{className:"text-end me-3",style:{width:"4rem",fontWeight:500},children:o}),Object(m.jsx)("input",{ref:function(t){return e=t},type:"text",className:"form-control form-control-sm font-monospace w-100 small",readOnly:!0,value:i,onFocus:c}),Object(m.jsx)(Ao.CopyToClipboard,{text:i,onCopy:function(){r(i),c()},children:Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"clickable h5 text-secondary ps-2 pb-1 m-0 d-flex"},Object($.a)((function(t){return t.stopPropagation()}))),{},{title:"Copy wallet address",children:Object(m.jsx)(it.b,{className:T()(n===i&&"text-primary")})}))})]},o+i)}))]})]}))}var zo,qo,Bo,Uo=Object(ct.a)(!1),Vo=["children","className"],Go=d.d.div(zo||(zo=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    height: 100%;\n    bottom: 0;\n    right: 0;\n    width: 60%;\n    transition: 0.4s;\n    z-index: 1000;\n    //padding-top: 95px;\n    opacity: .95;\n    transform: translateX(100%);\n    background: linear-gradient(90deg, #00131C, #022030) !important;\n    backdrop-filter: blur(10px);\n    gap: 0.5rem;\n\n    ","\n\n    ","\n"])),(function(t){return t.open&&Object(d.c)(qo||(qo=Object(p.a)(["\n        transform: translateX(0);\n    "])))}),(function(t){return t.fullscreen&&Object(d.c)(Bo||(Bo=Object(p.a)(["\n        width: 100%;\n    "])))}));function Wo(t){var e=t.children,n=t.className,r=(Object(k.a)(t,Vo),Object(an.a)(Uo)),a=Object(w.a)(r,2),o=a[0],i=a[1],c=window.innerWidth<576;return Object(m.jsxs)(Go,{open:o,fullscreen:c,className:T()("px-4 text-light",n),children:[Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"clickable w-100 p-4 d-flex flex-row align-items-center justify-content-end"},Object($.c)((function(){return i(!1)}))),{},{children:Object(m.jsx)(it.f,{size:"24px"})})),e]})}var Zo,Jo=["children","className"],Ko=d.d.div(Zo||(Zo=Object(p.a)(['\n    background: #FFFFFF11;\n    \n    > svg {\n        fill: url("#svg-block-gradient");\n    }\n'])));function Xo(t){var e=t.children,n=t.className,r=Object(k.a)(t,Jo);return Object(m.jsx)(Ko,Object(x.a)(Object(x.a)({className:T()("mobile-menu-button m-1 px-3 py-3 rounded clickable d-flex flex-row align-items-center justify-content-start",n)},r),{},{children:e}))}var Qo={default:"#f5a",values:"#8fa",tuples:"#2aa",functions:"#fd3",objects:"#af8",optionals:"#384",collections:"#1c5",futures:"#aa6",types:"#2af",principals:"#888",references:"#eee",effects:"#ccc",members:"#8af",parameters:"#a8f",containers:"#fa8",integers:"#6fd",naturals:"#58f"},$o={Bool:"#d8f",Float:"#5df"};var Yo,ti,ei,ni,ri,ai,oi,ii,ci,si,ui,li,pi=["target","header","className","children"],di=["block"],fi=["type"],mi=d.d.div(Yo||(Yo=Object(p.a)(["\n    padding: .5rem 1rem;\n    background: #0001;\n    max-height: 20rem;\n    overflow-y: auto;\n    border-radius: 0.25rem;\n"]))),bi=Object(d.d)((function(t){var e=t.target,n=t.header,r=t.className,o=t.children,i=Object(k.a)(t,pi),c=Object(a.useContext)(vi),s=c.selected,u=c.setSelected,l=s.includes(e);return Object(m.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:T()("clickable",r,s.length&&!l&&"opacity-50")},Object($.c)((function(){return u(l?[]:[e])}))),i),{},{children:[n,l&&o]}))}))(ti||(ti=Object(p.a)(["\n    background: #00131C;\n    //background: var(--bs-dark);\n    color: #FFF;\n    padding: .75rem;\n    margin-bottom: .5rem;\n    border-radius: .75rem;\n"]))),vi=o.a.createContext(null);function yi(t){var e,n,r=t.block,a=Object(k.a)(t,di),o=r.icon;return Object(m.jsx)(bi,Object(x.a)(Object(x.a)({target:r,header:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"h6 mb-0 d-flex align-items-center",style:{color:r.category.data.color},children:[!!o&&Object(m.jsx)(o,{className:"me-2"}),Ft(r)]}),Object(m.jsx)("div",{className:"small text-secondary",children:Dt(r.info)})]})},a),{},{children:(null===(e=r.useCases)||void 0===e?void 0:e.length)>0&&Object(m.jsxs)("div",{className:"mt-2",children:["Use cases:",null===(n=r.useCases)||void 0===n?void 0:n.map((function(t){return Object(m.jsx)("ul",{className:"mb-0 text-muted",children:Object(m.jsx)("li",{children:sn(t)})},t)}))]})}))}function hi(t){var e=t.type,n=Object(k.a)(t,fi),r=function(t){return t=Object(It.o)(t),$o[t.name]||Qo[t.data.category]||"#FFF"}(e);return Object(m.jsx)(bi,Object(x.a)({target:e,header:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"h6 mb-0 d-flex align-items-center",style:{color:r},children:[Object(m.jsx)("div",{style:{width:"1rem",height:"1rem",borderRadius:"50%",marginRight:".5rem",background:r}}),e.name]}),Object(m.jsx)("div",{className:"small text-secondary",children:Dt(e.data.info)})]})},n))}function ji(t){var e=t.children,n=t.initial,r=Object(a.useState)(n||[]),o=Object(w.a)(r,2),i=o[0],c=o[1];return Object(m.jsx)(vi.Provider,{value:{selected:i,setSelected:c},children:e})}function gi(){var t=nr(),e=new Set(t.selected.list.map((function(t){return t.name}))),n=new Set(Object(bt.a)(t.nodes.values()).map((function(t){return t.name}))),r=Object(bt.a)(It.a.values()).filter((function(t){return!t.data.abstract})).sort((function(t,e){return t.name.localeCompare(e.name)})),a=Object(bt.a)(Et.a.values()).filter((function(t){return!t.hidden})).map((function(t){return[t,Ft(t)]})).sort((function(t,r){var a=Object(w.a)(t,2),o=a[0],i=a[1],c=Object(w.a)(r,2),s=c[0],u=c[1];return+e.has(s.name)-e.has(o.name)||+n.has(s.name)-n.has(o.name)||o.category.name.localeCompare(s.category.name)||i.localeCompare(u)})).map((function(t){return Object(w.a)(t,1)[0]}));return Object(m.jsxs)(vr,{title:"Quick Reference:",children:[Object(m.jsxs)(ji,{initial:e.size&&Object(bt.a)(e).map((function(t){return Et.a.get(t)})),children:[Object(m.jsx)("h4",{className:"mt-4 mb-3 fw-normal text-secondary",children:"All Blocks"}),Object(m.jsx)(mi,{children:a.map((function(t){return Object(m.jsx)(yi,{block:t},t.name)}))})]}),Object(m.jsxs)(ji,{children:[Object(m.jsx)("h4",{className:"mt-4 mb-3 fw-normal text-secondary",children:"Socket Types"}),Object(m.jsx)(mi,{children:r.map((function(t){return Object(m.jsx)(hi,{type:t},t.name)}))})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"mt-4 mb-3 fw-normal text-secondary",children:"Keyboard Shortcuts"}),Object(m.jsx)(Oo,{})]})]})}var Oi=d.d.img(ei||(ei=Object(p.a)(["\n    -webkit-user-drag: none;\n    user-select: none;\n    height: 40px;\n"]))),xi=d.d.input(ni||(ni=Object(p.a)(["\n    border: 1px solid transparent !important;\n    border-radius: .5em;\n    font-weight: 500;\n    vertical-align: top;\n    padding: .25em .5em .1em;\n    position: relative;\n    background-clip: padding-box;\n    width: 100%;\n    max-width: 200px;\n    transition: border-color 0.1s;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: linear-gradient(30deg, #00EFFB, #8649E1, #F900E3);\n        margin: -2px;\n        z-index: -1;\n        opacity: 0;\n    }\n\n    :focus {\n        outline: none;\n\n        &::before {\n            opacity: 1;\n        }\n    }\n"]))),ki=Object(d.e)(ri||(ri=Object(p.a)(["\n    30% {\n        transform: scale(.6);\n    }\n"]))),wi=Object(d.d)(Qa)(ai||(ai=Object(p.a)(["\n    &.animating {\n        animation: "," .7s ease-out;\n    }\n"])),ki),Ci=Object(d.d)($a)(oi||(oi=Object(p.a)(["\n    &.animating {\n        animation: "," .7s ease-out;\n    }\n"])),ki),Ti=Object(d.d)(Ya)(ii||(ii=Object(p.a)(["\n    transition: .2s transform ease-out;\n\n    &.enabled {\n        //stroke: var(--bs-primary) !important;\n        //transform: scale(1.3) !important;\n        //box-shadow: 0 0 12px inset #0003;\n        //border-radius: 50%;\n        //outline: 2px solid var(--bs-primary);\n    }\n"]))),Ni=Object(d.d)(eo)(ci||(ci=Object(p.a)(["\n    // Temporary\n    .menu-item:hover & {\n        color: #FFF8;\n    }\n"]))),Ii=Object(d.d)(ro)(si||(si=Object(p.a)(["\n    font-size: 24px;\n"]))),Pi=Object(d.d)(U)(ui||(ui=Object(p.a)(["\n    padding: 0.6rem 0 0.6rem 1rem !important;\n"]))),_i=d.d.a(li||(li=Object(p.a)(["\n    font-size: 0.7rem;\n    padding: 0.1rem 0 0 0.5rem;\n"])));function Mi(t){var e=t.editor,n=Object(a.useState)(""),r=Object(w.a)(n,2),o=r[0],i=r[1],c=Object(a.useState)(!1),s=Object(w.a)(c,2),p=s[0],d=s[1],b=Object(a.useState)(!1),v=Object(w.a)(b,2),y=v[0],h=v[1],j=Object(an.a)(dr),g=Object(w.a)(j,2),O=g[0],k=g[1],C=cn(),N=Object(w.a)(C,2),I=N[0],P=N[1],_=lo(),M=Object(w.a)(_,1)[0],S=ir(),L=Object(w.a)(S,1)[0],A=Object(a.useContext)(u.g);Object(l.a)(A,u.b,(function(){d(!0)})),Object(l.a)(A,u.f,(function(t){i(t.name),k(!1)})),_o((function(){i(e.details.name)}));var E=function(){return A.emit(u.b,e)},R=function(){return A.emit(u.e,e.toJSON())},F=function(){return A.emit(u.d)},D=function(){return k("load")},z=function(){return k("tutorials")},q=function(){return k("settings")},B=function(){return k("social")},U=function(){return window.open("https://github.com/Blocks-Editor/blocks")},V=ae.isMobile?$.c:$.d,G=function(t){return V((function(){Uo.set(!1),t()}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(H,{children:[Object(m.jsxs)(Pi,{className:"d-inline-flex flex-row",children:[Object(m.jsxs)("a",{href:"https://blocks-editor.github.io/",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(Oi,{className:"d-none d-sm-block d-lg-none d-xl-block",src:"".concat("https://blocks-editor.github.io/blocks","/img/logo-gradient.png"),alt:"Blocks logo",draggable:"false"}),Object(m.jsx)(Oi,{className:"d-block d-sm-none d-lg-block d-xl-none",src:"".concat("https://blocks-editor.github.io/blocks","/img/icon-gradient.png"),alt:"Blocks icon",draggable:"false"})]}),Object(m.jsx)(_i,{href:"https://github.com/Blocks-Editor/blocks",target:"_blank",rel:"noreferrer",className:"small text-muted text-decoration-none text-uppercase",children:"Beta"})]}),Object(m.jsxs)("div",{className:"w-100 px-3 py-2 py-sm-0 d-flex flex-row",children:[Object(m.jsx)(xi,{type:"text",placeholder:"Unnamed Project",className:"d-inline-block mt-2 mt-sm-1 mb-2 mb-sm-1",value:o||"",onChange:function(t){return function(t){i(t),e.details.name=t,A.emit(u.a,e)}(t.target.value)},onKeyDown:function(t){return"Enter"===t.key&&A.emit(u.b,e)}}),Object(m.jsx)("div",{className:"d-flex d-lg-none flex-row justify-content-end align-items-center flex-grow-1",children:Object(m.jsx)(K,Object(x.a)(Object(x.a)({className:"px-0",tooltip:"Menu",noMargin:!0},V((function(){return Uo.set(!0)}))),{},{children:Object(m.jsx)(no,{})}))}),Object(m.jsxs)("div",{className:"w-100 d-none d-lg-flex flex-row justify-content-start align-items-center flex-grow-1",children:[!M&&Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"Save",tooltip:"Save Changes"},V(E)),{},{children:Object(m.jsx)(wi,{className:T()(p&&"animating"),onAnimationEnd:function(){return d(!1)}})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"Export",tooltip:"Export to File"},V(R)),{},{children:Object(m.jsx)(Za,{})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"New",tooltip:"New Project"},V(F)),{},{children:Object(m.jsx)(Ja,{})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"Load",tooltip:"Load Project"},V(D)),{},{children:"load"===O?Object(m.jsx)(Xa,{}):Object(m.jsx)(Ka,{})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({tooltip:"Tutorials",title:"Tutorials"},V(z)),{},{children:Object(m.jsx)(Ti,{className:T()(!!L&&"enabled")})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({tooltip:"Options",title:"Options"},V(q)),{},{children:Object(m.jsx)(to,{})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"Social",tooltip:"Community"},V(B)),{},{children:Object(m.jsx)(Ni,{})})),Object(m.jsx)(K,Object(x.a)(Object(x.a)({title:"GitHub",tooltip:"Source Code"},V(U)),{},{children:Object(m.jsx)(Ii,{})}))]})]})]}),Object(m.jsxs)(Wo,{children:[!M&&Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(E)),{},{children:[Object(m.jsx)(wi,{className:T()(p&&"animating"),onAnimationEnd:function(){return d(!1)}}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Save Changes"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(R)),{},{children:[Object(m.jsx)(Za,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Export to File"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(F)),{},{children:[Object(m.jsx)(Ja,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"New Project"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(D)),{},{children:["load"===O?Object(m.jsx)(Xa,{}):Object(m.jsx)(Ka,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Load Project"})]})),Object(m.jsx)("hr",{}),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(z)),{},{children:[Object(m.jsx)(Ti,{className:T()(!!L&&"enabled")}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Tutorials"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(q)),{},{children:[Object(m.jsx)(to,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Options"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(B)),{},{children:[Object(m.jsx)(Ni,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"Social"})]})),Object(m.jsxs)(Xo,Object(x.a)(Object(x.a)({},G(U)),{},{children:[Object(m.jsx)(Ii,{}),Object(m.jsx)("span",{className:"px-3 pt-1",children:"GitHub"})]}))]}),Object(m.jsx)(io,{bottom:!0,left:!0,children:Object(m.jsx)(K,Object(x.a)(Object(x.a)({className:"round d-flex align-items-center justify-content-center",tooltip:"Reset Viewport"},V((function(){re.a.zoomAt(e),h(!0),function(t){try{var e;null===(e=window.navigator)||void 0===e||e.vibrate(t)}catch(n){console.error(n)}}(50)}))),{},{children:Object(m.jsx)(Ci,{className:T()(y&&"animating"),onAnimationEnd:function(){return h(!1)}})}))}),Object(m.jsx)(io,{bottom:!0,right:!0,children:Object(m.jsx)(K,Object(x.a)(Object(x.a)({className:"compile-button text-uppercase h4 text-muted",tooltip:"Compile to Motoko"},V((function(){return P(!I)}))),{},{children:Object(m.jsx)("small",{children:"Compile"})}))}),Object(m.jsx)(Tr.a,{show:O,onShow:function(){return f.a.hide()},onHide:function(){return k(null)},children:Object(m.jsxs)(Tr.a.Body,{className:"bg-light rounded-1",children:["load"===O&&Object(m.jsx)(wr,{}),"tutorials"===O&&Object(m.jsx)(Po,{}),"settings"===O&&Object(m.jsx)(To,{}),"social"===O&&Object(m.jsx)(Do,{}),"reference"===O&&Object(m.jsx)(gi,{})]})})]})}var Si=n(69);var Li=["href","children"];function Ai(t){var e=t.href,n=t.children,r=Object(k.a)(t,Li);return Object(m.jsx)("a",Object(x.a)(Object(x.a)({href:e,target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},r),{},{children:n}))}var Ei,Ri,Fi,Hi,Di=n(92),zi=ae.isMobile?0:66,qi=d.d.div(Ei||(Ei=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    top: ","px;\n    bottom: 0;\n    right: 0;\n    width: 40%;\n    height: calc(100% - ","px); // Prevents scrollbar\n    padding-bottom: ","px;\n    transition: 0.4s;\n    z-index: 1000;\n    //padding-top: 95px;\n    opacity: .98;\n\n    ","\n\n    ","\n"])),zi,zi,ae.isMobile?60:0,(function(t){return t.closed&&Object(d.c)(Ri||(Ri=Object(p.a)(["\n        transform: translateX(100%);\n    "])))}),(function(t){return t.fullscreen&&Object(d.c)(Fi||(Fi=Object(p.a)(["\n        width: 100%;\n    "])))})),Bi=d.d.div(Hi||(Hi=Object(p.a)(["\n    opacity: 0.7;\n\n    &:hover {\n        opacity: 1;\n    }\n"]))),Ui="https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app",Vi="output";function Gi(t){var e=t.editor,n=cn(),r=Object(w.a)(n,2),o=r[0],i=r[1],c=Object(V.a)("blocks.fullscreenPanel",!1),s=Object(w.a)(c,2),p=s[0],d=s[1],f=Object(a.useState)(""),b=Object(w.a)(f,2),v=b[0],y=b[1],h=Object(a.useState)(!1),j=Object(w.a)(h,2),g=j[0],O=j[1],k=Object(a.useContext)(u.g),C=!o,N=function(){return Object(Mt.e)(e)};return Object(l.a)(k,u.a,(function(){y(C?"":N()),O(!1)})),Object(z.a)(),C||v||y(N()),Object(m.jsxs)(qi,{className:T()("output-panel px-3 pt-3",C&&"d-none d-sm-block"),closed:C,fullscreen:ae.isMobile||p===Vi,children:[Object(m.jsxs)("div",{className:T()("d-flex align-items-center mb-2",!ae.isMobile&&"justify-content-between"),children:[Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"clickable px-2 pb-2"},Object($.c)((function(){return i(null)}))),{},{children:Object(m.jsx)(it.f,{size:18})})),Object(m.jsx)("h3",{className:"mx-3 mb-0 noselect",children:"Compiled Output"}),!ae.isMobile&&Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"clickable px-2 pb-2"},Object($.c)((function(){return d(p!==Vi&&Vi)}))),{},{children:p===Vi?Object(m.jsx)(it.d,{size:18}):Object(m.jsx)(it.c,{size:18})}))]}),Object(m.jsx)("div",{className:"flex-grow-1",style:{paddingLeft:ae.isMobile&&"1rem"},children:Object(m.jsx)(Si.a,{value:v,readOnly:!0,options:{lineNumbers:ae.isMobile?"off":void 0}})}),Object(m.jsxs)("div",{className:"bottom-bar d-flex flex-row align-items-center justify-content-around py-2",children:[Object(m.jsx)(Ai,{href:"https://smartcontracts.org/docs/language-guide/basic-concepts.html",children:Object(m.jsxs)("div",{className:"btn btn-outline-secondary d-flex justify-content-center","data-tip":"Learn more about the Motoko programming language.",children:[Object(m.jsx)(me.t,{className:"mt-1 me-2"}),ae.isMobile?"Docs":"Documentation"]})}),Object(m.jsx)(Ao.CopyToClipboard,{text:v,onCopy:function(){return O(!0)},children:Object(m.jsxs)(Bi,{className:"clickable d-flex justify-content-center py-2 px-4","data-tip":"Copy to Clipboard","data-delay-show":100,children:[Object(m.jsx)(it.b,{className:"h5 mb-0"}),g&&Object(m.jsx)("small",{className:"ms-2",children:"Copied!"})]})}),Object(m.jsxs)("div",Object(x.a)(Object(x.a)({className:"btn btn-outline-success d-flex justify-content-center","data-tip":"Run and deploy your smart contract on Motoko Playground."},Object($.c)((function(){try{var t=Math.random().toString(16).substr(2,7),n=window.open("".concat(Ui,"?post=").concat(t),"motokoPlayground"),r=0,a=setInterval((function(){++r>100&&i();var o=e.nodes.filter((function(t){return"GithubPackage"===t.name})).map((function(t){var e=Object(Di.a)(t.data.repository,t.data.name);return e&&Object(x.a)(Object(x.a)({},e),{},{repo:"https://github.com/".concat(e.repo,".git")})})).filter((function(t){return t}));n.postMessage("".concat(t).concat(JSON.stringify({type:"workplace",acknowledge:a,packages:o,deploy:!0,actions:[{type:"loadProject",payload:{files:{"Main.mo":Object(Mt.e)(e)}}}]})),Ui)}),500),o=function(e){var r=e.source,o=e.origin,c=e.data;if(r===n&&o===Ui&&"string"===typeof c&&c.startsWith(t))try{var s=JSON.parse(c.substring(t.length));s.acknowledge===a&&i(s)}catch(u){k.emit(u)}};window.addEventListener("message",o,!1);var i=function(e){e||console.warn("No acknowledgement for",t),clearInterval(a),window.removeEventListener("message",o)}}catch(c){k.emit(u.c,c)}}))),{},{children:[Object(m.jsx)(me.z,{className:"mt-1 me-2"}),"Build & Run"]}))]})]})}var Wi=n(80),Zi=n(86),Ji=n.n(Zi),Ki=n(41),Xi=["value","constraintType","abstract","invalid","onChange"],Qi=function(t,e){var n;return(n=t.data.baseType).of.apply(n,Object(bt.a)(e))};function $i(t){var e,n,r,o,i=t.value,c=t.constraintType,s=t.abstract,l=t.invalid,p=t.onChange,d=Object(k.a)(t,Xi);c=c||It.c;var f=Object(bt.a)(It.a.values()).filter((function(t){return!t.data.hidden&&(s||!t.data.abstract||t.data.arbitraryGenericType)&&c.isSubtype(t)})),b=Object(a.useContext)(u.g);if(i)try{i=Object(It.o)(i)}catch(y){p(i=c),b.emit(u.c,y)}l=l||!i||!f.some((function(t){return t.isSubtype(i)}));var v=null===(e=i)||void 0===e?void 0:e.data.baseType.data.arbitraryGenericType;return Object(z.a)(),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("select",Object(x.a)(Object(x.a)({className:T()(l&&"invalid"),value:null===(n=i)||void 0===n?void 0:n.name,onChange:function(t){var e=Object(It.o)({name:t.target.value});p(e)}},d),{},{children:[(l||!i||!f.some((function(t){return t.name===i.name&&t.isSubtype(i)})))&&Object(m.jsx)("option",{label:"(Type)",value:null===(r=i)||void 0===r?void 0:r.name}),f.map((function(t){return Object(m.jsx)("option",{label:t.name,value:t.name},t.name)}))]})),i&&Object(m.jsxs)("div",{className:"ps-2",children:[null===(o=i.generics)||void 0===o?void 0:o.map((function(t,e){var n;return Object(m.jsx)($i,{value:t,constraintType:i.data.baseType.generics[e]||v,abstract:s,"data-tip":Bt(null===(n=i.data.genericNames)||void 0===n?void 0:n[e]),onChange:function(t){var n=Object(bt.a)(i.generics);n.splice(e,1,t),p(Qi(i,n))}},e)})),i.data.baseType===It.j&&Object(m.jsx)("input",{type:"text",className:T()("w-100"),autoComplete:"blocks-app",autoCorrect:"off",value:i.meta.motoko||"",placeholder:"Motoko expression",onChange:function(t){return p(i.withMeta({motoko:t.target.value||void 0}))}}),!!v&&Object(m.jsxs)("div",{className:"btn-group btn-group-sm mb-1",children:[Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"btn btn-outline-secondary pt-0 pb-1"},Object($.c)((function(){return p(Qi(i,[].concat(Object(bt.a)(i.generics),[v])))}))),{},{children:Object(m.jsx)(me.B,{})})),!!i.generics.length&&Object(m.jsx)("div",Object(x.a)(Object(x.a)({className:"btn btn-outline-secondary pt-0 pb-1"},Object($.c)((function(){return p(Qi(i,i.generics.slice(0,-1)))}))),{},{children:Object(m.jsx)(me.w,{})}))]})]})]})}var Yi={text:Wi.a,number:function(t){var e=t.control,n=t.bindInput,r=t.validation,a=r.min,o=r.max,i=r.step,c=Object(Ki.a)(e),s=Object(w.a)(c,2),u=s[0],l=s[1];return Object(m.jsx)("input",{type:"number",style:{width:"8em"},ref:n,min:a,max:o,step:i,value:u||0,onChange:function(t){return l(+t.target.value||t.target.value)}})},checkbox:function(t){var e=t.control,n=t.bindInput,r=Object(Ki.a)(e),a=Object(w.a)(r,2),o=a[0],i=a[1];return Object(m.jsxs)("label",{ref:n,children:[Object(m.jsx)("input",{type:"checkbox",checked:!!o,onChange:function(t){return i(t.target.checked)}}),Object(m.jsx)("span",{className:"input-title my-0",style:{verticalAlign:"top"},children:e.name})]})},node:function(t){var e,n=t.editor,r=t.control,o=t.bindInput,i=Object(Ki.a)(r),c=Object(w.a)(i,2),s=c[0],p=c[1],d=Object(a.useState)((function(){return Object(bt.a)(n.nodes)})),f=Object(w.a)(d,2),b=f[0],v=f[1],y=Object(a.useContext)(u.g);Object(l.a)(y,u.a,(function(){return v(Object(bt.a)(n.nodes))}));var h=null===(e=r.config.type)||void 0===e?void 0:e.meta.block,j=h&&(Array.isArray(h)?h:[h]).map((function(t){var e="string"===typeof t?t:t.name;return Object(Et.b)(e),e}));j&&(b=b.filter((function(t){return!j||j.includes(t.name)})));var g=!s||!b.some((function(t){return String(t.id)===String(s)&&(!j||j.includes(t.name))}));return Object(m.jsxs)("select",{ref:o,className:T()(g&&"invalid"),style:{maxWidth:"100%"},value:s,onChange:function(t){return p(t.target.value||void 0)},children:[Object(m.jsx)("option",{label:"(Select a Node)",value:void 0},-1),b.map((function(t){return Object(m.jsx)("option",{label:Ht(t,n),value:t.id},t.id)}))]})},type:function(t){var e=t.abstract,n=t.control,r=t.bindInput,a=Object(Ki.a)(n),o=Object(w.a)(a,2),i=o[0],c=o[1],s=n.config.type;It.F.isSubtype(s)&&(s=s.generics[0]);var u=!n.validate(i);return Object(m.jsx)("div",{ref:r,children:Object(m.jsx)($i,{value:i,constraintType:s,abstract:e,invalid:u,onChange:c})})}},tc=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(yt.a)(this,n),(o=e.call(this,r)).name=a,o.config=i,o.editor=t,o.render="react",o.component=("string"===typeof i.controlType?Yi[i.controlType]:i.controlType)||Wi.a,o.props=Object(x.a)(Object(x.a)({},i.controlProps),{},{validation:i.validation||{},control:Object(jt.a)(o),editor:t,bindInput:Jt.a}),o.events=new Ji.a,o}return Object(ht.a)(n,[{key:"validate",value:function(t){if(void 0===t&&!this.config.optional)return!1;if(null!==t&&void 0!==t){var e=this.config.validation;if(e){if("custom"in e&&!e.custom(t))return!1;if("minLength"in e&&t.length<e.minLength)return!1;if("maxLength"in e&&t.length>e.maxLength)return!1;if("min"in e&&t<e.min)return!1;if("max"in e&&t>e.max)return!1;if("step"in e&&t-(e.min||0)%e.step!==0)return!1;if("pattern"in e&&!e.pattern.test(t))return!1}}return!0}},{key:"getDefaultValue",value:function(){}},{key:"getValue",value:function(){var t=this.getData(this.key);return void 0===t?this.getDefaultValue():t}},{key:"setValue",value:function(t){var e,n;this.getData(this.key)!==t&&(this.putData(this.key,t),this.events.emit("update",t),null===(e=(n=this.config).onChange)||void 0===e||e.call(n,this))}}]),n}(wt.a),ec=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t,r,a){var o;return Object(yt.a)(this,n),e.call(this,t,r.key,a,Object(x.a)(Object(x.a)(Object(x.a)({},(null===(o=r.type)||void 0===o?void 0:o.data)||{}),r.config||{}),{},{prop:r,type:r.type,optional:r.optional}))}return Object(ht.a)(n,[{key:"getDefaultValue",value:function(){var t;return"controlDefault"in this.config?this.config.controlDefault:null===(t=this.config.type)||void 0===t?void 0:t.getDefaultValue()}},{key:"getValue",value:function(){var t,e=Object(gt.a)(Object(Ot.a)(n.prototype),"getValue",this).call(this);return(null===(t=this.config.type)||void 0===t?void 0:t.fromJSON)&&(e=this.config.type.fromJSON(e,this)),e}}]),n}(tc);function nc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=Object(It.o)(t),e.includes(t)||e.push(t);var n,r=Object(vt.a)(t.generics);try{for(r.s();!(n=r.n()).done;){var a=n.value;nc(a,e)}}catch(o){r.e(o)}finally{r.f()}return e}var rc=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t,r){var a;Object(yt.a)(this,n);var o=Object(It.o)(r.type);return(a=e.call(this,t,Object(x.a)(Object(x.a)({},o.data),{},{type:o}))).prop=r,a}return Object(ht.a)(n,[{key:"findProp",value:function(){return this.prop}},{key:"findLabel",value:function(){var t,e=this.findType(),n="",r=Object(vt.a)(nc(e));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!a.data.abstract){var o=a.meta.info||a.data.info;o&&(n&&(n+="<br>"),n+="".concat(a.toTypeString()," : ").concat(o))}}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"findType",value:function(){return this.data.type}},{key:"compatibleWith",value:function(t){if(!("findType"in t))return!1;var e=this.findType(),n=t.findType();return e.isSubtype(n)||n.isSubtype(e)}}]),n}(wt.d.Socket),ac=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t,r,a,o){var i;return Object(yt.a)(this,n),(i=e.call(this,r,a)).nodeId=t.id,i.nodeName=t.name,i.typeCompiler=o,i._isTypeOfType=It.F.isSubtype(i.prop.type),i}return Object(ht.a)(n,[{key:"findType",value:function(){if(this.typeCompiler.editor.silent)return Object(gt.a)(Object(Ot.a)(n.prototype),"findType",this).call(this);try{var t=this.typeCompiler.getOutput(this.nodeId,this.prop.key);if(t)return this._isTypeOfType&&(It.F.isSubtype(t)&&console.warn("Type of Type of Type (Intentional?)"),t=It.F.of(t)),t||Object(gt.a)(Object(Ot.a)(n.prototype),"findType",this).call(this)}catch(e){console.warn("Error on socket [".concat(this.nodeName,".").concat(this.prop.key,"]:"),e)}return Object(gt.a)(Object(Ot.a)(n.prototype),"findType",this).call(this)}}]),n}(rc),oc=function(t){Object(xt.a)(n,t);var e=Object(kt.a)(n);function n(t){var r,a;return Object(yt.a)(this,n),(a=e.call(this,t.name)).block=t,a.keywords=[].concat(Object(bt.a)(Object(qt.a)(t.name).toLowerCase().split(" ").filter((function(t){return t}))),Object(bt.a)((null===(r=t.title)||void 0===r?void 0:r.split(" ").filter((function(t){return t})))||[]),Object(bt.a)(t.keywords||[])),a}return Object(ht.a)(n,[{key:"getEditorNode",value:function(t){return this.editor.nodes.find((function(e){return e.id===t.id}))}},{key:"getControls",value:function(t){return this.getEditorNode(t).controls}},{key:"builder",value:function(){var t=Object(O.a)(g.a.mark((function t(e){var n,r,a,o,i,c,s,u,l,p,d,f,m,b,v=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.editor.trigger("prenodecreate",e,this),n=function(t,n){var o=Ut(t),i=n?new ac(e,o,t,v.editor.compilers.type):new rc(o,t);return!!t.type.data.reversed===n?r(t,i,n):a(t,i,n)},r=function(t,n,r){var a=Ut(t),i=new wt.d.Input(t.key,a,n,t.type.data.reversed||!!t.multi);return o(t,n,r)&&i.addControl(new ec(v.editor,t,a)),e.addInput(i),i},a=function(t,n,r){var a=Ut(t),i=new wt.d.Output(t.key,a,n,!t.type.data.reversed||!!t.multi);return e.addOutput(i),o(t,n,r)&&e.addControl(new ec(v.editor,t,a)),i},o=function(t,e,n){return t.control||!!e.data.reversed===n&&e.data.controlType&&!t.multi},i=Object(vt.a)(this.block.inputs);try{for(i.s();!(c=i.n()).done;)s=c.value,n(s,!1)}catch(y){i.e(y)}finally{i.f()}u=Object(vt.a)(this.block.outputs);try{for(u.s();!(l=u.n()).done;)p=l.value,n(p,!0)}catch(y){u.e(y)}finally{u.f()}d=Object(vt.a)(this.block.controls);try{for(d.s();!(f=d.n()).done;)m=f.value,b=Ut(m),e.addControl(new ec(this.editor,m,b))}catch(y){d.e(y)}finally{d.f()}case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(wt.d.Component),ic=["input","textarea"];function cc(t){var e,n=t.observable,r=t.onSetup,o=t.onChange,i=t.onSave,c=t.history,s=lo(),p=Object(w.a)(s,1)[0],d=Object(a.useContext)(u.g),b=Object(a.useContext)(Vt);Object(l.a)(d,u.a,(function(t){t===e&&(e.trigger("change"),null===o||void 0===o||o(e),p&&d.emit(u.b,e))})),Object(l.a)(d,u.b,(function(t){t===e&&(null===i||void 0===i||i(e.toJSON(),e))}));function v(t){return y.apply(this,arguments)}function y(){return(y=Object(O.a)(g.a.mark((function t(n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,e.fromJSON(n);case 4:return(r=t.sent)&&(e.view.resize(),re.a.zoomAt(e),e.nodes.forEach((function(t){return t.update()})),setTimeout((function(){return d.emit(u.a,e)}))),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return _o((function(){return Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===r||void 0===r?void 0:r(v,e);case 2:n.set(e);case 3:case"end":return t.stop()}}),t)})))().catch((function(t){return d.emit(u.c,t)}))})),Object(m.jsx)("div",{className:"h-100",ref:function(t){if(e&&(e.silent=!0,e.clear(),e.components.clear(),e.destroy(),e=null),t){for(;t.firstChild;)t.removeChild(t.firstChild);var n=document.createElement("div");n.style.height="100%",t.appendChild(n),e=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).history,n=new Lt("blocks-webapp@0.3.0",t);n.use(At.c,{component:Yt}),n.use(Re,{history:e}),n.use(te.a),n.use(ne.a),n.use(re.a,{background:function(){var t=document.createElement("div");return t.classList.add("grid"),t.style.pointerEvents="none",window.chrome||n.on("zoom",(function(e){var n=e.zoom;t.classList.toggle("far",n<=1),t.classList.toggle("d-none",n<=.5)})),n.on("destroy",(function(){return t.remove()})),t}(),snap:{size:16,dynamic:!0}}),n.use(Te),n.use(Ne),n.use(Pe),n.use(Me),n.use(Se,{editorButton:2});var r=function(){return setTimeout((function(){var t=Fe.get(),e=n.selected.list;(t.length!==e.length||t.some((function(t,n){return t!==e[n]})))&&Fe.set(Object(bt.a)(e))}))},a=!1;return n.view.container.addEventListener("mousedown",(function(t){a=!1})),n.on("mousemove",(function(t){a=!0})),n.on("click",(function(t){t.e,a||(n.selected.clear(),n.nodes.forEach((function(t){return t.update()}))),r()})),n.on("zoom",(function(t){return"dblclick"!==t.source})),n.on("nodeselect",(function(t){return!n.selected.contains(t)})),n.on("nodeselected",(function(){return r()})),n.on("renderconnection",(function(t){var e=t.el,n=t.connection;e.style.zIndex="-10";var r=De((n.input.socket.data.reversed?n.input:n.output).socket);e.querySelector(".connection").classList.add("socket-output-category-".concat(r))})),n.on("nodecreate",(function(t){for(;n.nodes.some((function(e){return t!==e&&t.id===e.id}));)t.id=Math.random().toString(36).slice(2,8)})),n.on("nodecreated",(function(t){Le.set(t)})),n}(n,{history:c}),window.EDITOR=e;var r=function(t){var n=t.key;if(t.ctrlKey||t.metaKey)"s"===n&&(t.preventDefault(),d.emit(u.b,e),console.log("Saved successfully")),"z"===n&&e.trigger(t.shiftKey?"redo":"undo"),"y"===n&&e.trigger("redo");else if(!document.activeElement||!ic.includes(document.activeElement.nodeName.toLowerCase())){var r=Gn.get(n);if(r&&dr.set(dr.get()===r?null:r),"Delete"===n)e.selected.each((function(t){return e.removeNode(t)})),f.a.hide();else{var a=Un.get(n);a&&e.createNodeAtCursor(e.getComponent(a.name)).catch((function(t){return d.emit("error",t)}))}}};document.addEventListener("keydown",r),e.on("destroy",(function(){return document.removeEventListener("keydown",r)}));var a,o,i=Object(vt.a)(Et.a.values());try{for(i.s();!(a=i.n()).done;){var s=a.value,l=new oc(s);e.register(l)}}catch(y){i.e(y)}finally{i.f()}e.on(["nodecreated","noderemoved","nodedragged","connectioncreated","connectionremoved"],Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.silent||(clearTimeout(o),o=setTimeout((function(){d.emit(u.a,e)})));case 1:case"end":return t.stop()}}),t)})))),e.on("error",(function(t){return d.emit(u.c,t)}));var p=function(t,e){m=null;var n,r=Object(vt.a)(b);try{for(r.s();!(n=r.n()).done;){(0,n.value)(!1,t,e)}}catch(y){r.e(y)}finally{r.f()}},m=null,v=!1;e.on("mousemove",(function(){v=!0})),e.on("connectionpick",(function(t){if(0===window.event.button){var n=t.connections[0];if(window.event.ctrlKey)return n&&e.removeConnection(n),!1;if(v=!1,m)p(m,t);else{var r=Object(bt.a)(t.connections);setTimeout((function(){if(t.connections.length<r.length){var e=r.find((function(e){return!t.connections.includes(e)}));m=t===e.input?e.output:e.input}else m=t;var n,a=Object(vt.a)(b);try{for(a.s();!(n=a.n()).done;){(0,n.value)(!0,m)}}catch(y){a.e(y)}finally{a.f()}}))}}})),e.on("connectiondrop",(function(t){if(v){var e=Object(bt.a)(t.connections);setTimeout((function(){t.connections.length!==e.length||t.connections.some((function(t,n){return t.input!==e[n].input||t.output!==e[n].output}))||p(t)}))}})),e.on(["nodecreated","noderemoved","connectionremoved"],(function(){p()}))}}})}var sc=n(273),uc=n(275);function lc(t){return function(t){var e=Object(a.useState)({}),n=Object(w.a)(e,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){for(var e=[],n=function(){var t=Object(w.a)(i[a],2),n=t[0],c=t[1];r[n]=c.get(),e.push(c.subscribe((function(t){t!==r[n]&&(r[n]=t,o(Object(x.a)({},r)))})))},a=0,i=Object.entries(t);a<i.length;a++)n();return function(){return e.forEach((function(t){return t()}))}}),[t]),r}(Object(a.useMemo)((function(){return t.tutorial.setupVariables(t)}),[t]))}var pc,dc,fc,mc,bc=["title","icon","iconTooltip","hideCloseButton","children"],vc=Object(d.d)(Ya)(pc||(pc=Object(p.a)(["\n    width: 24px;\n    fill: #FFF;\n"]))),yc=Object(d.d)(sc.a)(dc||(dc=Object(p.a)(["\n    opacity: .9;\n    box-shadow: 0 2px 12px #0005;\n    border: none;\n    max-width: 30rem;\n    font-size: 18px;\n    font-weight: 500;\n"]))),hc=Object(d.d)(sc.a.Header)(fc||(fc=Object(p.a)(["\n    //background: #8649E1\n"]))),jc=Object(d.b)(mc||(mc=Object(p.a)(["\n    ","\n    ","\n"])),(function(t){return t.tutorialCss}),(function(t){return t.stepCss}));function gc(t){var e=t.title,n=t.icon,r=t.iconTooltip,a=t.hideCloseButton,o=t.children,i=Object(k.a)(t,bc),c=ir(),s=Object(w.a)(c,2)[1];return Object(z.a)(),Object(m.jsxs)(yc,Object(x.a)(Object(x.a)({},i),{},{children:[(n||e)&&Object(m.jsx)(hc,{className:"helper-card-header bg-info py-3",children:Object(m.jsxs)("h4",{className:"mb-0 d-flex align-items-center justify-content-start text-white",children:[Object(m.jsx)("span",{className:"me-3 mb-1","data-tip":r,"data-place":"top","data-delay-show":0,children:n||Object(m.jsx)(vc,{})}),e&&Object(m.jsx)("span",{className:"me-3 flex-grow-1",children:e}),!a&&Object(m.jsx)("span",{className:"float-end",children:Object(m.jsx)(it.f,Object(x.a)({className:"clickable text-white"},Object($.c)((function(){return s(null)}))))})]})}),Object(m.jsx)(sc.a.Body,{className:"helper-card-body",children:o})]}))}function Oc(t){var e,n=t.progress,r=t.onComplete,a=lc(n),o=n.tutorial,i=n.editor,c=function(t,e){for(var n=t.tutorial,r=0;r<n.steps.length;){var a,o=n.steps[r];if(!(null===(a=o.isComplete)||void 0===a?void 0:a.call(o,t,e)))break;r++}return r===n.steps.length?null:n.steps[r]}(n,a);if(sr.set(c),Object(l.a)(i,"prenodecreate",(function(t){!i.silent&&c&&c.setupNode&&c.setupNode(t,n,a)})),!c)return Object(m.jsxs)(gc,{title:"Congratulations!",icon:Object(m.jsx)(it.e,{}),children:['You completed our "',o.name,'" tutorial.',Object(m.jsx)("hr",{}),Object(m.jsx)(Zt.a,{className:"d-flex",children:Object(m.jsx)(uc.a,Object(x.a)(Object(x.a)({variant:"success"},Object($.c)((function(){return r()}))),{},{children:"Close"}))})]});var s=null===(e=c.render)||void 0===e?void 0:e.call(c,n,a);return Object(m.jsxs)(gc,{title:c.title||o.name,iconTooltip:"".concat(o.name," (").concat(o.description,")"),children:[c.info,s&&c.info&&Object(m.jsx)("hr",{}),s,(o.style||c.style)&&Object(m.jsx)(jc,{tutorialCss:o.style,stepCss:c.style})]})}function xc(){var t=ir(),e=Object(w.a)(t,2),n=e[0],r=e[1],o=function(){var t=Object(st.a)("familiarity",Object(cr.a)()?"familiar":null);return"none"===t&&(t=null),Object(V.a)("blocks.familiarity",t)}(),i=Object(w.a)(o,2),c=i[0],s=i[1];window.resetTutorial=function(){r(null),s(null)};var u=Object(a.useCallback)((function(){r({tutorial:Bn}),s("learning")}),[s,r]),l=Object(a.useCallback)((function(){s("familiar")}),[s]),p=Object(a.useCallback)((function(){r(null)}),[r]);return n?Object(m.jsx)(Oc,{progress:n,onComplete:p}):c?null:Object(m.jsx)(gc,{title:"New to Blocks?",hideCloseButton:!0,children:Object(m.jsxs)(Zt.a,{className:"d-flex",children:[Object(m.jsx)(uc.a,Object(x.a)(Object(x.a)({variant:"success"},Object($.c)(u)),{},{children:"Start Tutorial"})),Object(m.jsx)(uc.a,Object(x.a)(Object(x.a)({variant:"",className:"text-muted"},Object($.c)(l)),{},{children:"Skip"}))]})})}var kc,wc=["observable","onSetup","onChange","onSave","history","className"],Cc=[".blocks",".blocks.json"],Tc=d.d.div(kc||(kc=Object(p.a)(["\n    width: 100%;\n    height: 100vh;\n"])));function Nc(t){var e=t.observable,n=Object(an.a)(e),r=Object(w.a)(n,1)[0];return r?Object(m.jsxs)(m.Fragment,{children:[!bn()&&Object(m.jsx)(Mi,{editor:r}),Object(m.jsx)(io,{top:!0,left:!0,children:Object(m.jsx)(xc,{})}),Object(m.jsx)(Gi,{editor:r})]}):null}function Ic(t){var e=t.observable,n=t.onSetup,r=t.onChange,o=t.onSave,i=t.history,c=t.className,s=Object(k.a)(t,wc),l=Object(a.useContext)(u.g),p=function(t){pr("project_import");try{var e=JSON.parse(t);l.emit(u.f,e)}catch(n){l.emit(u.c,n)}};return Object(m.jsx)(nt.Provider,{value:p,children:Object(m.jsx)(tt,{options:{noClick:!0,accept:Cc.join(",")},onFileContent:p,children:Object(m.jsxs)(Tc,Object(x.a)(Object(x.a)({className:T()("node-editor d-flex flex-grow-1 flex-column",c)},s),{},{children:[Object(m.jsx)(Nc,{observable:e}),Object(m.jsx)(cc,{observable:e,onSetup:n,onChange:r,onSave:o,history:i})]}))})})}var Pc=n(124),_c=n.n(Pc),Mc=n(82);var Sc=" ".repeat(4);function Lc(t,e){for(var n=0;n<t.length;n++){var r=Object(w.a)(t[n],2),a=r[0],o=r[1];if(!o.startsWith("//"))if(o.startsWith("import")){var i=o.split(" ");e.imports.push({name:i[i.length-2],path:i[i.length-1].slice(1,-1)})}else{for(var c=[],s=n+1;s<t.length;s++){var u=Object(w.a)(t[s],2),l=u[0],p=u[1];if(!(l>a)){n=s-1;break}c.push([l-1,p])}o.includes("actor class")&&Ac(o,c,e),o.includes("type ")&&Ec(o,c,e),(o.includes("var ")||o.includes("let "))&&Rc(o,c,e),o.includes("func ")&&Fc(o,c,e)}}}function Ac(t,e,n){for(var r,a=/([a-zA-Z_][a-zA-Z0-9_]*) *: *([^,)]+)/g;null!==(r=a.exec(t));){var o=r,i=Object(w.a)(o,3),c=i[1],s=i[2];n.params.push({name:c,type:s.trim()})}Lc(e,n)}function Ec(t,e,n){if(e.length)throw new Error("Unable to parse multi-line type definition: ".concat(t));var r=/type +([a-zA-Z_][a-zA-Z0-9_]*) =(.+)/.exec(t);if(!r)throw new Error("Unable to parse state definition: ".concat(t));var a=Object(w.a)(r,3),o=a[1],i=a[2];n.types.push({name:o,type:null===i||void 0===i?void 0:i.trim(),visibility:Hc(t)})}function Rc(t,e,n){if(e.length)throw new Error("Unable to parse multi-line state definition: ".concat(t));var r=/(let|var) +([a-zA-Z_][a-zA-Z0-9_]*) +(:[^=]*)?=(.+)/.exec(t);if(!r)throw new Error("Unable to parse state definition: ".concat(t));var a=Object(w.a)(r,5),o=a[1],i=a[2],c=a[3],s=a[4],u=t.split(" ").map((function(t){return t.trim()})).filter((function(t){return t}));n.states.push({name:i,type:null===c||void 0===c?void 0:c.trim(),initialValue:s.trim(),visibility:Hc(t),stable:u.includes("stable"),readonly:"let"===o})}function Fc(t,e,n){if(!e.length)throw new Error("Unable to parse single-line function definition: ".concat(t));var r=/func +([a-zA-Z_][a-zA-Z0-9_]*)/.exec(t);if(!r)throw new Error("Unable to parse function definition: ".concat(t));for(var a,o=Object(w.a)(r,2)[1],i=/: *([^){=]+) {$/.exec(t),c=i?i[1].trim():"Unit",s=[],u=/([a-zA-Z_][a-zA-Z0-9_]*) *: *([^,)]+)/g;null!==(a=u.exec(t));){var l=a,p=Object(w.a)(l,3),d=p[1],f=p[2];s.push({name:d,type:f.trim()})}var m=t.split(" ").map((function(t){return t.trim()})).filter((function(t){return t}));n.functions.push({name:o,params:s,returnType:c,visibility:Hc(t),shared:m.includes("shared"),query:m.includes("query"),body:e.map((function(t){var e=Object(w.a)(t,2),n=e[0],r=e[1];return"".concat(Sc.repeat(n)).concat(r)})).join("\n")})}function Hc(t){return t.includes("public ")?"public":t.includes("private ")?"private":"system"}function Dc(t){return"()"===(t=t.trim())?It.H:t.startsWith("async ")?It.e.of(Dc(t.substring("async ".length))):t.startsWith("?")?It.z.of(Dc(t.substring(1))):It.a.get(t)||It.j}var zc,qc="blocks.editorState",Bc=n(260),Uc=Object(cr.a)(),Vc=Uc?{}:localStorage,Gc=new Ae(50);function Wc(){var t=function(){var t=Object(a.useState)({})[1];return function(){return t({})}}(),e=Object(a.useContext)(u.g);window.LOAD_MOTOKO=function(t){var n=function(t){var e={imports:[],params:[],types:[],states:[],functions:[]};return Lc((t||"").replace(/\t/g,Sc).replace(/\r/g,"").replace(/;\n/g,"\n").split("\n").map((function(t,e){for(var n=0;t.startsWith(Sc);)n++,t=t.substring(4);return[n,t.trim(),e]})).filter((function(t){return!!Object(w.a)(t,2)[1].trim()})),e),e}(t);console.log(n);var r=function(t){var e={name:"(Generated)",nodes:{}};t.imports.forEach((function(t,e){t.name,t.path})),t.params.forEach((function(t,n){var r=t.name,a=t.type;e.nodes["main_param_".concat(r)]={type:"MainParameter",position:[300*n,-300],data:{name:r,type:Dc(a)}}})),t.types.forEach((function(t,n){var r=t.name,a=t.type,o=t.visibility;e.nodes["type_".concat(r)]={type:"TypeMember",position:[-500,300*n],data:{name:r,typeInput:Dc(a),visibility:o}}})),t.states.forEach((function(t,n){var r=t.name,a=t.type,o=t.initialValue,i=t.visibility,c=t.stable,s=t.readonly,u=300*n;e.nodes["state_".concat(r)]={type:"State",position:[-1e3,u],data:{name:r,visibility:i,stable:c,readonly:s}},e.nodes["initial_".concat(r)]={type:"CodeValue",position:[-1500,u],data:{type:Dc(a),expression:o},outputs:{result:[{node:"state_".concat(r),input:"initialValue"}]}}}));var n=function(t,n){var a=t.name,o=t.params,i=t.returnType,c=t.visibility,s=t.shared,u=t.query,l=t.body;i=Dc(i),"public"===c&&It.e.isSubtype(i)&&(i=i.generics[0]);var p=r,d=350*n;e.nodes["func_".concat(a)]={type:"Function",position:[p,d],data:{name:a,visibility:c,shared:s,query:u},outputs:{body:[{node:"body_".concat(a),input:"before"}],params:o.map((function(t){var e=t.name;return{node:"param_".concat(a,"_").concat(e),input:"param"}}))}},o.forEach((function(t,n){var r=t.name,i=t.type;e.nodes["param_".concat(a,"_").concat(r)]={type:"Parameter",position:[p+250,d+20+Math.max(0,60*(2-o.length))+120*n],data:{name:r,type:Dc(i)}}})),e.nodes["body_".concat(a)]={type:"CodeStatement",position:[p+500,d],data:{type:i,expression:l}}},r=0;return t.functions.filter((function(t){return"public"!==t.visibility})).forEach(n),r+=1500,t.functions.filter((function(t){return"public"===t.visibility})).forEach(n),e}(n);return e.emit(u.f,r),r},Object(l.a)(e,u.d,(function(){pr("project_clear"),zc=Bc,t()})),Object(l.a)(e,u.f,(function(e){pr("project_load",{project:e.name||""}),zc=e,t()})),Object(l.a)(e,u.e,(function(t){pr("project_export",{project:t.name||""});var e=JSON.stringify(t);_c.a.saveAs(new Blob([e]),"".concat(Object(Mc.a)(t.name||"project"),".blocks"))})),Object(l.a)(window,"message",(function(e){var n,r=e.source,a=e.data;Uc&&r===window.parent&&("string"===typeof a&&a.startsWith("{")&&"load"===(null===(n=a=JSON.parse(a))||void 0===n?void 0:n.type)&&(zc=a.state?JSON.parse(JSON.stringify(a.state)):Bc,t()))}));var n=Object(a.useCallback)(function(){var t=Object(O.a)(g.a.mark((function t(e,n){var r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=zc?JSON.stringify(zc):Vc[qc],zc=null,r?a=JSON.parse(r):Uc||(a=Bc),t.t0=a,!t.t0){t.next=8;break}return t.next=7,e(a);case 7:t.t0=!t.sent;case 8:if(!t.t0){t.next=10;break}console.warn("Load error");case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[]),r=Object(a.useCallback)((function(t){var e=t.toJSON();t.trigger("history",e),mt.set(e)}),[]),o=Object(a.useCallback)((function(t,e){var n;Vc[qc]=JSON.stringify(t),n={type:"save",state:t},Uc&&window.parent.postMessage(n,"*")}),[]);return Object(m.jsx)(Ic,{observable:er,onSetup:n,onChange:r,onSave:o,history:Gc})}function Zc(){return Object(m.jsx)(Wc,{})}function Jc(t){var e=t.children,n=Object(lr.b)(),r=Object(w.a)(n,1)[0],o=uo(),i=Object(w.a)(o,1)[0],c=["theme-".concat(r.id)].concat(Object(bt.a)(r.parts.filter((function(t){return i[t]})).map((function(t){return"theme-part-".concat(t)}))));return Object(a.useEffect)((function(){var t;return(t=document.body.classList).add.apply(t,Object(bt.a)(c)),function(){var t;return(t=document.body.classList).remove.apply(t,Object(bt.a)(c))}})),Object(m.jsx)(d.a,{theme:r.styledComponents,children:e})}var Kc=Object(ct.a)(null),Xc=Object(ct.a)(null);function Qc(){return Object(l.a)(document,"keydown",(function(t){Kc.set(t.key)})),Object(l.a)(document,"keyup",(function(t){Xc.set(t.key)})),null}function $c(){var t=Object(a.useContext)(u.g);return Object(l.a)(t,u.c,(function(t){Object(s.b)(t,{type:"error"})})),Object(a.useEffect)((function(){var t="blocks.safariWarning";!ae.isSafari||sessionStorage[t]||Object(cr.a)()||Object(s.b)("If you're experiencing performance issues, we recommend using Blocks in Google Chrome or Mozilla Firefox.",{autoClose:!1,onClose:function(){sessionStorage[t]="true"}})})),Object(m.jsxs)(o.a.StrictMode,{children:[Object(m.jsx)(Qc,{}),Object(m.jsx)(v,{}),Object(m.jsx)(h.a,{children:Object(m.jsxs)(Jc,{children:[Object(m.jsx)(s.a,{style:{marginTop:"5rem"},position:"top-right"}),Object(m.jsx)(Zc,{})]})})]})}c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)($c,{})}),document.getElementById("root"))},function(t,e,n){"use strict";n.r(e);var r,a,o=n(3),i=n(7),c=n(4),s=n(5),u=n(12),l=(n(1),n(127)),p=n(11),d=n(63),f=n(41),m=n(26),b=n(2),v=p.d.div(r||(r=Object(u.a)(["\n    cursor: pointer;\n    color: black;\n    background: ",";\n"])),(function(t){return t.selected?"#FFFA":"#FFF8"})),y=Object(p.d)(l.a)(a||(a=Object(u.a)(["\n    font-weight: 500;\n    resize: horizontal;\n    background: #FFF8;\n"])));var h={info:"A text comment",useCases:[n(15).f],category:i.c,global:!0,component:function(t){t.block;var e,n=t.nodeHandle,r=n.props.node,a=n.state.selected,o=Object(f.a)(r.controls.get("text")),i=Object(s.a)(o,2),u=i[0],l=i[1],p=Object(f.a)(r.controls.get("widthPixels")),h=Object(s.a)(p,2),j=h[0],g=h[1];return Object(b.jsx)(v,Object(c.a)(Object(c.a)({ref:function(t){t&&(t.parentElement.style.zIndex="1")},className:"pt-2 ps-2 pe-4 rounded-3",selected:a},Object(m.b)((function(){return e&&g(e.offsetWidth)}))),{},{children:Object(b.jsx)(y,{style:{width:j||300},rows:1,maxRows:100,ref:function(t){return Object(d.a)(t)&(e=t)},value:u||"",placeholder:"Comment",onChange:function(t){return l(t.target.value)}})}))},controls:[{key:"text",type:o.D},{key:"widthPixels",type:o.l}]};e.default=h},function(t,e,n){"use strict";n.r(e);var r,a,o=n(3),i=n(7),c=n(4),s=n(5),u=n(12),l=(n(1),n(11)),p=n(41),d=n(63),f=n(26),m=n(2),b=l.d.div(r||(r=Object(u.a)(["\n    cursor: pointer;\n    border: 2px solid ",";\n"])),(function(t){return t.selected?"#fffa":"#fff8"})),v=l.d.div(a||(a=Object(u.a)(["\n    user-select: none;\n    cursor: default;\n    background: #fff1;\n    resize: both;\n    overflow: hidden;\n"])));var y=n(19),h={title:"Region",info:"A background region",useCases:[n(15).i],category:i.c,icon:y.J,component:function(t){t.block;var e=t.nodeHandle,n=e.props.node,r=e.state.selected,a=Object(p.a)(n.controls.get("widthPixels")),o=Object(s.a)(a,2),i=o[0],u=o[1],l=Object(p.a)(n.controls.get("heightPixels")),y=Object(s.a)(l,2),h=y[0],j=y[1];return Object(m.jsx)(b,{ref:function(t){t&&(t.parentElement.style.zIndex="-1")},className:"p-2 rounded-3",selected:r,children:Object(m.jsx)(v,Object(c.a)({ref:d.a,style:{width:i||300,height:h||100}},Object(f.b)((function(t){return u(t.target.clientWidth)&j(t.target.clientHeight)}))))})},controls:[{key:"text",type:o.D},{key:"widthPixels",type:o.l},{key:"heightPixels",type:o.l}]};e.default=h},function(t,e,n){"use strict";n.r(e);var r=n(19),a=n(7),o=n(5),i=(n(1),n(13)),c=n.n(i),s=n(41),u=n(92),l=n(2),p=[["repo","Repo"],["version","Branch"],["dir","Directory"],["homepage","Homepage"]];var d=n(3),f=n(15),m={title:"Package",info:"Import an external package from GitHub",category:a.n,useCases:[f.j,f.d],icon:r.p,global:!0,width:10,topRight:"reference",inputs:[{key:"name",type:d.p}],outputs:[{key:"reference",type:d.p,toMotoko:function(t){return t.name}}],controls:[{key:"repository",title:"GitHub address",config:{controlType:function(t){var e=t.control,n=t.bindInput,r=Object(s.a)(e),a=Object(o.a)(r,2),i=a[0],d=a[1],f=!e.validate(i),m=Object(u.a)(i);return Object(l.jsxs)("div",{ref:n,children:[Object(l.jsx)("input",{type:"text",className:c()("w-100",f&&"invalid"),autoComplete:"blocks-app",autoCorrect:"off",ref:n,value:i||"",placeholder:e.name,minLength:1,onChange:function(t){return d(t.target.value||void 0)}}),!!m&&Object(l.jsx)("div",{className:"mt-2",children:p.map((function(t){var e=Object(o.a)(t,2),n=e[0],r=e[1];return!!m[n]&&Object(l.jsxs)("div",{className:"d-flex mb-1",children:[Object(l.jsx)("small",{className:"flex-grow-1 opacity-50",children:r}),Object(l.jsx)("small",{className:"text-success fw-bold",children:m[n]})]},n)}))})]})}}}]};e.default=m}],[[261,1,2]]]);
//# sourceMappingURL=main.492f449b.chunk.js.map